(self.webpackChunkestafette_ci_web=self.webpackChunkestafette_ci_web||[]).push([[886],{5193:function(t,e,n){"use strict";n.d(e,{T:function(){return F}});var r=n(2989),i=n(9558),a=n(356),o=n(9340),l=n(1572),s=n(7023),u=n(6410),c=n(3284),p=n(7040),d=n(6595),f=n(7347);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b="BButton",g={block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:String,default:function(){return(0,s.wJ)(b,"size")}},variant:{type:String,default:function(){return(0,s.wJ)(b,"variant")}},type:{type:String,default:"button"},tag:{type:String,default:"button"},pill:{type:Boolean,default:!1},squared:{type:Boolean,default:!1},pressed:{type:Boolean,default:null}},y=(0,f.U4)();delete y.href.default,delete y.to.default;var _=(0,p.XP)(y),S=h(h({},y),g),O=function(t,e){return(0,d.BB)(t).toLowerCase()===(0,d.BB)(e).toLowerCase()},C=function(t){"focusin"===t.type?(0,u.cn)(t.target,"focus"):"focusout"===t.type&&(0,u.IV)(t.target,"focus")},P=function(t){return t.href||t.to||O(t.tag,"a")},x=function(t){return(0,c.jn)(t.pressed)},B=function(t){return!(P(t)||t.tag&&!O(t.tag,"button"))},w=function(t){return!P(t)&&!B(t)},Z=function(t){var e;return["btn-".concat(t.variant||(0,s.wJ)(b,"variant")),(e={},v(e,"btn-".concat(t.size),t.size),v(e,"btn-block",t.block),v(e,"rounded-pill",t.pill),v(e,"rounded-0",t.squared&&!t.pill),v(e,"disabled",t.disabled),v(e,"active",t.pressed),e)]},z=function(t){return P(t)?(0,o.Z)(_,t):null},E=function(t,e){var n=B(t),r=P(t),i=x(t),a=w(t),o=r&&"#"===t.href,l=e.attrs&&e.attrs.role?e.attrs.role:null,s=e.attrs?e.attrs.tabindex:null;return(a||o)&&(s="0"),{type:n&&!r?t.type:null,disabled:n?t.disabled:null,role:a||o?"button":l,"aria-disabled":a?String(t.disabled):null,"aria-pressed":i?String(t.pressed):null,autocomplete:i?"off":null,tabindex:t.disabled&&!n?"-1":s}},F=r.Z.extend({name:b,functional:!0,props:S,render:function(t,e){var n=e.props,r=e.data,o=e.listeners,s=e.children,u=x(n),p=P(n),d=w(n),m=p&&"#"===n.href,h={keydown:function(t){if(!n.disabled&&(d||m)){var e=t.keyCode;if(e===a.Z.SPACE||e===a.Z.ENTER&&d){var r=t.currentTarget||t.target;t.preventDefault(),r.click()}}},click:function(t){n.disabled&&(0,c.cO)(t)?(t.stopPropagation(),t.preventDefault()):u&&o&&o["update:pressed"]&&(0,l.zo)(o["update:pressed"]).forEach((function(t){(0,c.mf)(t)&&t(!n.pressed)}))}};u&&(h.focusin=C,h.focusout=C);var v={staticClass:"btn",class:Z(n),props:z(n),attrs:E(n,r),on:h};return t(p?f.we:n.tag,(0,i.b)(r,v),s)}})},6982:function(t,e,n){"use strict";n.d(e,{K:function(){return C}});var r=n(2989),i=n(1572),a=n(6410),o=n(8735),l=n(3727),s=n(6944),u=n(9035),c=n(5505),p={props:{plain:{type:Boolean,default:!1}},computed:{custom:function(){return!this.plain}}},d=n(8280),f=n(7668),m=n(3284),h=n(7040),v=n(7568),b={props:{options:{type:[Array,Object],default:function(){return[]}},valueField:{type:String,default:"value"},textField:{type:String,default:"text"},htmlField:{type:String,default:"html"},disabledField:{type:String,default:"disabled"}},computed:{formOptions:function(){return this.normalizeOptions(this.options)}},methods:{normalizeOption:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((0,h.PO)(t)){var n=(0,f.ZP)(t,this.valueField),r=(0,f.ZP)(t,this.textField);return{value:(0,m.o8)(n)?e||r:n,text:(0,o.o)(String((0,m.o8)(r)?e:r)),html:(0,f.ZP)(t,this.htmlField),disabled:Boolean((0,f.ZP)(t,this.disabledField))}}return{value:e||t,text:(0,o.o)(String(t)),disabled:!1}},normalizeOptions:function(t){var e=this;return(0,i.kJ)(t)?t.map((function(t){return e.normalizeOption(t)})):(0,h.PO)(t)?((0,v.ZK)('Setting prop "options" to an object is deprecated. Use the array format instead.',this.$options.name),(0,h.XP)(t).map((function(n){return e.normalizeOption(t[n]||{},n)}))):[]}}},g={mixins:[b],props:{labelField:{type:String,default:"label"},optionsField:{type:String,default:"options"}},methods:{normalizeOption:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((0,h.PO)(t)){var n=(0,f.ZP)(t,this.valueField),r=(0,f.ZP)(t,this.textField),i=(0,f.ZP)(t,this.optionsField,null);return(0,m.Ft)(i)?{value:(0,m.o8)(n)?e||r:n,text:String((0,m.o8)(r)?e:r),html:(0,f.ZP)(t,this.htmlField),disabled:Boolean((0,f.ZP)(t,this.disabledField))}:{label:String((0,f.ZP)(t,this.labelField)||r),options:this.normalizeOptions(i)}}return{value:e||t,text:String(t),disabled:!1}}}},y=n(9558),_={value:{required:!0},disabled:{type:Boolean,default:!1}},S=r.Z.extend({name:"BFormSelectOption",functional:!0,props:_,render:function(t,e){var n=e.props,r=e.data,i=e.children,a=n.value,o=n.disabled;return t("option",(0,y.b)(r,{attrs:{disabled:o},domProps:{value:a}}),i)}}),O=r.Z.extend({name:"BFormSelectOptionGroup",mixins:[d.Z,b],props:{label:{type:String,required:!0}},render:function(t){return t("optgroup",{attrs:{label:this.label}},[this.normalizeSlot("first"),this.formOptions.map((function(e,n){return t(S,{props:{value:e.value,disabled:e.disabled},domProps:(0,o.U)(e.html,e.text),key:"option_".concat(n,"_opt")})})),this.normalizeSlot("default")])}}),C=r.Z.extend({name:"BFormSelect",mixins:[l.Z,d.Z,s.Z,u.Z,c.Z,p,g],model:{prop:"value",event:"input"},props:{value:{},multiple:{type:Boolean,default:!1},selectSize:{type:Number,default:0},ariaInvalid:{type:[Boolean,String],default:!1}},data:function(){return{localValue:this.value}},computed:{computedSelectSize:function(){return this.plain||0!==this.selectSize?this.selectSize:null},inputClass:function(){return[this.plain?"form-control":"custom-select",this.size&&this.plain?"form-control-".concat(this.size):null,this.size&&!this.plain?"custom-select-".concat(this.size):null,this.stateClass]},computedAriaInvalid:function(){return!0===this.ariaInvalid||"true"===this.ariaInvalid||"is-invalid"===this.stateClass?"true":null}},watch:{value:function(t){this.localValue=t},localValue:function(){this.$emit("input",this.localValue)}},methods:{focus:function(){(0,a.KS)(this.$refs.input)},blur:function(){(0,a.Cx)(this.$refs.input)}},render:function(t){var e=this;return t("select",{ref:"input",class:this.inputClass,directives:[{name:"model",rawName:"v-model",value:this.localValue,expression:"localValue"}],attrs:{id:this.safeId(),name:this.name,form:this.form||null,multiple:this.multiple||null,size:this.computedSelectSize,disabled:this.disabled,required:this.required,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid},on:{change:function(t){var n=t.target,r=(0,i.Dp)(n.options).filter((function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));e.localValue=n.multiple?r:r[0],e.$nextTick((function(){e.$emit("change",e.localValue)}))}}},[this.normalizeSlot("first"),this.formOptions.map((function(e,n){var r="option_".concat(n,"_opt"),a=e.options;return(0,i.kJ)(a)?t(O,{props:{label:e.label,options:a},key:r}):t(S,{props:{value:e.value,disabled:e.disabled},domProps:(0,o.U)(e.html,e.text),key:r})})),this.normalizeSlot("default")])}})},4909:function(t,e,n){"use strict";n.d(e,{N:function(){return a},e:function(){return o}});var r=n(2989),i=n(9558),a={id:{type:String},inline:{type:Boolean,default:!1},novalidate:{type:Boolean,default:!1},validated:{type:Boolean,default:!1}},o=r.Z.extend({name:"BForm",functional:!0,props:a,render:function(t,e){var n=e.props,r=e.data,a=e.children;return t("form",(0,i.b)(r,{class:{"form-inline":n.inline,"was-validated":n.validated},attrs:{id:n.id,novalidate:n.novalidate}}),a)}})},725:function(t,e,n){"use strict";n.d(e,{l:function(){return _}});var r=n(9558),i=n(8265),a=n(1051),o=n(3762),l=n(1572),s=n(7023),u=n(3284),c=n(7040),p=n(6595);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=/^col-/,v=function(){return{type:[String,Number],default:null}},b=(0,a.Z)((function(t,e,n){var r=t;if(!(0,u.Jp)(n)&&!1!==n)return e&&(r+="-".concat(e)),"col"!==t||""!==n&&!0!==n?(r+="-".concat(n),(0,p.vl)(r)):(0,p.vl)(r)})),g=(0,c.Ue)(null),y=function(){var t=(0,s.QC)().filter(i.Z),e=t.reduce((function(t,e){return e&&(t[e]={type:[Boolean,String,Number],default:!1}),t}),(0,c.Ue)(null)),n=t.reduce((function(t,e){return t[(0,o.Z)(e,"offset")]=v(),t}),(0,c.Ue)(null)),r=t.reduce((function(t,e){return t[(0,o.Z)(e,"order")]=v(),t}),(0,c.Ue)(null));return g=(0,c.f0)((0,c.Ue)(null),{col:(0,c.XP)(e),offset:(0,c.XP)(n),order:(0,c.XP)(r)}),f(f(f(f({col:{type:Boolean,default:!1},cols:v()},e),{},{offset:v()},n),{},{order:v()},r),{},{alignSelf:{type:String,default:null,validator:function(t){return(0,l.kI)(["auto","start","end","center","baseline","stretch"],t)}},tag:{type:String,default:"div"}})},_={name:"BCol",functional:!0,get props(){return delete this.props,this.props=y()},render:function(t,e){var n,i=e.props,a=e.data,o=e.children,l=[];for(var s in g)for(var u=g[s],c=0;c<u.length;c++){var p=b(s,u[c].replace(s,""),i[u[c]]);p&&l.push(p)}var d=l.some((function(t){return h.test(t)}));return l.push((m(n={col:i.col||!d&&!i.cols},"col-".concat(i.cols),i.cols),m(n,"offset-".concat(i.offset),i.offset),m(n,"order-".concat(i.order),i.order),m(n,"align-self-".concat(i.alignSelf),i.alignSelf),n)),t(i.tag,(0,r.b)(a,{class:l}),o)}}},9035:function(t,e,n){"use strict";var r=n(7023);e.Z={props:{size:{type:String,default:function(){return(0,r.wJ)("formControls","size")}}},computed:{sizeFormClass:function(){return[this.size?"form-control-".concat(this.size):null]},sizeBtnClass:function(){return[this.size?"btn-".concat(this.size):null]}}}},5505:function(t,e,n){"use strict";var r=n(3284);e.Z={props:{state:{type:Boolean,default:null}},computed:{computedState:function(){return(0,r.jn)(this.state)?this.state:null},stateClass:function(){var t=this.computedState;return!0===t?"is-valid":!1===t?"is-invalid":null}}}},6944:function(t,e,n){"use strict";var r=n(6410),i="input, textarea, select";e.Z={props:{name:{type:String},id:{type:String},disabled:{type:Boolean},required:{type:Boolean,default:!1},form:{type:String},autofocus:{type:Boolean,default:!1}},mounted:function(){this.handleAutofocus()},activated:function(){this.handleAutofocus()},methods:{handleAutofocus:function(){var t=this;this.$nextTick((function(){(0,r.bz)((function(){var e=t.$el;t.autofocus&&(0,r.pn)(e)&&((0,r.wB)(e,i)||(e=(0,r.Ys)(i,e)),(0,r.KS)(e))}))}))}}}},3727:function(t,e){"use strict";e.Z={props:{id:{type:String}},data:function(){return{localId_:null}},computed:{safeId:function(){var t=this.id||this.localId_;return function(e){return t?(e=String(e||"").replace(/\s+/g,"_"))?t+"_"+e:t:null}}},mounted:function(){var t=this;this.$nextTick((function(){t.localId_="__BVID__".concat(t._uid)}))}}},8735:function(t,e,n){"use strict";n.d(e,{o:function(){return i},U:function(){return a}});var r=/(<([^>]+)>)/gi,i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(t).replace(r,"")},a=function(t,e){return t?{innerHTML:t}:e?{textContent:e}:{}}},356:function(t,e,n){"use strict";var r=(0,n(7040).vV)({SPACE:32,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,PAGEUP:33,PAGEDOWN:34,HOME:36,END:35,TAB:9,SHIFT:16,CTRL:17,BACKSPACE:8,ALT:18,PAUSE:19,BREAK:19,INSERT:45,INS:45,DELETE:46});e.Z=r},9340:function(t,e,n){"use strict";var r=n(8265),i=n(1572),a=n(7040);e.Z=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.Z;return((0,i.kJ)(t)?t.slice():(0,a.XP)(t)).reduce((function(t,r){return t[n(r)]=e[r],t}),{})}},3762:function(t,e,n){"use strict";var r=n(6595);e.Z=function(t,e){return e+(t?(0,r.jC)(t):"")}},7817:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spinner-border estafette-spinner",class:t._f("bootstrapClass")(t.color,"text"),attrs:{role:"status"}},[n("span",{staticClass:"sr-only"},[t._v("Loading...")])])};r._withStripped=!0;var i={props:{color:{type:String,default:null}}},a=(0,n(1900).Z)(i,r,[],!1,null,null,null);a.options.__file="src/components/Spinner.vue";var o=a.exports},335:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return f}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-form",{staticClass:"rounded border bg-white p-3",attrs:{autocomplete:"off"},on:{submit:t.onSubmit}},[n("b-form-group",{attrs:{label:"Template","label-for":"template-select"}},[t.templatesOptions.length>0?n("b-form-select",{staticClass:"border-primary text-primary",attrs:{id:"template-select",options:t.templatesOptions},on:{change:t.setTemplate},model:{value:t.form.template,callback:function(e){t.$set(t.form,"template",e)},expression:"form.template"}}):t._e()],1),t._v(" "),t._l(t.placeholders,(function(e){return n("div",{key:e.name,staticClass:"mt-3"},[n("b-form-group",{attrs:{label:t._f("splitCamelcase")(e.name),"label-for":"placeholder-"+e.name}},[n("b-form-input",{attrs:{id:"placeholder-"+e.name,type:"text",placeholder:"Enter "+t.$options.filters.splitCamelcase(e.name)},model:{value:t.form.placeholders[e.name],callback:function(n){t.$set(t.form.placeholders,e.name,n)},expression:"form.placeholders[placeholder.name]"}})],1)],1)})),t._v(" "),t.form.template?n("b-button",{staticClass:"mt-3",attrs:{type:"submit",variant:"primary"}},[t._v("\n      Generate\n    ")]):t._e()],2),t._v(" "),t.generating?n("div",[n("spinner",{attrs:{color:"secondary"}})],1):t._e(),t._v(" "),t.manifest?n("div",{staticClass:"mt-4"},[n("h5",[t._v("Manifest")]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"pre-wrapper"},[n("pre",{staticClass:"bg-light p-3"},[n("code",[t._v(t._s(t.manifest))])]),t._v(" "),n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.click",modifiers:{click:!0}}],staticClass:"btn-clipboard",attrs:{title:"Copied!"},on:{click:t.copy}},[t._v("\n        Copy\n      ")])],1)]):t._e()],1)};r._withStripped=!0;var i=n(7817),a=n(4909),o=n(6982),l=n(2183),s=n(4058),u=n(5193),c=n(8365),p={components:{Spinner:i.Z,BForm:a.e,BFormSelect:o.K,BFormInput:l.e,BFormGroup:s.x,BButton:u.T},directives:{BTooltip:c.T},props:{query:{type:Object,default:null}},data:function(){return{form:{template:null,placeholders:{}},templates:null,templatesOptions:[],placeholders:[],manifest:null,generating:!1,refresh:!0}},created:function(){this.loadTemplates()},methods:{copy:function(){var t=document.createElement("textarea");t.value=this.manifest,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},loadTemplates:function(){var t=this;this.axios.get("/api/manifest/templates").then((function(e){t.templates=e.data.templates;var n=[{value:null,text:"Please select a template"}];t.templates.forEach((function(t){n.push({value:t.template,text:t.template})})),t.templatesOptions=n})).catch((function(e){t.periodicallyRefreshTemplates(30)}))},setTemplate:function(t){var e=this.templates.find((function(e){return e.template===t}));if(e){var n=[];e.placeholders.forEach((function(t){n.push({name:t})})),this.placeholders=n,this.manifest=null}},onSubmit:function(t){var e=this;t.preventDefault(),this.generating=!0,this.manifest=null,this.axios.post("/api/manifest/generate",this.form).then((function(t){e.generating=!1,e.manifest=t.data.manifest})).catch((function(t){e.generating=!1,console.warn(t)}))}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},d=(0,n(1900).Z)(p,r,[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("Store the content below in file "),n("code",[t._v(".estafette.yaml")]),t._v(" in the root of your application repository, add it to git and push it to the origin and Estafette CI will automatically build your application, regardless of which branch you push.")])}],!1,null,null,null);d.options.__file="src/views/ManifestGenerator.vue";var f=d.exports},5640:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return p}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-form",{staticClass:"rounded border bg-white p-3",attrs:{autocomplete:"off"},on:{submit:t.onSubmit}},[n("b-form-group",{attrs:{label:"Manifest","label-for":"manifest"}},[n("b-form-textarea",{staticClass:"border bg-light",class:t._f("bootstrapClass")(t.status,"border"),attrs:{id:"manifest",placeholder:"Paste your manifest",rows:25},model:{value:t.form.manifest,callback:function(e){t.$set(t.form,"manifest",e)},expression:"form.manifest"}})],1),t._v(" "),n("b-button",{staticClass:"mt-3",attrs:{type:"submit",variant:"primary"}},[t._v("\n      Validate\n    ")])],1),t._v(" "),t.validating?n("div",[n("spinner",{attrs:{color:"secondary"}})],1):t._e(),t._v(" "),"succeeded"==t.status?n("div",{staticClass:"mt-4"},[n("h5",{staticClass:"text-success"},[t._v("\n      Your manifest is valid!\n    ")]),t._v(" "),t._m(0)]):t._e(),t._v(" "),"failed"==t.status?n("div",{staticClass:"mt-4"},[n("h5",{staticClass:"text-danger"},[t._v("\n      Validation errors\n    ")]),t._v(" "),n("p",[t._v("Please address the following errors and validate again!")]),t._v(" "),n("pre",{staticClass:"bg-light border-danger p-3"},[n("code",[t._v(t._s(t.errors))])])]):t._e()],1)};r._withStripped=!0;var i=n(7817),a=n(4909),o=n(5302),l=n(4058),s=n(5193),u={components:{Spinner:i.Z,BForm:a.e,BFormTextarea:o.y,BFormGroup:l.x,BButton:s.T},data:function(){return{form:{manifest:null},validating:!1,status:"secondary",errors:null}},methods:{onSubmit:function(t){var e=this;t.preventDefault(),this.validating=!0,this.axios.post("/api/manifest/validate",this.form).then((function(t){e.validating=!1,e.status=t.data.status,e.errors=t.data.errors,window.scrollTo(0,document.body.scrollHeight)})).catch((function(t){e.validating=!1}))}}},c=(0,n(1900).Z)(u,r,[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("Store the manifest in file "),n("code",[t._v(".estafette.yaml")]),t._v(" in the root of your application repository.")])}],!1,null,null,null);c.options.__file="src/views/ManifestValidator.vue";var p=c.exports}}]);