(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+jG/":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{attrs:{title:t.repo.repoSource+"/"+t.repo.repoOwner+"/"+t.repo.repoName}},[n("span",{staticClass:"repo-source-and-owner"},[t._v(t._s(t.repo.repoSource)+"/"+t._s(t.repo.repoOwner)+"/")]),n("strong",[t._v(t._s(t.repo.repoName))])])};a._withStripped=!0;var i={props:{repo:{type:Object,default:null}}},r=n("KHd+"),o=Object(r.a)(i,a,[],!1,null,null,null);o.options.__file="src/components/RepositoryTitle.vue";e.a=o.exports},"0Prl":function(t,e,n){},"0QF3":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Create new client")]),t._v(" "),n("b-form-group",{attrs:{id:"name-group",label:"Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name for the client"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"roles-group",label:"Roles:","label-for":"roles"}},[n("b-form-tags",{attrs:{"input-id":"roles","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,r=e.inputHandlers,o=e.disabled,s=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:o,variant:"info"},on:{remove:function(t){return s(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:o||0===t.availableRoles.length,options:t.availableRoles},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                Choose a role...\n              ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),r))]}}]),model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary",disabled:!t.ready}},[t._v("\n      Create\n    ")]),t._v(" "),n("b-button",{attrs:{variant:"danger",to:{name:"AdminClients"}}},[t._v("\n      Cancel\n    ")])],1)],1)};a._withStripped=!0;var i=n("Ed67"),r=n("giZP"),o=n("R5cT"),s=n("oXok"),l=n("F0nd"),c=n("g2Gq"),u=n("GUe+"),d={components:{BForm:i.a,BFormGroup:r.a,BFormInput:o.a,BFormTags:s.a,BFormTag:l.a,BFormSelect:c.a,BButton:u.a},data:function(){return{roles:[],form:{name:"",roles:[]},loaded:{roles:!1}}},created:function(){this.loadRoles()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data,t.loaded.roles=!0})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.axios.post("/api/clients",this.form).then((function(t){e.$router.push({name:"AdminClients"})})).catch((function(t){console.warn(t)}))}},computed:{availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))},ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},p=n("KHd+"),f=Object(p.a)(d,a,[],!1,null,null,null);f.options.__file="src/views/AdminClientCreate.vue";e.default=f.exports},"10Jb":function(t,e,n){"use strict";function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.a={methods:{queryGenerator:function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){a(t,e,n[e])}))}return t}({},this.$route.query,t);for(var n in e)e[n]&&""!==e[n]||delete e[n];return e}}}},"1YrP":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.group?n("div",[n("b-card",{attrs:{title:t.group.name,tag:"article"}},[n("b-card-text",[t._v("\n      "+t._s(t.group.description)+"\n    ")])],1),t._v(" "),n("b-card-group",{staticClass:"mt-2",attrs:{deck:""}},[n("group-members",{attrs:{group:t.group}}),t._v(" "),n("group-pipelines",{attrs:{group:t.group,header:"Pipelines",type:"build"}})],1)],1):t._e()};a._withStripped=!0;var i=n("IF94"),r=n("1uQM"),o=n("3LMw"),s=n("tC49"),l={tag:{type:String,default:"div"},deck:{type:Boolean,default:!1},columns:{type:Boolean,default:!1}},c=o.a.extend({name:"BCardGroup",functional:!0,props:l,render:function(t,e){var n=e.props,a=e.data,i=e.children;return t(n.tag,Object(s.a)(a,{class:n.deck?"card-deck":n.columns?"card-columns":"card-group"}),i)}}),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-card",{staticStyle:{"max-width":"30rem"},attrs:{title:"Members"}},[n("b-list-group",{attrs:{flush:""}},t._l(t.members,(function(e){return n("b-list-group-item",{key:e.id,staticClass:"d-flex align-items-center"},[n("b-avatar",{staticClass:"mr-3",attrs:{variant:"info",src:t.avatar(e),text:t.initials(e)}}),t._v(" "),n("span",{staticClass:"mr-auto"},[t._v(t._s(e.name)+" ("+t._s(e.email)+")")])],1)})),1)],1)};u._withStripped=!0;var d=n("ex6f");var p={tag:{type:String,default:"div"},flush:{type:Boolean,default:!1},horizontal:{type:[Boolean,String],default:!1}},f=o.a.extend({name:"BListGroup",functional:!0,props:p,render:function(t,e){var n=e.props,a=e.data,i=e.children,r=""===n.horizontal||n.horizontal;r=!n.flush&&r;var o,l,c,u={staticClass:"list-group",class:(o={"list-group-flush":n.flush,"list-group-horizontal":!0===r},l="list-group-horizontal-".concat(r),c=Object(d.i)(r),l in o?Object.defineProperty(o,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[l]=c,o)};return t(n.tag,Object(s.a)(a,u),i)}}),m=n("qZlm"),g=n("Iyau"),b=n("Io6r"),h=n("qlm0");function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y="BListGroupItem",O=["a","router-link","button","b-link"],x=Object(h.b)();delete x.href.default,delete x.to.default;var w=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({tag:{type:String,default:"div"},action:{type:Boolean,default:null},button:{type:Boolean,default:null},variant:{type:String,default:function(){return Object(b.b)(y,"variant")}}},x),k=o.a.extend({name:y,functional:!0,props:w,render:function(t,e){var n,a=e.props,i=e.data,r=e.children,o=a.button?"button":a.href||a.to?h.a:a.tag,l=Boolean(a.href||a.to||a.action||a.button||Object(g.a)(O,a.tag)),c={},u={};"button"===o?(i.attrs&&i.attrs.type||(c.type="button"),a.disabled&&(c.disabled=!0)):u=Object(m.a)(x,a);var d={attrs:c,props:u,staticClass:"list-group-item",class:(n={},_(n,"list-group-item-".concat(a.variant),a.variant),_(n,"list-group-item-action",l),_(n,"active",a.active),_(n,"disabled",a.disabled),n)};return t(o,Object(s.a)(i,d),r)}}),z=n("6KOa"),C={components:{BCard:i.a,BListGroup:f,BListGroupItem:k,BAvatar:z.a},props:{group:{type:Object,default:null}},data:function(){return{members:[]}},created:function(){this.loadMembers()},methods:{loadMembers:function(){var t=this;return this.axios.get("/api/catalog/users?filter[group-id]=".concat(this.group.id,"&page[size]=100")).then((function(e){t.members=e.data.items})).catch((function(t){console.warn(t)}))},avatar:function(t){return t.identities&&t.identities.length>0&&t.identities[0].avatar?t.identities[0].avatar:void 0},initials:function(t){return t.name.split(" ").map((function(t){return t[0]})).join("")}}},S=n("KHd+"),j=Object(S.a)(C,u,[],!1,null,null,null);j.options.__file="src/components/GroupMembers.vue";var B=j.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-card",{staticClass:"border-0",attrs:{"no-body":"",tag:"article",header:t.header,"header-bg-variant":"success","header-text-variant":"white","bg-variant":"transparent","header-class":"rounded"}},[t.pipelines.length>0?n("transition-group",{attrs:{name:"list-complete",tag:"div"}},t._l(t.pipelines,(function(e){return n("pipeline-row",{key:e.repoSource+"/"+e.repoOwner+"/"+e.repoName,attrs:{pipeline:e,filter:t.filter}})})),1):t._e(),t._v(" "),n("b-pagination",{staticClass:"d-inline-flex",attrs:{"total-rows":t.pagination.totalItems,"per-page":t.pagination.size,limit:"3","hide-goto-end-buttons":"","hide-ellipsis":"",small:""},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1)};P._withStripped=!0;var T=n("JtJI"),A=n("ArgP"),G=n("pDaz"),D={components:{BCard:i.a,BPagination:T.a,PipelineRow:A.a},props:{group:{type:Object,default:null},header:{type:String,default:""},type:{type:String,default:""}},data:function(){return{pipelines:[],pagination:{page:1,size:12,totalPages:0,totalItems:0}}},created:function(){this.loadPipelines()},methods:{loadPipelines:function(){var t=this;return this.axios.get("/api/pipelines?filter[groups]=".concat(this.group.name,"&page[number]=").concat(this.pagination.page,"&page[size]=").concat(this.pagination.size,"&sort=-last_updated_at,repo_source,repo_owner,repo_name")).then((function(e){t.pipelines=e.data.items,t.pagination=e.data.pagination,G.a.timeoutWithJitter(t.timeout,t.loadPipelines,15)})).catch((function(e){console.warn(e),G.a.timeoutWithJitter(t.timeout,t.loadPipelines,30)}))}},watch:{user:{handler:function(t,e){this.loadPipelines()},deep:!0},pagination:{handler:function(t,e){e.page!==t.page&&this.loadPipelines()},deep:!0}},beforeDestroy:function(){this.timeout&&clearTimeout(this.timeout)}},I=Object(S.a)(D,P,[],!1,null,null,null);I.options.__file="src/components/GroupPipelines.vue";var R=I.exports,F={components:{BCard:i.a,BCardText:r.a,BCardGroup:c,GroupMembers:B,GroupPipelines:R},props:{id:{type:String,default:null}},data:function(){return{group:null}},created:function(){this.loadGroup()},methods:{loadGroup:function(){var t=this;this.axios.get("/api/catalog/groups/".concat(this.id)).then((function(e){t.group=e.data})).catch((function(t){console.warn(t)}))}}},E=Object(S.a)(F,a,[],!1,null,null,null);E.options.__file="src/views/CatalogGroupDetails.vue";e.default=E.exports},"1uQM":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n("3LMw"),i=n("tC49"),r={textTag:{type:String,default:"p"}},o=a.a.extend({name:"BCardText",functional:!0,props:r,render:function(t,e){var n=e.props,a=e.data,r=e.children;return t(n.textTag,Object(i.a)(a,{staticClass:"card-text"}),r)}})},"3/MV":function(t,e,n){"use strict";var a=function(){var t=this.$createElement;return(this._self._c||t)("a",{class:["text-body"],attrs:{href:this.commitURL(),target:"_blank"},on:{click:function(t){t.stopPropagation()}}},[this._v("\n  "+this._s(this._f("gitHash")(this.build.repoRevision))+"\n")])};a._withStripped=!0;var i={props:{build:{type:Object,default:null}},methods:{commitURL:function(){switch(this.build.repoSource){case"github.com":return"https://github.com/".concat(this.build.repoOwner,"/").concat(this.build.repoName,"/commit/").concat(this.build.repoRevision);case"bitbucket.org":return"https://bitbucket.org/".concat(this.build.repoOwner,"/").concat(this.build.repoName,"/commits/").concat(this.build.repoRevision)}return"#"}}},r=n("KHd+"),o=Object(r.a)(i,a,[],!1,null,null,null);o.options.__file="src/components/CommitLink.vue";e.a=o.exports},"3Vr0":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("pipeline-filter",{attrs:{model:t.filter.search,"on-input":t.setSearch}}),t._v(" "),n("label-filter",{attrs:{filter:t.filter}})],1),t._v(" "),n("div",{staticClass:"col-6 text-right"},[n("pagination-compact",{staticClass:"float-right",attrs:{pagination:t.pagination}})],1)]),t._v(" "),n("b-table",{ref:"pipelines",attrs:{items:t.pipelinesProvider,fields:t.fields,"per-page":t.pagination.size,"current-page":t.pagination.page,"sort-icon-left":"","no-provider-sorting":"",striped:"",hover:"",borderless:"",stacked:"lg"},scopedSlots:t._u([{key:"head(checkbox)",fn:function(){return[n("b-form-checkbox",{attrs:{id:"toggle-all",checked:t.pipelines.length>0&&t.pipelines.length===t.selected.length,indeterminate:t.selected.length>0&&t.selected.length<t.pipelines.length,disabled:!t.ready},on:{change:t.toggleAll}})]},proxy:!0},{key:"top-row",fn:function(){return[n("b-td",{attrs:{colspan:"2"}}),t._v(" "),n("b-td",[n("b-form-select",{attrs:{options:t.mappedGroups,disabled:!t.ready||0===t.selected.length},on:{change:t.addGroup},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}})],1),t._v(" "),n("b-td",[n("b-form-select",{attrs:{options:t.mappedOrganizations,disabled:!t.ready||0===t.selected.length},on:{change:t.addOrganization},model:{value:t.organization,callback:function(e){t.organization=e},expression:"organization"}})],1),t._v(" "),n("b-td",{attrs:{colspan:"2"}})]},proxy:!0},{key:"cell(checkbox)",fn:function(e){return[n("b-form-checkbox",{attrs:{value:e.item.repoSource+"/"+e.item.repoOwner+"/"+e.item.repoName},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})]}},{key:"cell(pipeline)",fn:function(e){return[n("span",{staticClass:"text-muted"},[t._v(t._s(e.item.repoSource)+"/"+t._s(e.item.repoOwner)+"/")]),t._v(t._s(e.item.repoName)+"\n      "),e.item.archived?n("b-badge",{attrs:{variant:"secondary"}},[t._v("\n        Archived\n      ")]):t._e()]}},{key:"cell(groups)",fn:function(e){return t._l(e.item.groups,(function(e){return n("b-badge",{key:e.name,staticClass:"mr-1",attrs:{variant:"warning"}},[t._v("\n        "+t._s(e.name)+"\n      ")])}))}},{key:"cell(labels)",fn:function(t){return[n("labels",{attrs:{labels:t.item.labels,"route-name":"AdminPipelines"}})]}},{key:"cell(organizations)",fn:function(e){return t._l(e.item.organizations,(function(e){return n("b-badge",{key:e.name,staticClass:"mr-1",attrs:{variant:"success"}},[t._v("\n        "+t._s(e.name)+"\n      ")])}))}},{key:"cell(actions)",fn:function(e){return[n("b-button",{staticClass:"mr-1 mb-1",attrs:{size:"sm",to:{name:"AdminPipelineUpdate",params:{repoSource:e.item.repoSource,repoOwner:e.item.repoOwner,repoName:e.item.repoName}}}},[t._v("\n        Edit\n      ")])]}}])}),t._v(" "),t.pipelines.length>0?n("pagination",{attrs:{pagination:t.pagination}}):t._e()],1)};a._withStripped=!0;var i=n("KaE5"),r=n("CAmi"),o=n("GUe+"),s=n("6Ytq"),l=n("w+YJ"),c=n("g2Gq"),u=n("eU28"),d=n("F5n6"),p=n("IkAG"),f=n("IzDB"),m=n("GfzJ"),g=n("sEfC"),b=n.n(g);function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v={components:{BTable:i.a,BTd:r.a,BButton:o.a,PaginationCompact:u.a,Pagination:d.a,BBadge:s.a,BFormCheckbox:l.a,BFormSelect:c.a,PipelineFilter:p.a,Labels:f.a,LabelFilter:m.a},data:function(){return{selected:[],group:null,groups:[],organization:null,organizations:[],pipelines:[],pagination:{page:1,size:100,totalPages:0,totalItems:0},filter:{search:"",labels:""},fields:[{key:"checkbox",label:"",class:"text-center"},{key:"pipeline",sortable:!0,formatter:function(t,e,n){return"".concat(n.repoSource,"/").concat(n.repoOwner,"/").concat(n.repoName)}},{key:"groups",sortable:!0},{key:"organizations",sortable:!0},{key:"labels",sortable:!0},{key:"actions"}],loaded:{groups:!1,organizations:!1,pipelines:!1}}},created:function(){this.filterDefaults=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){h(t,e,n[e])}))}return t}({},this.filter),this.setDataFromQueryParams(this.query),this.loadGroups(),this.loadOrganizations()},methods:{loadGroups:function(){var t=this;this.axios.get("/api/groups?page[number]=1&page[size]=100").then((function(e){t.groups=e.data.items,t.loaded.groups=!0})).catch((function(t){console.warn(t)}))},loadOrganizations:function(){var t=this;this.axios.get("/api/organizations?page[number]=1&page[size]=100").then((function(e){t.organizations=e.data.items,t.loaded.organizations=!0})).catch((function(t){console.warn(t)}))},pipelinesProvider:function(t){var e=this,n="";t.sortBy&&(n+="&sort=",t.sortDesc&&(n+="-"),n+="".concat(t.sortBy));var a="";this.filter&&this.filter.labels&&this.filter.labels.length>0&&(a="&filter[labels]="+this.filter.labels.split(",").join("&filter[labels]="));var i="";return this.filter&&this.filter.search&&""!==this.filter.search&&(i="&filter[search]=".concat(this.filter.search)),this.axios.get("/api/admin/pipelines?page[number]=".concat(t.currentPage,"&page[size]=").concat(t.perPage).concat(n).concat(a).concat(i)).then((function(t){return e.pipelines=t.data.items,e.pagination=t.data.pagination,e.loaded.pipelines=!0,e.pipelines||[]}))},setDataFromQueryParams:function(t){this.filter.labels=t&&t.labels?t.labels:this.filterDefaults.labels},setSearch:b()((function(t){this.filter.search=t,this.pagination.page=1,this.$refs.pipelines.refresh()}),500),toggleAll:function(t){this.selected=t?this.pipelines.map((function(t){return"".concat(t.repoSource,"/").concat(t.repoOwner,"/").concat(t.repoName)})):[]},addGroup:function(){var t=this,e={pipelines:this.selected,group:this.groups.map((function(t){return{id:t.id,name:t.name}})).find((function(e){return e.name===t.group}))};this.axios.post("/api/admin/batch/pipelines",e).then((function(e){t.group=null,t.selected=[],t.$refs.pipelines.refresh()})).catch((function(e){t.group=null,console.warn(e)}))},addOrganization:function(){var t=this,e={pipelines:this.selected,organization:this.organizations.map((function(t){return{id:t.id,name:t.name}})).find((function(e){return e.name===t.organization}))};this.axios.post("/api/admin/batch/pipelines",e).then((function(e){t.organization=null,t.selected=[],t.$refs.pipelines.refresh()})).catch((function(e){t.organization=null,console.warn(e)}))}},watch:{$route:function(t,e){this.setDataFromQueryParams(t.query),this.pagination.page=1,this.$refs.pipelines.refresh()}},computed:{mappedGroups:function(){return this.groups?[{value:null,text:"Add group"}].concat(this.groups.map((function(t){return{value:"".concat(t.name),text:"".concat(t.name)}}))):[]},mappedOrganizations:function(){return this.organizations?[{value:null,text:"Add organization"}].concat(this.organizations.map((function(t){return{value:"".concat(t.name),text:"".concat(t.name)}}))):[]},ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},_=n("KHd+"),y=Object(_.a)(v,a,[],!1,null,null,null);y.options.__file="src/views/AdminPipelines.vue";e.default=y.exports},"6KOa":function(t,e,n){"use strict";n.d(e,"a",(function(){return $}));var a=n("3LMw"),i=n("qZlm"),r=n("Io6r"),o=n("ex6f"),s=n("OljW"),l=n("GUe+"),c=n("qlm0"),u=n("tC49"),d=n("+nMp"),p=n("bAY6"),f=n("qMhD");function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b={variant:{type:String,default:null},fontScale:{type:[Number,String],default:1},scale:{type:[Number,String],default:1},rotate:{type:[Number,String],default:0},flipH:{type:Boolean,default:!1},flipV:{type:Boolean,default:!1},shiftH:{type:[Number,String],default:0},shiftV:{type:[Number,String],default:0},animation:{type:String,default:null}},h={viewBox:"0 0 16 16",width:"1em",height:"1em",focusable:"false",role:"img",alt:"icon"},v={width:null,height:null,focusable:null,role:null,alt:null},_=a.a.extend({name:"BVIconBase",functional:!0,props:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({content:{type:String},stacked:{type:Boolean,default:!1}},b),render:function(t,e){var n,a=e.data,i=e.props,r=e.children,l=Object(f.c)(Object(s.b)(i.fontScale,1),0)||1,c=Object(f.c)(Object(s.b)(i.scale,1),0)||1,d=Object(s.b)(i.rotate,0),m=Object(s.b)(i.shiftH,0),b=Object(s.b)(i.shiftV,0),_=i.flipH,y=i.flipV,O=i.animation,x=_||y||1!==c,w=x||d,k=m||b,z=[w?"translate(8 8)":null,x?"scale(".concat((_?-1:1)*c," ").concat((y?-1:1)*c,")"):null,d?"rotate(".concat(d,")"):null,w?"translate(-8 -8)":null].filter(p.a),C=i.stacked,S=!Object(o.k)(i.content),j=t("g",{attrs:{transform:z.join(" ")||null},domProps:S?{innerHTML:i.content||""}:{}},r);return k&&(j=t("g",{attrs:{transform:"translate(".concat(16*m/16," ").concat(-16*b/16,")")}},[j])),C&&(j=t("g",{},[j])),t("svg",Object(u.a)({staticClass:"b-icon bi",class:(n={},g(n,"text-".concat(i.variant),!!i.variant),g(n,"b-icon-animation-".concat(O),!!O),n),attrs:h,style:C?{}:{fontSize:1===l?null:"".concat(100*l,"%")}},a,C?{attrs:v}:{},{attrs:{xmlns:C?null:"http://www.w3.org/2000/svg",fill:"currentColor"}}),[j])}});function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){x(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=function(t,e){var n="BIcon".concat(Object(d.e)(t)),i="bi-".concat(Object(d.b)(t)),r=Object(d.g)(e||"");return a.a.extend({name:n,functional:!0,props:O(O({},b),{},{stacked:{type:Boolean,default:!1}}),render:function(t,e){var n=e.data,a=e.props;return t(_,Object(u.a)(n,{staticClass:i,props:O(O({},a),{},{content:r})}))}})},k=w("Blank",""),z=w("PersonFill",'<path fill-rule="evenodd" d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"/>');
/*!
 * BootstrapVue Icons, generated from Bootstrap Icons 1.0.0-alpha3
 *
 * @link https://icons.getbootstrap.com/
 * @license MIT
 * https://github.com/twbs/icons/blob/master/LICENSE.md
 */function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){j(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var B=/^BIcon/,P=a.a.extend({name:"BIcon",functional:!0,props:S(S({icon:{type:String,default:null}},b),{},{stacked:{type:Boolean,default:!1}}),render:function(t,e){var n=e.data,a=e.props,i=e.parent,r=Object(d.e)(Object(d.g)(a.icon||"")).replace(B,""),o="BIcon".concat(r),s=((i||{}).$options||{}).components;return t(r&&s?s[o]||k:r?o:k,Object(u.a)(n,{props:S(S({},a),{},{icon:null})}))}}),T=n("jBgq");function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){D(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function D(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var I=/^[0-9]*\.?[0-9]+$/,R={sm:"1.5em",md:"2.5em",lg:"3.5em"},F={href:{type:String},to:{type:[String,Object]},append:{type:Boolean,default:!1},replace:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rel:{type:String},target:{type:String},activeClass:{type:String},exact:{type:Boolean,default:!1},exactActiveClass:{type:String},noPrefetch:{type:Boolean,default:!1}},E=G(G({src:{type:String},text:{type:String},icon:{type:String},alt:{type:String,default:"avatar"},variant:{type:String,default:function(){return Object(r.b)("BAvatar","variant")}},size:{type:[Number,String],default:null},square:{type:Boolean,default:!1},rounded:{type:[Boolean,String],default:!1},button:{type:Boolean,default:!1},buttonType:{type:String,default:"button"},badge:{type:[Boolean,String],default:!1},badgeVariant:{type:String,default:function(){return Object(r.b)("BAvatar","badgeVariant")}},badgeTop:{type:Boolean,default:!1},badgeLeft:{type:Boolean,default:!1},badgeOffset:{type:String,default:"0px"}},F),{},{ariaLabel:{type:String}}),$=a.a.extend({name:"BAvatar",mixins:[T.a],inject:{bvAvatarGroup:{default:null}},props:E,data:function(){return{localSrc:this.src||null}},computed:{computedSize:function(){return t=this.bvAvatarGroup?this.bvAvatarGroup.size:this.size,t=Object(o.k)(t)||""===t?"md":Object(o.i)(t)&&I.test(t)?Object(s.b)(t,0):t,Object(o.f)(t)?"".concat(t,"px"):R[t]||t;var t},computedVariant:function(){var t=this.bvAvatarGroup;return t&&t.variant?t.variant:this.variant},computedRounded:function(){var t=this.bvAvatarGroup,e=!(!t||!t.square)||this.square,n=t&&t.rounded?t.rounded:this.rounded;return e?"0":""===n||(n||"circle")},fontStyle:function(){var t=this.computedSize;return(t=t?"calc(".concat(t," * ").concat(.4,")"):null)?{fontSize:t}:{}},marginStyle:function(){var t=this.bvAvatarGroup,e=t?t.overlapScale:0,n=this.computedSize,a=n&&e?"calc(".concat(n," * -").concat(e,")"):null;return a?{marginLeft:a,marginRight:a}:{}},badgeStyle:function(){var t=this.computedSize,e=this.badgeTop,n=this.badgeLeft,a=this.badgeOffset||"0px";return{fontSize:t?"calc(".concat(t," * ").concat(.4*.7," )"):null,top:e?a:null,bottom:e?null:a,left:n?a:null,right:n?null:a}}},watch:{src:function(t,e){t!==e&&(this.localSrc=t||null)}},methods:{onImgError:function(t){this.localSrc=null,this.$emit("img-error",t)},onClick:function(t){this.$emit("click",t)}},render:function(t){var e,n=this.computedVariant,a=this.disabled,r=this.computedRounded,o=this.icon,s=this.localSrc,u=this.text,d=this.fontStyle,p=this.marginStyle,f=this.computedSize,m=this.button,g=this.buttonType,b=this.badge,h=this.badgeVariant,v=this.badgeStyle,_=!m&&(this.href||this.to),y=m?l.a:_?c.a:"span",O=this.alt||null,x=this.ariaLabel||null,w=null;this.hasNormalizedSlot("default")?w=t("span",{staticClass:"b-avatar-custom"},[this.normalizeSlot("default")]):s?(w=t("img",{style:n?{}:{width:"100%",height:"100%"},attrs:{src:s,alt:O},on:{error:this.onImgError}}),w=t("span",{staticClass:"b-avatar-img"},[w])):w=o?t(P,{props:{icon:o},attrs:{"aria-hidden":"true",alt:O}}):u?t("span",{staticClass:"b-avatar-text",style:d},[t("span",u)]):t(z,{attrs:{"aria-hidden":"true",alt:O}});var k=t(),C=this.hasNormalizedSlot("badge");if(b||""===b||C){var S=!0===b?"":b;k=t("span",{staticClass:"b-avatar-badge",class:D({},"badge-".concat(h),!!h),style:v},[C?this.normalizeSlot("badge"):S])}return t(y,{staticClass:"b-avatar",class:(e={},D(e,"badge-".concat(n),!m&&n),D(e,"rounded",!0===r),D(e,"rounded-".concat(r),r&&!0!==r),D(e,"disabled",a),e),style:G({width:f,height:f},p),attrs:{"aria-label":x||null},props:m?{variant:n,disabled:a,type:g}:_?Object(i.a)(F,this):{},on:_||m?{click:this.onClick}:{}},[w,k])}})},"6Ytq":function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var a=n("3LMw"),i=n("tC49"),r=n("Io6r"),o=n("qZlm"),s=n("qlm0");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=Object(s.b)();delete d.href.default,delete d.to.default;var p=c(c({},d),{},{tag:{type:String,default:"span"},variant:{type:String,default:function(){return Object(r.b)("BBadge","variant")}},pill:{type:Boolean,default:!1}}),f=a.a.extend({name:"BBadge",functional:!0,props:p,render:function(t,e){var n=e.props,a=e.data,r=e.children,l=n.href||n.to,c=l?s.a:n.tag,u={staticClass:"badge",class:[n.variant?"badge-".concat(n.variant):"badge-secondary",{"badge-pill":n.pill,active:n.active,disabled:n.disabled}],props:l?Object(o.a)(d,n):{}};return t(c,Object(i.a)(a,u),r)}})},AkVi:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Update user")]),t._v(" "),n("b-form-group",{attrs:{id:"name-user",label:"Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name for the user"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"roles-group",label:"Roles:","label-for":"roles"}},[n("b-form-tags",{attrs:{"input-id":"roles","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,r=e.inputHandlers,o=e.disabled,s=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:o,variant:"info"},on:{remove:function(t){return s(e)}}},[t._v("\n                  "+t._s(e)+"\n                ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:o||0===t.availableRoles.length,options:t.availableRoles},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                  Choose a role...\n                ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),r))]}}]),model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"groups-group",label:"Groups:","label-for":"groups"}},[n("b-form-tags",{attrs:{"input-id":"groups","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,r=e.inputHandlers,o=e.disabled,s=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:o,variant:"warning"},on:{remove:function(t){return s(e)}}},[t._v("\n                  "+t._s(e)+"\n                ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:o||0===t.availableGroups.length,options:t.availableGroups},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                  Choose a group...\n                ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),r))]}}]),model:{value:t.selectedGroups,callback:function(e){t.selectedGroups=e},expression:"selectedGroups"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"organizations-group",label:"Organizations:","label-for":"organizations"}},[n("b-form-tags",{attrs:{"input-id":"organizations","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,r=e.inputHandlers,o=e.disabled,s=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:o,variant:"success"},on:{remove:function(t){return s(e)}}},[t._v("\n                  "+t._s(e)+"\n                ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:o||0===t.availableOrganizations.length,options:t.availableOrganizations},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                  Choose an organization...\n                ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),r))]}}]),model:{value:t.selectedOrganizations,callback:function(e){t.selectedOrganizations=e},expression:"selectedOrganizations"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary",disabled:!t.ready}},[t._v("\n        Update\n      ")]),t._v(" "),n("b-button",{attrs:{variant:"light",to:{name:"AdminUsers"}}},[t._v("\n        Cancel\n      ")])],1)],1),t._v(" "),n("div",{staticClass:"rounded border border-danger bg-white p-3 mt-3"},[n("div",{staticClass:"d-flex justify-content-between"},[t._m(0),t._v(" "),n("div",{staticClass:"align-self-center"},[n("b-button",{attrs:{variant:"danger"},on:{click:t.onDelete}},[t._v("\n          Delete this user\n        ")])],1)])])])};a._withStripped=!0;var i=n("Ed67"),r=n("giZP"),o=n("R5cT"),s=n("oXok"),l=n("F0nd"),c=n("g2Gq"),u=n("GUe+"),d={components:{BForm:i.a,BFormGroup:r.a,BFormInput:o.a,BFormTags:s.a,BFormTag:l.a,BFormSelect:c.a,BButton:u.a},props:{id:{type:String,default:null}},data:function(){return{roles:[],organizations:[],groups:[],form:{name:"",roles:[]},selectedGroups:[],selectedOrganizations:[],loaded:{roles:!1,organizations:!1,groups:!1,user:!1}}},created:function(){this.loadRoles(),this.loadGroups(),this.loadOrganizations(),this.loadForm()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data,t.loaded.roles=!0})).catch((function(t){console.warn(t)}))},loadGroups:function(){var t=this;this.axios.get("/api/groups?page[number]=1&page[size]=100").then((function(e){t.groups=e.data.items,t.loaded.groups=!0})).catch((function(t){console.warn(t)}))},loadOrganizations:function(){var t=this;this.axios.get("/api/organizations?page[number]=1&page[size]=100").then((function(e){t.organizations=e.data.items,t.loaded.organizations=!0})).catch((function(t){console.warn(t)}))},loadForm:function(){var t=this;this.axios.get("/api/users/".concat(this.id)).then((function(e){t.form=e.data,t.form&&t.form.groups&&(t.selectedGroups=t.form.groups.map((function(t){return t.name}))),t.form&&t.form.organizations&&(t.selectedOrganizations=t.form.organizations.map((function(t){return t.name}))),t.loaded.user=!0})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.selectedGroups.length>0?this.form.groups=this.groups.filter((function(t){return-1!==e.selectedGroups.indexOf(t.name)})).map((function(t){return{id:t.id,name:t.name}})):this.form.groups=[],this.selectedOrganizations.length>0?this.form.organizations=this.organizations.filter((function(t){return-1!==e.selectedOrganizations.indexOf(t.name)})).map((function(t){return{id:t.id,name:t.name}})):this.form.organizations=[],this.axios.put("/api/users/".concat(this.id),this.form).then((function(t){e.$router.push({name:"AdminUsers"})})).catch((function(t){console.warn(t)}))},onDelete:function(t){var e=this;t.preventDefault(),this.axios.delete("/api/users/".concat(this.id)).then((function(t){e.$router.push({name:"AdminUsers"})})).catch((function(t){console.warn(t)}))}},computed:{availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))},availableGroups:function(){var t=this;return this.groups.map((function(t){return t.name})).filter((function(e){return!t.form||!t.selectedGroups||-1===t.selectedGroups.indexOf(e)}))},availableOrganizations:function(){var t=this;return this.organizations.map((function(t){return t.name})).filter((function(e){return!t.form||!t.selectedOrganizations||-1===t.selectedOrganizations.indexOf(e)}))},ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},p=n("KHd+"),f=Object(p.a)(d,a,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h6",[this._v("Delete this user")]),this._v(" "),e("p",{staticClass:"align-self-end"},[this._v("\n          Once you delete an user, there is no going back. Please be certain.\n        ")])])}],!1,null,null,null);f.options.__file="src/views/AdminUserUpdate.vue";e.default=f.exports},ArgP:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{staticClass:"row-block list-complete-item",attrs:{to:{name:"PipelineOverview",params:{repoSource:t.pipeline.repoSource,repoOwner:t.pipeline.repoOwner,repoName:t.pipeline.repoName}},tag:"div"}},[n("property-block",{staticClass:"col-xxxl-3",attrs:{label:"Pipeline"}},[n("repository-title",{attrs:{repo:t.pipeline}})],1),t._v(" "),n("property-block",{staticClass:"col-xxxl-1",attrs:{label:"Version",value:t.pipeline.buildVersion}}),t._v(" "),n("property-block",{staticClass:"col-xxxl-1",attrs:{label:"Status"}},[n("router-link",{attrs:{to:{name:"PipelineBuildLogs",params:{repoSource:t.pipeline.repoSource,repoOwner:t.pipeline.repoOwner,repoName:t.pipeline.repoName,id:t.pipeline.id}}}},[n("b-progress",[n("b-progress-bar",{attrs:{value:t.$options.filters.buildProgressBarValue(t.pipeline,t.pipeline,t.now),label:t.$options.filters.buildProgressBarLabel(t.pipeline,t.pipeline,t.now),variant:t.$options.filters.bootstrapVariant(t.pipeline.buildStatus),animated:t.$options.filters.animatedProgressBar(t.pipeline.buildStatus)}})],1)],1)],1),t._v(" "),n("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Built at"}},[t._v("\n    "+t._s(t._f("formatDatetime")(t.pipeline.insertedAt))+"\n    "),n("duration-label",{attrs:{duration:t.pipeline.duration,"pending-duration":t.pipeline.pendingDuration}})],1),t._v(" "),n("property-block",{staticClass:"col-xxxl-1",attrs:{label:"Branch",value:t.pipeline.repoBranch}}),t._v(" "),n("property-block",{staticClass:"col-xxxl-1",attrs:{label:"Revision"}},[n("commit-link",{attrs:{build:t.pipeline}})],1),t._v(" "),n("property-block",{staticClass:"col-xxxl-3",attrs:{label:"Commit(s)"}},[n("commits",{attrs:{commits:t.pipeline.commits,limit:1}})],1),t._v(" "),t.showReleases?n("div",{staticClass:"block-divider"},[n("div")]):t._e(),t._v(" "),t.showReleases?n("property-block",{attrs:{label:"Releases",wide:""}},t._l(t.pipeline.releaseTargets,(function(e){return n("release-badge",{key:e.name,attrs:{"release-target":e,pipeline:t.pipeline}})})),1):t._e()],1)};a._withStripped=!0;var i=n("SfWM"),r=n("zwfp"),o=n("3/MV"),s=n("sSrk"),l=n("JWTo"),c=n("+jG/"),u=n("D8w6"),d=n("CUMe"),p=n("pDaz"),f={components:{BProgress:i.a,BProgressBar:r.a,CommitLink:o.a,ReleaseBadge:s.a,PropertyBlock:l.a,RepositoryTitle:c.a,DurationLabel:u.a,Commits:d.a},props:{pipeline:{type:Object,default:null}},data:function(){return{now:Date.now()}},created:function(){this.updateNow()},methods:{updateNow:function(){this.now=Date.now(),!this.pipeline||"pending"!==this.pipeline.buildStatus&&"running"!==this.pipeline.buildStatus||p.a.timeout(this.timeout,this.updateNow,1)}},beforeDestroy:function(){clearTimeout(this.timeout)},computed:{showReleases:function(){return this.pipeline.releaseTargets&&this.pipeline.releaseTargets.length>0}}},m=n("KHd+"),g=Object(m.a)(f,a,[],!1,null,null,null);g.options.__file="src/components/PipelineRow.vue";e.a=g.exports},BB3h:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Update pipeline")]),t._v(" "),n("b-form-group",{attrs:{id:"name-group",label:"Pipeline:","label-for":"pipeline"}},[n("b-form-input",{attrs:{id:"pipeline",value:t.pipelineName,type:"text",disabled:"",placeholder:"Enter name for the pipeline"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"groups-group",label:"Groups:","label-for":"groups"}},[n("b-form-tags",{attrs:{"input-id":"groups","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,r=e.inputHandlers,o=e.disabled,s=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:o,variant:"warning"},on:{remove:function(t){return s(e)}}},[t._v("\n                  "+t._s(e)+"\n                ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:o||0===t.availableGroups.length,options:t.availableGroups},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                  Choose a group...\n                ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),r))]}}]),model:{value:t.selectedGroups,callback:function(e){t.selectedGroups=e},expression:"selectedGroups"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"organizations-group",label:"Organizations:","label-for":"organizations"}},[n("b-form-tags",{attrs:{"input-id":"organizations","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,r=e.inputHandlers,o=e.disabled,s=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:o,variant:"success"},on:{remove:function(t){return s(e)}}},[t._v("\n                  "+t._s(e)+"\n                ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:o||0===t.availableOrganizations.length,options:t.availableOrganizations},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                  Choose an organization...\n                ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),r))]}}]),model:{value:t.selectedOrganizations,callback:function(e){t.selectedOrganizations=e},expression:"selectedOrganizations"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"archived-group",label:"Archived:","label-for":"archived"}},[n("b-form-checkbox",{attrs:{id:"archived"},model:{value:t.form.archived,callback:function(e){t.$set(t.form,"archived",e)},expression:"form.archived"}},[t._v("\n          When archived the pipeline is not visible for regular users and no longer triggers for any triggers defined in the manifest.\n        ")])],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary",disabled:!t.ready}},[t._v("\n        Update\n      ")]),t._v(" "),n("b-button",{attrs:{variant:"light",to:{name:"AdminPipelines"}}},[t._v("\n        Cancel\n      ")])],1)],1)])};a._withStripped=!0;var i=n("Ed67"),r=n("giZP"),o=n("R5cT"),s=n("w+YJ"),l=n("oXok"),c=n("F0nd"),u=n("g2Gq"),d=n("GUe+"),p={components:{BForm:i.a,BFormGroup:r.a,BFormInput:o.a,BFormCheckbox:s.a,BFormTags:l.a,BFormTag:c.a,BFormSelect:u.a,BButton:d.a},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null}},data:function(){return{roles:[],organizations:[],groups:[],form:{name:"",roles:[],archived:!1},selectedGroups:[],selectedOrganizations:[],loaded:{roles:!1,organizations:!1,groups:!1,pipeline:!1}}},created:function(){this.loadRoles(),this.loadGroups(),this.loadOrganizations(),this.loadForm()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data,t.loaded.roles=!0})).catch((function(t){console.warn(t)}))},loadGroups:function(){var t=this;this.axios.get("/api/groups?page[number]=1&page[size]=100").then((function(e){t.groups=e.data.items,t.loaded.groups=!0})).catch((function(t){console.warn(t)}))},loadOrganizations:function(){var t=this;this.axios.get("/api/organizations?page[number]=1&page[size]=100").then((function(e){t.organizations=e.data.items,t.loaded.organizations=!0})).catch((function(t){console.warn(t)}))},loadForm:function(){var t=this;this.axios.get("/api/admin/pipelines/".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName)).then((function(e){t.form=e.data,t.form&&t.form.groups&&(t.selectedGroups=t.form.groups.map((function(t){return t.name}))),t.form&&t.form.organizations&&(t.selectedOrganizations=t.form.organizations.map((function(t){return t.name}))),t.form.archived||(t.form.archived=!1),t.loaded.pipeline=!0})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.selectedGroups.length>0?this.form.groups=this.groups.filter((function(t){return-1!==e.selectedGroups.indexOf(t.name)})).map((function(t){return{id:t.id,name:t.name}})):this.form.groups=[],this.selectedOrganizations.length>0?this.form.organizations=this.organizations.filter((function(t){return-1!==e.selectedOrganizations.indexOf(t.name)})).map((function(t){return{id:t.id,name:t.name}})):this.form.organizations=[],this.axios.put("/api/admin/pipelines/".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName),this.form).then((function(t){e.$router.push({name:"AdminPipelines"})})).catch((function(t){console.warn(t)}))}},computed:{pipelineName:function(){return this.form&&this.form.repoSource&&this.form.repoOwner&&this.form.repoName?this.form.repoSource+"/"+this.form.repoOwner+"/"+this.form.repoName:""},availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))},availableGroups:function(){var t=this;return this.groups.map((function(t){return t.name})).filter((function(e){return!t.form||!t.selectedGroups||-1===t.selectedGroups.indexOf(e)}))},availableOrganizations:function(){var t=this;return this.organizations.map((function(t){return t.name})).filter((function(e){return!t.form||!t.selectedOrganizations||-1===t.selectedOrganizations.indexOf(e)}))},ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},f=n("KHd+"),m=Object(f.a)(p,a,[],!1,null,null,null);m.options.__file="src/views/AdminPipelineUpdate.vue";e.default=m.exports},CUMe:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.limitCommits,(function(e){return n("div",{key:e.message,staticClass:"text-truncate"},[t._v("\n    "+t._s(e.message)+" / "+t._s(e.author.name)+"\n  ")])})),0)};a._withStripped=!0;var i={props:{commits:{type:Array,default:null},limit:{type:Number,default:3}},computed:{limitCommits:function(){return this.commits?this.commits.length<=this.limit?this.commits:this.commits.slice(0,this.limit):[]}}},r=n("KHd+"),o=Object(r.a)(i,a,[],!1,null,null,null);o.options.__file="src/components/Commits.vue";e.a=o.exports},D8w6:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.duration&&t.duration>0?n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"d-none d-sm-inline",attrs:{title:t.title}},[t._v("\n  in "),n("span",{class:t.$options.filters.colorDurationClass(t.duration)},[t._v(t._s(t._f("formatDuration")(t.duration)))])]):t._e()};a._withStripped=!0;var i={props:{duration:{type:Number,default:null},pendingDuration:{type:Number,default:null}},computed:{title:function(){return this.pendingDuration>0?"Started after ".concat(this.$options.filters.formatDuration(this.pendingDuration)):""}}},r=n("KHd+"),o=Object(r.a)(i,a,[],!1,null,null,null);o.options.__file="src/components/DurationLabel.vue";e.a=o.exports},F0nd:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var a=n("3LMw"),i=n("Aecu"),r=n("Io6r"),o=n("kO/s"),s=n("jBgq"),l=n("6Ytq"),c=n("8p45"),u="BFormTag",d=a.a.extend({name:u,mixins:[o.a,s.a],props:{variant:{type:String,default:function(){return Object(r.b)(u,"variant")}},disabled:{type:Boolean,default:!1},title:{type:String},pill:{type:Boolean,default:!1},removeLabel:{type:String,default:function(){return Object(r.b)(u,"removeLabel")}},tag:{type:String,default:"span"}},methods:{onDelete:function(t){var e=t.type,n=t.keyCode;this.disabled||"click"!==e&&("keydown"!==e||n!==i.a.DELETE)||this.$emit("remove")}},render:function(t){var e=this.safeId(),n=this.safeId("_taglabel_"),a=t();this.disabled||(a=t(c.a,{staticClass:"b-form-tag-remove ml-1",props:{ariaLabel:this.removeLabel},attrs:{"aria-controls":e,"aria-describedby":n,"aria-keyshortcuts":"Delete"},on:{click:this.onDelete,keydown:this.onDelete}}));var i=t("span",{staticClass:"b-form-tag-content flex-grow-1 text-truncate",attrs:{id:n}},this.normalizeSlot("default")||this.title||[t()]);return t(l.a,{staticClass:"b-form-tag d-inline-flex align-items-baseline mw-100",class:{disabled:this.disabled},attrs:{id:e,title:this.title||null,"aria-labelledby":n},props:{tag:this.tag,variant:this.variant,pill:this.pill}},[i,a])}})},F5n6:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.linkGenerator?n("b-pagination-nav",{attrs:{"number-of-pages":t.pagination.totalPages>0?t.pagination.totalPages:1,"link-gen":t.linkGenerator,"use-router":"",size:"md","hide-goto-end-buttons":"",align:"center"}}):n("b-pagination",{attrs:{"total-rows":t.pagination.totalItems,"per-page":t.pagination.size,size:"md","hide-goto-end-buttons":"",align:"center"},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1)};a._withStripped=!0;var i=n("N1fq"),r=n("JtJI"),o={components:{BPaginationNav:i.a,BPagination:r.a},props:{pagination:{type:Object,default:null},linkGenerator:{type:Function,default:null}}},s=n("KHd+"),l=Object(s.a)(o,a,[],!1,null,null,null);l.options.__file="src/components/Pagination.vue";e.a=l.exports},"GaE+":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Update client")]),t._v(" "),n("b-form-group",{attrs:{id:"name-group",label:"Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name for the client"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"roles-group",label:"Roles:","label-for":"roles"}},[n("b-form-tags",{attrs:{"input-id":"roles","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,r=e.inputHandlers,o=e.disabled,s=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:o,variant:"info"},on:{remove:function(t){return s(e)}}},[t._v("\n                  "+t._s(e)+"\n                ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:o||0===t.availableRoles.length,options:t.availableRoles},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                  Choose a role...\n                ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),r))]}}]),model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary",disabled:!t.ready}},[t._v("\n        Update\n      ")]),t._v(" "),n("b-button",{attrs:{variant:"light",to:{name:"AdminClients"}}},[t._v("\n        Cancel\n      ")])],1)],1),t._v(" "),n("div",{staticClass:"rounded border border-danger bg-white p-3 mt-3"},[n("div",{staticClass:"d-flex justify-content-between"},[t._m(0),t._v(" "),n("div",{staticClass:"align-self-center"},[n("b-button",{attrs:{variant:"danger"},on:{click:t.onDelete}},[t._v("\n          Delete this client\n        ")])],1)])])])};a._withStripped=!0;var i=n("Ed67"),r=n("giZP"),o=n("R5cT"),s=n("oXok"),l=n("F0nd"),c=n("g2Gq"),u=n("GUe+"),d={components:{BForm:i.a,BFormGroup:r.a,BFormInput:o.a,BFormTags:s.a,BFormTag:l.a,BFormSelect:c.a,BButton:u.a},props:{id:{type:String,default:null}},data:function(){return{roles:[],form:{name:"",roles:[]},loaded:{roles:!1,client:!1}}},created:function(){this.loadRoles(),this.loadForm()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data,t.loaded.roles=!0})).catch((function(t){console.warn(t)}))},loadForm:function(){var t=this;this.axios.get("/api/clients/".concat(this.id)).then((function(e){t.form=e.data,t.loaded.client=!0})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.axios.put("/api/clients/".concat(this.id),this.form).then((function(t){e.$router.push({name:"AdminClients"})})).catch((function(t){console.warn(t)}))},onDelete:function(t){var e=this;t.preventDefault(),this.axios.delete("/api/clients/".concat(this.id)).then((function(t){e.$router.push({name:"AdminClients"})})).catch((function(t){console.warn(t)}))}},computed:{availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))},ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},p=n("KHd+"),f=Object(p.a)(d,a,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h6",[this._v("Delete this client")]),this._v(" "),e("p",{staticClass:"align-self-end"},[this._v("\n          Once you delete a client, there is no going back. Please be certain.\n        ")])])}],!1,null,null,null);f.options.__file="src/views/AdminClientUpdate.vue";e.default=f.exports},GfzJ:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.splitLabels.length>0?n("b-button-group",{staticClass:"mb-3 mr-2 bg-white"},[n("b-input-group-prepend",{attrs:{"is-text":""}},[n("font-awesome-icon",{attrs:{icon:"tag"}})],1),t._v(" "),t._l(t.splitLabels,(function(e){return n("b-button",{key:e,staticClass:"border-btn-group bg-white text-nowrap",attrs:{variant:"outline-primary"}},[t._v("\n    "+t._s(e)+" "),n("router-link",{staticClass:"badge badge-primary",attrs:{to:{query:t.queryGenerator({labels:t.labelLinkGenerator(e)})},"active-class":"router-link-active"}},[t._v("\n      ×\n    ")])],1)}))],2):t._e()};a._withStripped=!0;var i=n("EqoQ"),r=n("GUe+"),o=n("NlY+"),s=n("10Jb"),l=n("7O5W"),c=n("wHSu"),u=n("rT2p");l.c.add(c.Q);var d={components:{BButtonGroup:i.a,BButton:r.a,BInputGroupPrepend:o.a,FontAwesomeIcon:u.a},mixins:[s.a],props:{filter:{type:Object,default:null}},methods:{labelLinkGenerator:function(t){if(!this.filter||!this.filter.labels||0===this.filter.labels.length)return"";var e=[];return this.filter&&this.filter.labels&&(e=this.filter.labels.split(",")),e.filter((function(e){return e!==t})).join(",")}},computed:{splitLabels:function(){return this.filter.labels&&0!==this.filter.labels.length?this.filter.labels.split(","):[]}}},p=n("KHd+"),f=Object(p.a)(d,a,[],!1,null,null,null);f.options.__file="src/components/LabelFilter.vue";e.a=f.exports},IkAG:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-input-group",{staticClass:"mb-3"},[n("b-input-group-prepend",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{"is-text":"",title:"Search on pipeline name"}},[n("font-awesome-icon",{attrs:{icon:"search"}})],1),t._v(" "),n("b-form-input",{attrs:{type:"text",autocomplete:"off"},on:{input:t.onInput},model:{value:t.mutableModel,callback:function(e){t.mutableModel=e},expression:"mutableModel"}})],1)};a._withStripped=!0;var i=n("R5cT"),r=n("XhI9"),o=n("NlY+"),s=n("7O5W"),l=n("wHSu"),c=n("rT2p");s.c.add(l.K);var u={components:{BFormInput:i.a,BInputGroup:r.a,BInputGroupPrepend:o.a,FontAwesomeIcon:c.a},props:{model:{type:String,default:null},onInput:{type:Function,default:null}},watch:{model:{handler:function(t,e){this.mutableModel=t},deep:!0}},data:function(){return{mutableModel:this.model}}},d=n("KHd+"),p=Object(d.a)(u,a,[],!1,null,null,null);p.options.__file="src/components/PipelineFilter.vue";e.a=p.exports},IzDB:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",t._l(t.sortedLabels,(function(e){return n("router-link",{key:e.key,staticClass:"label btn btn-light btn-sm mr-1 mb-1",attrs:{to:{name:t.routeName?t.routeName:"Pipelines",query:t.queryGenerator({labels:e.key+"="+e.value})},exact:""}},[t._v("\n    "+t._s(e.key)+"="+t._s(e.value)+"\n  ")])})),1)};a._withStripped=!0;var i=n("10Jb"),r={props:{labels:{type:Array,default:function(){return[]}},routeName:{type:String,default:null}},mixins:[i.a],computed:{sortedLabels:function(){return this.labels?this.labels.slice().sort((function(t,e){return t.key>e.key})):[]}}},o=n("KHd+"),s=Object(o.a)(r,a,[],!1,null,null,null);s.options.__file="src/components/Labels.vue";e.a=s.exports},JWTo:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.cssClass},[n("property-label",{class:t.labelCssClass,attrs:{text:t.label}}),t._v(" "),n("property-value",{class:t.valueCssClass},[t._t("default",[t._v(t._s(t.value))])],2)],1)};a._withStripped=!0;var i=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"property-label"},[this._v("\n  "+this._s(this.text)+"\n")])};i._withStripped=!0;var r={props:{text:{type:String,default:""}}},o=n("KHd+"),s=Object(o.a)(r,i,[],!1,null,null,null);s.options.__file="src/components/PropertyLabel.vue";var l=s.exports,c=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"property-value"},[this._t("default",[this._v(this._s(this.text))])],2)};c._withStripped=!0;var u={props:{text:{type:String,default:""}}},d=Object(o.a)(u,c,[],!1,null,null,null);d.options.__file="src/components/PropertyValue.vue";var p={components:{PropertyLabel:l,PropertyValue:d.exports},props:{label:{type:String,default:""},value:{type:String,default:""},variant:{type:String,default:"primary",validator:function(t){return-1!==["primary","secondary","success","danger","warning","info","light","dark"].indexOf(t)}},labelCssClass:{type:String,default:""},valueCssClass:{type:String,default:""},title:{type:Boolean,default:!1},wide:{type:Boolean,default:!1},noTruncate:{type:Boolean,default:!1}},computed:{cssClass:function(){return this.title?"property-block-title variant-".concat(this.variant):this.wide?"property-block-wide":this.noTruncate?"property-block-no-truncate":"property-block"}}},f=Object(o.a)(p,a,[],!1,null,null,null);f.options.__file="src/components/PropertyBlock.vue";e.a=f.exports},KqDH:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("b-button",{attrs:{to:{name:"AdminClientCreate"},variant:"success"}},[t._v("\n        Create client\n      ")])],1),t._v(" "),n("div",{staticClass:"col-6 text-right"},[n("pagination-compact",{staticClass:"float-right",attrs:{pagination:t.pagination}})],1)]),t._v(" "),n("router-view"),t._v(" "),n("b-table",{ref:"clients",attrs:{items:t.clientsProvider,fields:t.fields,"per-page":t.pagination.size,"current-page":t.pagination.page,"sort-icon-left":"","no-provider-sorting":"",striped:"",hover:"",borderless:"",stacked:"lg"},scopedSlots:t._u([{key:"head(checkbox)",fn:function(){return[n("b-form-checkbox",{attrs:{id:"toggle-all",checked:t.clients.length>0&&t.clients.length===t.selected.length,indeterminate:t.selected.length>0&&t.selected.length<t.clients.length,disabled:!t.ready},on:{change:t.toggleAll}})]},proxy:!0},{key:"top-row",fn:function(){return[n("b-td",{attrs:{colspan:"2"}}),t._v(" "),n("b-td",[n("b-form-select",{attrs:{options:t.mappedRoles,disabled:!t.ready||0===t.selected.length},on:{change:t.addRole},model:{value:t.role,callback:function(e){t.role=e},expression:"role"}})],1),t._v(" "),n("b-td",{attrs:{colspan:"1"}})]},proxy:!0},{key:"cell(checkbox)",fn:function(e){return[n("b-form-checkbox",{attrs:{value:e.item.id},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})]}},{key:"cell(roles)",fn:function(e){return t._l(e.item.roles,(function(e){return n("b-badge",{key:e,staticClass:"mr-1",attrs:{variant:"info"}},[t._v("\n        "+t._s(e)+"\n      ")])}))}},{key:"cell(actions)",fn:function(e){return[n("b-button",{staticClass:"mr-1 mb-1",attrs:{size:"sm"},on:{click:e.toggleDetails}},[t._v("\n        "+t._s(e.detailsShowing?"Hide":"Details")+"\n      ")]),t._v(" "),n("b-button",{staticClass:"mr-1 mb-1",attrs:{size:"sm",to:{name:"AdminClientUpdate",params:{id:e.item.id}}}},[t._v("\n        Edit\n      ")])]}},{key:"row-details",fn:function(e){return[n("b-card",[n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("ID:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.id))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Active:")])]),t._v(" "),n("b-col",[t._v(t._s(!!e.item.active&&e.item.active))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Client ID:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.clientID))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Client secret:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.clientSecret))])],1)],1)]}}])}),t._v(" "),t.clients.length>0?n("pagination",{attrs:{pagination:t.pagination}}):t._e()],1)};a._withStripped=!0;var i=n("KaE5"),r=n("CAmi"),o=n("GUe+"),s=n("IF94"),l=n("oVt+"),c=n("sove"),u=n("6Ytq"),d=n("w+YJ"),p=n("g2Gq"),f=n("eU28"),m=n("F5n6"),g={components:{BTable:i.a,BTd:r.a,BButton:o.a,BCard:s.a,BRow:l.a,BCol:c.a,BBadge:u.a,BFormCheckbox:d.a,BFormSelect:p.a,PaginationCompact:f.a,Pagination:m.a},data:function(){return{selected:[],role:null,roles:[],clients:[],pagination:{page:1,size:100,totalPages:0,totalItems:0},fields:[{key:"checkbox",label:"",class:"text-center"},{key:"name",sortable:!0},{key:"roles",sortable:!0},{key:"actions"}],loaded:{roles:!1,clients:!1}}},created:function(){this.loadRoles()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data,t.loaded.roles=!0})).catch((function(t){console.warn(t)}))},clientsProvider:function(t){var e=this;return this.axios.get("/api/clients?page[number]=".concat(t.currentPage,"&page[size]=").concat(t.perPage)).then((function(t){return e.clients=t.data.items,e.pagination=t.data.pagination,e.loaded.clients=!0,e.clients||[]}))},toggleAll:function(t){this.selected=t?this.clients.map((function(t){return t.id})):[]},addRole:function(){var t=this,e={clients:this.selected,role:this.role};this.axios.post("/api/admin/batch/clients",e).then((function(e){t.role=null,t.selected=[],t.$refs.clients.refresh()})).catch((function(e){t.role=null,console.warn(e)}))}},computed:{mappedRoles:function(){return this.roles?[{value:null,text:"Add role"}].concat(this.roles.map((function(t){return{value:"".concat(t),text:"".concat(t)}}))):[]},ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},b=n("KHd+"),h=Object(b.a)(g,a,[],!1,null,null,null);h.options.__file="src/views/AdminClients.vue";e.default=h.exports},NW6Z:function(t,e,n){"use strict";var a=n("0Prl");n.n(a).a},YTVD:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 text-right"},[n("pagination-compact",{staticClass:"float-right",attrs:{pagination:t.pagination}})],1)]),t._v(" "),n("b-table",{ref:"users",attrs:{items:t.usersProvider,fields:t.fields,"per-page":t.pagination.size,"current-page":t.pagination.page,"sort-icon-left":"","no-provider-sorting":"",striped:"",hover:"",borderless:"",stacked:"lg"},scopedSlots:t._u([{key:"head(checkbox)",fn:function(){return[n("b-form-checkbox",{attrs:{id:"toggle-all",checked:t.users.length>0&&t.users.length===t.selected.length,indeterminate:t.selected.length>0&&t.selected.length<t.users.length,disabled:!t.ready},on:{change:t.toggleAll}})]},proxy:!0},{key:"top-row",fn:function(){return[n("b-td",{attrs:{colspan:"3"}}),t._v(" "),n("b-td",[n("b-form-select",{attrs:{options:t.mappedRoles,disabled:!t.ready||0===t.selected.length},on:{change:t.addRole},model:{value:t.role,callback:function(e){t.role=e},expression:"role"}})],1),t._v(" "),n("b-td",[n("b-form-select",{attrs:{options:t.mappedGroups,disabled:!t.ready||0===t.selected.length},on:{change:t.addGroup},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}})],1),t._v(" "),n("b-td",[n("b-form-select",{attrs:{options:t.mappedOrganizations,disabled:!t.ready||0===t.selected.length},on:{change:t.addOrganization},model:{value:t.organization,callback:function(e){t.organization=e},expression:"organization"}})],1),t._v(" "),n("b-td",{attrs:{colspan:"3"}})]},proxy:!0},{key:"cell(checkbox)",fn:function(e){return[n("b-form-checkbox",{attrs:{value:e.item.id},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})]}},{key:"cell(roles)",fn:function(e){return t._l(e.item.roles,(function(e){return n("b-badge",{key:e,staticClass:"mr-1",attrs:{variant:"info"}},[t._v("\n        "+t._s(e)+"\n      ")])}))}},{key:"cell(groups)",fn:function(e){return t._l(e.item.groups,(function(e){return n("b-badge",{key:e.name,staticClass:"mr-1",attrs:{variant:"warning"}},[t._v("\n        "+t._s(e.name)+"\n      ")])}))}},{key:"cell(organizations)",fn:function(e){return t._l(e.item.organizations,(function(e){return n("b-badge",{key:e.name,staticClass:"mr-1",attrs:{variant:"success"}},[t._v("\n        "+t._s(e.name)+"\n      ")])}))}},{key:"cell(actions)",fn:function(e){return[n("b-button",{staticClass:"mr-1 mb-1",attrs:{size:"sm"},on:{click:e.toggleDetails}},[t._v("\n        "+t._s(e.detailsShowing?"Hide":"Details")+"\n      ")]),t._v(" "),n("b-button",{staticClass:"mr-1 mb-1",attrs:{size:"sm",to:{name:"AdminUserUpdate",params:{id:e.item.id}}}},[t._v("\n        Edit\n      ")]),t._v(" "),n("b-button",{staticClass:"mr-1 mb-1",attrs:{size:"sm",variant:"danger",href:"/api/auth/impersonate/"+e.item.id}},[t._v("\n        Impersonate\n      ")])]}},{key:"row-details",fn:function(e){return[n("b-card",[n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("ID:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.id))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Active:")])]),t._v(" "),n("b-col",[t._v(t._s(!!e.item.active&&e.item.active))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Identities:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.identities))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Organizations:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.organizations))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Groups:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.groups))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Preferences:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.preferences))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Current provider:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.currentProvider))])],1),t._v(" "),t.avatar(e.item)?n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Avatar:")])]),t._v(" "),n("b-col",[n("b-avatar",{staticClass:"mr-2",attrs:{src:t.avatar(e.item)}})],1)],1):t._e()],1)]}}])}),t._v(" "),t.users.length>0?n("pagination",{attrs:{pagination:t.pagination}}):t._e()],1)};a._withStripped=!0;var i=n("KaE5"),r=n("CAmi"),o=n("GUe+"),s=n("IF94"),l=n("oVt+"),c=n("sove"),u=n("6KOa"),d=n("6Ytq"),p=n("w+YJ"),f=n("g2Gq"),m=n("eU28"),g=n("F5n6"),b={components:{BTable:i.a,BTd:r.a,BButton:o.a,BCard:s.a,BRow:l.a,BCol:c.a,BAvatar:u.a,PaginationCompact:m.a,Pagination:g.a,BBadge:d.a,BFormCheckbox:p.a,BFormSelect:f.a},data:function(){var t=this;return{selected:[],group:null,groups:[],organization:null,organizations:[],role:null,roles:[],users:[],pagination:{page:1,size:100,totalPages:0,totalItems:0},fields:[{key:"checkbox",label:"",class:"text-center"},{key:"name",sortable:!0},{key:"email",sortable:!0},{key:"roles",sortable:!0},{key:"groups",sortable:!0},{key:"organizations",sortable:!0},{key:"firstVisit",sortable:!0,formatter:function(e,n,a){return t.$options.filters.formatDatetime(e)}},{key:"lastVisit",sortable:!0,formatter:function(e,n,a){return t.$options.filters.formatDatetime(e)}},{key:"actions"}],loaded:{roles:!1,groups:!1,organizations:!1,users:!1}}},created:function(){this.loadRoles(),this.loadGroups(),this.loadOrganizations()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data,t.loaded.roles=!0})).catch((function(t){console.warn(t)}))},loadGroups:function(){var t=this;this.axios.get("/api/groups?page[number]=1&page[size]=100").then((function(e){t.groups=e.data.items,t.loaded.groups=!0})).catch((function(t){console.warn(t)}))},loadOrganizations:function(){var t=this;this.axios.get("/api/organizations?page[number]=1&page[size]=100").then((function(e){t.organizations=e.data.items,t.loaded.organizations=!0})).catch((function(t){console.warn(t)}))},usersProvider:function(t){var e=this;return this.axios.get("/api/users?page[number]=".concat(t.currentPage,"&page[size]=").concat(t.perPage).concat("")).then((function(t){return e.users=t.data.items,e.pagination=t.data.pagination,e.loaded.users=!0,e.users||[]}))},avatar:function(t){return t.identities&&t.identities.length>0&&t.identities[0].avatar?t.identities[0].avatar:void 0},toggleAll:function(t){this.selected=t?this.users.map((function(t){return t.id})):[]},addRole:function(){var t=this,e={users:this.selected,role:this.role};this.axios.post("/api/admin/batch/users",e).then((function(e){t.role=null,t.selected=[],t.$refs.users.refresh()})).catch((function(e){t.role=null,console.warn(e)}))},addGroup:function(){var t=this,e={users:this.selected,group:this.groups.map((function(t){return{id:t.id,name:t.name}})).find((function(e){return e.name===t.group}))};this.axios.post("/api/admin/batch/users",e).then((function(e){t.group=null,t.selected=[],t.$refs.users.refresh()})).catch((function(e){t.group=null,console.warn(e)}))},addOrganization:function(){var t=this,e={users:this.selected,organization:this.organizations.map((function(t){return{id:t.id,name:t.name}})).find((function(e){return e.name===t.organization}))};this.axios.post("/api/admin/batch/users",e).then((function(e){t.organization=null,t.selected=[],t.$refs.users.refresh()})).catch((function(e){t.organization=null,console.warn(e)}))}},computed:{mappedRoles:function(){return this.roles?[{value:null,text:"Add role"}].concat(this.roles.map((function(t){return{value:"".concat(t),text:"".concat(t)}}))):[]},mappedGroups:function(){return this.groups?[{value:null,text:"Add group"}].concat(this.groups.map((function(t){return{value:"".concat(t.name),text:"".concat(t.name)}}))):[]},mappedOrganizations:function(){return this.organizations?[{value:null,text:"Add organization"}].concat(this.organizations.map((function(t){return{value:"".concat(t.name),text:"".concat(t.name)}}))):[]},ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},h=n("KHd+"),v=Object(h.a)(b,a,[],!1,null,null,null);v.options.__file="src/views/AdminUsers.vue";e.default=v.exports},bDDd:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Update organization")]),t._v(" "),n("b-form-group",{attrs:{id:"name-group",label:"Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name for the organization"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"roles-group",label:"Roles:","label-for":"roles"}},[n("b-form-tags",{attrs:{"input-id":"roles","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,r=e.inputHandlers,o=e.disabled,s=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:o,variant:"info"},on:{remove:function(t){return s(e)}}},[t._v("\n                  "+t._s(e)+"\n                ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:o||0===t.availableRoles.length,options:t.availableRoles},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                  Choose a role...\n                ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),r))]}}]),model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary",disabled:!t.ready}},[t._v("\n        Update\n      ")]),t._v(" "),n("b-button",{attrs:{variant:"light",to:{name:"AdminOrganizations"}}},[t._v("\n        Cancel\n      ")])],1)],1),t._v(" "),n("div",{staticClass:"rounded border border-danger bg-white p-3 mt-3"},[n("div",{staticClass:"d-flex justify-content-between"},[t._m(0),t._v(" "),n("div",{staticClass:"align-self-center"},[n("b-button",{attrs:{variant:"danger"},on:{click:t.onDelete}},[t._v("\n          Delete this organization\n        ")])],1)])])])};a._withStripped=!0;var i=n("Ed67"),r=n("giZP"),o=n("R5cT"),s=n("oXok"),l=n("F0nd"),c=n("g2Gq"),u=n("GUe+"),d={components:{BForm:i.a,BFormGroup:r.a,BFormInput:o.a,BFormTags:s.a,BFormTag:l.a,BFormSelect:c.a,BButton:u.a},props:{id:{type:String,default:null}},data:function(){return{roles:[],form:{name:"",roles:[]},loaded:{roles:!1,organization:!1}}},created:function(){this.loadRoles(),this.loadForm()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data,t.loaded.roles=!0})).catch((function(t){console.warn(t)}))},loadForm:function(){var t=this;this.axios.get("/api/organizations/".concat(this.id)).then((function(e){t.form=e.data,t.loaded.organization=!0})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.axios.put("/api/organizations/".concat(this.id),this.form).then((function(t){e.$router.push({name:"AdminOrganizations"})})).catch((function(t){console.warn(t)}))},onDelete:function(t){var e=this;t.preventDefault(),this.axios.delete("/api/organizations/".concat(this.id)).then((function(t){e.$router.push({name:"AdminOrganizations"})})).catch((function(t){console.warn(t)}))}},computed:{availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))},ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},p=n("KHd+"),f=Object(p.a)(d,a,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h6",[this._v("Delete this organization")]),this._v(" "),e("p",{staticClass:"align-self-end"},[this._v("\n          Once you delete an organization, there is no going back. Please be certain.\n        ")])])}],!1,null,null,null);f.options.__file="src/views/AdminOrganizationUpdate.vue";e.default=f.exports},eU28:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-3 compact-navigation"},[t.pagination.totalItems>0?n("span",{staticClass:"mr-2"},[t._v("\n    "+t._s(t.firstPageItem)+"-"+t._s(t.lastPageItem)+" of "+t._s(t.pagination.totalItems)+"\n  ")]):t._e(),t._v(" "),t.linkGenerator?n("b-pagination-nav",{staticClass:"d-inline-flex",attrs:{"number-of-pages":t.pagination.totalPages>0?t.pagination.totalPages:1,"link-gen":t.linkGenerator,"use-router":"",limit:"3",size:"md","hide-goto-end-buttons":"",align:"right"}}):n("b-pagination",{staticClass:"d-inline-flex",attrs:{"total-rows":t.pagination.totalItems,"per-page":t.pagination.size,limit:"3",size:"md","hide-goto-end-buttons":"",align:"right"},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1)};a._withStripped=!0;var i=n("N1fq"),r=n("JtJI"),o={components:{BPaginationNav:i.a,BPagination:r.a},props:{pagination:{type:Object,default:null},linkGenerator:{type:Function,default:null}},computed:{firstPageItem:function(){return 1+(this.pagination.page-1)*this.pagination.size},lastPageItem:function(){return this.pagination.page*this.pagination.size<this.pagination.totalItems?this.pagination.page*this.pagination.size:this.pagination.totalItems}}},s=(n("NW6Z"),n("KHd+")),l=Object(s.a)(o,a,[],!1,null,null,null);l.options.__file="src/components/PaginationCompact.vue";e.a=l.exports},h0kL:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("b-button",{attrs:{to:{name:"AdminGroupCreate"},variant:"success"}},[t._v("\n        Create group\n      ")])],1),t._v(" "),n("div",{staticClass:"col-6 text-right"},[n("pagination-compact",{staticClass:"float-right",attrs:{pagination:t.pagination}})],1)]),t._v(" "),n("router-view"),t._v(" "),n("b-table",{ref:"groups",attrs:{items:t.groupsProvider,fields:t.fields,"per-page":t.pagination.size,"current-page":t.pagination.page,"sort-icon-left":"","no-provider-sorting":"",striped:"",hover:"",borderless:"",stacked:"lg"},scopedSlots:t._u([{key:"head(checkbox)",fn:function(){return[n("b-form-checkbox",{attrs:{id:"toggle-all",checked:t.groups.length>0&&t.groups.length===t.selected.length,indeterminate:t.selected.length>0&&t.selected.length<t.groups.length,disabled:!t.ready},on:{change:t.toggleAll}})]},proxy:!0},{key:"top-row",fn:function(){return[n("b-td",{attrs:{colspan:"2"}}),t._v(" "),n("b-td",[n("b-form-select",{attrs:{options:t.mappedRoles,disabled:!t.ready||0===t.selected.length},on:{change:t.addRole},model:{value:t.role,callback:function(e){t.role=e},expression:"role"}})],1),t._v(" "),n("b-td",[n("b-form-select",{attrs:{options:t.mappedOrganizations,disabled:!t.ready||0===t.selected.length},on:{change:t.addOrganization},model:{value:t.organization,callback:function(e){t.organization=e},expression:"organization"}})],1),t._v(" "),n("b-td",{attrs:{colspan:"1"}})]},proxy:!0},{key:"cell(checkbox)",fn:function(e){return[n("b-form-checkbox",{attrs:{value:e.item.id},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})]}},{key:"cell(roles)",fn:function(e){return t._l(e.item.roles,(function(e){return n("b-badge",{key:e,staticClass:"mr-1",attrs:{variant:"info"}},[t._v("\n        "+t._s(e)+"\n      ")])}))}},{key:"cell(organizations)",fn:function(e){return t._l(e.item.organizations,(function(e){return n("b-badge",{key:e.name,staticClass:"mr-1",attrs:{variant:"success"}},[t._v("\n        "+t._s(e.name)+"\n      ")])}))}},{key:"cell(actions)",fn:function(e){return[n("b-button",{staticClass:"mr-1 mb-1",attrs:{size:"sm"},on:{click:e.toggleDetails}},[t._v("\n        "+t._s(e.detailsShowing?"Hide":"Details")+"\n      ")]),t._v(" "),n("b-button",{staticClass:"mr-1 mb-1",attrs:{size:"sm",to:{name:"AdminGroupUpdate",params:{id:e.item.id}}}},[t._v("\n        Edit\n      ")])]}},{key:"row-details",fn:function(e){return[n("b-card",[n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("ID:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.id))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Identities:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.identities))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Members:")])]),t._v(" "),n("b-col",[n("admin-group-members",{attrs:{id:e.item.id}})],1)],1)],1)]}}])}),t._v(" "),t.groups.length>0?n("pagination",{attrs:{pagination:t.pagination}}):t._e()],1)};a._withStripped=!0;var i=n("KaE5"),r=n("CAmi"),o=n("GUe+"),s=n("IF94"),l=n("oVt+"),c=n("sove"),u=n("6Ytq"),d=n("w+YJ"),p=n("g2Gq"),f=n("eU28"),m=n("F5n6"),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",t._l(t.members,(function(e){return n("li",{key:e.id},[t._v("\n    "+t._s(e.name)+" ("+t._s(e.email)+")\n  ")])})),0)};g._withStripped=!0;var b={props:{id:{type:String,default:null}},data:function(){return{members:[]}},created:function(){this.loadMembers()},methods:{loadMembers:function(){var t=this;return this.axios.get("/api/users?filter[group-id]=".concat(this.id,"&page[size]=100")).then((function(e){t.members=e.data.items})).catch((function(t){console.warn(t)}))}}},h=n("KHd+"),v=Object(h.a)(b,g,[],!1,null,null,null);v.options.__file="src/components/AdminGroupMembers.vue";var _=v.exports,y={components:{BTable:i.a,BTd:r.a,BButton:o.a,BCard:s.a,BRow:l.a,BCol:c.a,BBadge:u.a,BFormCheckbox:d.a,BFormSelect:p.a,PaginationCompact:f.a,Pagination:m.a,AdminGroupMembers:_},data:function(){return{selected:[],organization:null,organizations:[],role:null,roles:[],groups:[],pagination:{page:1,size:100,totalPages:0,totalItems:0},fields:[{key:"checkbox",label:"",class:"text-center"},{key:"name",sortable:!0},{key:"roles",sortable:!0},{key:"organizations",sortable:!0},{key:"actions"}],loaded:{roles:!1,organizations:!1,groups:!1}}},created:function(){this.loadRoles(),this.loadOrganizations()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data,t.loaded.roles=!0})).catch((function(t){console.warn(t)}))},loadOrganizations:function(){var t=this;this.axios.get("/api/organizations?page[number]=1&page[size]=100").then((function(e){t.organizations=e.data.items,t.loaded.organizations=!0})).catch((function(t){console.warn(t)}))},groupsProvider:function(t){var e=this;return this.axios.get("/api/groups?page[number]=".concat(t.currentPage,"&page[size]=").concat(t.perPage)).then((function(t){return e.groups=t.data.items,e.pagination=t.data.pagination,e.loaded.groups=!0,e.groups||[]}))},toggleAll:function(t){this.selected=t?this.groups.map((function(t){return t.id})):[]},addRole:function(){var t=this,e={groups:this.selected,role:this.role};this.axios.post("/api/admin/batch/groups",e).then((function(e){t.role=null,t.selected=[],t.$refs.groups.refresh()})).catch((function(e){t.role=null,console.warn(e)}))},addOrganization:function(){var t=this,e={groups:this.selected,organization:this.organizations.map((function(t){return{id:t.id,name:t.name}})).find((function(e){return e.name===t.organization}))};this.axios.post("/api/admin/batch/groups",e).then((function(e){t.organization=null,t.selected=[],t.$refs.groups.refresh()})).catch((function(e){t.organization=null,console.warn(e)}))}},computed:{mappedRoles:function(){return this.roles?[{value:null,text:"Add role"}].concat(this.roles.map((function(t){return{value:"".concat(t),text:"".concat(t)}}))):[]},mappedOrganizations:function(){return this.organizations?[{value:null,text:"Add organization"}].concat(this.organizations.map((function(t){return{value:"".concat(t.name),text:"".concat(t.name)}}))):[]},ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},O=Object(h.a)(y,a,[],!1,null,null,null);O.options.__file="src/views/AdminGroups.vue";e.default=O.exports},"i/Bd":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Create new organization")]),t._v(" "),n("b-form-group",{attrs:{id:"name-group",label:"Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name for the organization"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"roles-group",label:"Roles:","label-for":"roles"}},[n("b-form-tags",{attrs:{"input-id":"roles","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,r=e.inputHandlers,o=e.disabled,s=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:o,variant:"info"},on:{remove:function(t){return s(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:o||0===t.availableRoles.length,options:t.availableRoles},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                Choose a role...\n              ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),r))]}}]),model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary",disabled:!t.ready}},[t._v("\n      Create\n    ")]),t._v(" "),n("b-button",{attrs:{variant:"danger",to:{name:"AdminOrganizations"}}},[t._v("\n      Cancel\n    ")])],1)],1)};a._withStripped=!0;var i=n("Ed67"),r=n("giZP"),o=n("R5cT"),s=n("oXok"),l=n("F0nd"),c=n("g2Gq"),u=n("GUe+"),d={components:{BForm:i.a,BFormGroup:r.a,BFormInput:o.a,BFormTags:s.a,BFormTag:l.a,BFormSelect:c.a,BButton:u.a},data:function(){return{roles:[],form:{name:"",roles:[]},loaded:{roles:!1}}},created:function(){this.loadRoles()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data,t.loaded.roles=!0})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.form.identities=[{provider:"estafette",name:this.form.name}],this.axios.post("/api/organizations",this.form).then((function(t){e.$router.push({name:"AdminOrganizations"})})).catch((function(t){console.warn(t)}))}},computed:{availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))},ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},p=n("KHd+"),f=Object(p.a)(d,a,[],!1,null,null,null);f.options.__file="src/views/AdminOrganizationCreate.vue";e.default=f.exports},iUgf:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Create new group")]),t._v(" "),n("b-form-group",{attrs:{id:"name-group",label:"Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name for the group"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"description-group",label:"Description:","label-for":"description"}},[n("b-form-input",{attrs:{id:"description",type:"text",placeholder:"Enter a description for the group"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"roles-group",label:"Roles:","label-for":"roles"}},[n("b-form-tags",{attrs:{"input-id":"roles","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,r=e.inputHandlers,o=e.disabled,s=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:o,variant:"info"},on:{remove:function(t){return s(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:o||0===t.availableRoles.length,options:t.availableRoles},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                Choose a role...\n              ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),r))]}}]),model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"organizations-group",label:"Organizations:","label-for":"organizations"}},[n("b-form-tags",{attrs:{"input-id":"organizations","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,r=e.inputHandlers,o=e.disabled,s=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:o,variant:"success"},on:{remove:function(t){return s(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:o||0===t.availableOrganizations.length,options:t.availableOrganizations},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                Choose an organization...\n              ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),r))]}}]),model:{value:t.selectedOrganizations,callback:function(e){t.selectedOrganizations=e},expression:"selectedOrganizations"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary",disabled:!t.ready}},[t._v("\n      Create\n    ")]),t._v(" "),n("b-button",{attrs:{variant:"danger",to:{name:"AdminGroups"}}},[t._v("\n      Cancel\n    ")])],1)],1)};a._withStripped=!0;var i=n("Ed67"),r=n("giZP"),o=n("R5cT"),s=n("oXok"),l=n("F0nd"),c=n("g2Gq"),u=n("GUe+"),d={components:{BForm:i.a,BFormGroup:r.a,BFormInput:o.a,BFormTags:s.a,BFormTag:l.a,BFormSelect:c.a,BButton:u.a},data:function(){return{roles:[],organizations:[],form:{name:"",roles:[]},selectedOrganizations:[],loaded:{roles:!1,organizations:!1}}},created:function(){this.loadRoles(),this.loadOrganizations()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data,t.loaded.roles=!0})).catch((function(t){console.warn(t)}))},loadOrganizations:function(){var t=this;this.axios.get("/api/organizations?page[number]=1&page[size]=100").then((function(e){t.organizations=e.data.items,t.loaded.organizations=!0})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.selectedOrganizations.length>0?this.form.organizations=this.organizations.filter((function(t){return-1!==e.selectedOrganizations.indexOf(t.name)})).map((function(t){return{id:t.id,name:t.name}})):this.form.organizations=[],this.form.identities=[{provider:"estafette",name:this.form.name}],this.axios.post("/api/groups",this.form).then((function(t){e.$router.push({name:"AdminGroups"})})).catch((function(t){console.warn(t)}))}},computed:{availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))},availableOrganizations:function(){var t=this;return this.organizations.map((function(t){return t.name})).filter((function(e){return!t.form||!t.selectedOrganizations||-1===t.selectedOrganizations.indexOf(e)}))},ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},p=n("KHd+"),f=Object(p.a)(d,a,[],!1,null,null,null);f.options.__file="src/views/AdminGroupCreate.vue";e.default=f.exports},nyiG:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("b-button",{attrs:{to:{name:"AdminOrganizationCreate"},variant:"success"}},[t._v("\n        Create organization\n      ")])],1),t._v(" "),n("div",{staticClass:"col-6 text-right"},[n("pagination-compact",{staticClass:"float-right",attrs:{pagination:t.pagination}})],1)]),t._v(" "),n("router-view"),t._v(" "),n("b-table",{ref:"organizations",attrs:{items:t.organizationsProvider,fields:t.fields,"per-page":t.pagination.size,"current-page":t.pagination.page,"sort-icon-left":"","no-provider-sorting":"",striped:"",hover:"",borderless:"",stacked:"lg"},scopedSlots:t._u([{key:"head(checkbox)",fn:function(){return[n("b-form-checkbox",{attrs:{id:"toggle-all",checked:t.organizations.length>0&&t.organizations.length===t.selected.length,indeterminate:t.selected.length>0&&t.selected.length<t.organizations.length,disabled:!t.ready},on:{change:t.toggleAll}})]},proxy:!0},{key:"top-row",fn:function(){return[n("b-td",{attrs:{colspan:"2"}}),t._v(" "),n("b-td",[n("b-form-select",{attrs:{options:t.mappedRoles,disabled:!t.ready||0===t.selected.length},on:{change:t.addRole},model:{value:t.role,callback:function(e){t.role=e},expression:"role"}})],1),t._v(" "),n("b-td",{attrs:{colspan:"1"}})]},proxy:!0},{key:"cell(checkbox)",fn:function(e){return[n("b-form-checkbox",{attrs:{value:e.item.id},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})]}},{key:"cell(roles)",fn:function(e){return t._l(e.item.roles,(function(e){return n("b-badge",{key:e,staticClass:"mr-1",attrs:{variant:"info"}},[t._v("\n        "+t._s(e)+"\n      ")])}))}},{key:"cell(actions)",fn:function(e){return[n("b-button",{staticClass:"mr-1 mb-1",attrs:{size:"sm"},on:{click:e.toggleDetails}},[t._v("\n        "+t._s(e.detailsShowing?"Hide":"Details")+"\n      ")]),t._v(" "),n("b-button",{staticClass:"mr-1 mb-1",attrs:{size:"sm",to:{name:"AdminOrganizationUpdate",params:{id:e.item.id}}}},[t._v("\n        Edit\n      ")])]}},{key:"row-details",fn:function(e){return[n("b-card",[n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("ID:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.id))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Identities:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.identities))])],1)],1)]}}])}),t._v(" "),t.organizations.length>0?n("pagination",{attrs:{pagination:t.pagination}}):t._e()],1)};a._withStripped=!0;var i=n("KaE5"),r=n("CAmi"),o=n("GUe+"),s=n("IF94"),l=n("oVt+"),c=n("sove"),u=n("6Ytq"),d=n("w+YJ"),p=n("g2Gq"),f=n("eU28"),m=n("F5n6"),g={components:{BTable:i.a,BTd:r.a,BButton:o.a,BCard:s.a,BRow:l.a,BCol:c.a,BBadge:u.a,BFormCheckbox:d.a,BFormSelect:p.a,PaginationCompact:f.a,Pagination:m.a},data:function(){return{selected:[],role:null,roles:[],organizations:[],pagination:{page:1,size:100,totalPages:0,totalItems:0},fields:[{key:"checkbox",label:"",class:"text-center"},{key:"name",sortable:!0},{key:"roles",sortable:!0},{key:"actions"}],loaded:{roles:!1,organizations:!1}}},created:function(){this.loadRoles()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data,t.loaded.roles=!0})).catch((function(t){console.warn(t)}))},organizationsProvider:function(t){var e=this;return this.axios.get("/api/organizations?page[number]=".concat(t.currentPage,"&page[size]=").concat(t.perPage)).then((function(t){return e.organizations=t.data.items,e.pagination=t.data.pagination,e.loaded.organizations=!0,e.organizations||[]}))},toggleAll:function(t){this.selected=t?this.organizations.map((function(t){return t.id})):[]},addRole:function(){var t=this,e={organizations:this.selected,role:this.role};this.axios.post("/api/admin/batch/organizations",e).then((function(e){t.role=null,t.selected=[],t.$refs.organizations.refresh()})).catch((function(e){t.role=null,console.warn(e)}))}},computed:{mappedRoles:function(){return this.roles?[{value:null,text:"Add role"}].concat(this.roles.map((function(t){return{value:"".concat(t),text:"".concat(t)}}))):[]},mappedGroups:function(){return this.groups?[{value:null,text:"Add group"}].concat(this.groups.map((function(t){return{value:"".concat(t.name),text:"".concat(t.name)}}))):[]},ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},b=n("KHd+"),h=Object(b.a)(g,a,[],!1,null,null,null);h.options.__file="src/views/AdminOrganizations.vue";e.default=h.exports},"oVt+":function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var a=n("tC49"),i=n("bAY6"),r=n("tQiw"),o=n("hZOc"),s=n("Iyau"),l=n("Io6r"),c=n("2C+6"),u=n("+nMp");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=["start","end","center"],m=Object(r.a)((function(t,e){return(e=Object(u.g)(Object(u.f)(e)))?Object(u.c)(["row-cols",t,e].filter(i.a).join("-")):null})),g=Object(r.a)((function(t){return Object(u.c)(t.replace("cols",""))})),b=[],h=function(){var t=Object(l.a)().reduce((function(t,e){return t[Object(o.a)(e,"cols")]={type:[String,Number],default:null},t}),Object(c.c)(null));return b=Object(c.k)(t),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({tag:{type:String,default:"div"},noGutters:{type:Boolean,default:!1},alignV:{type:String,default:null,validator:function(t){return Object(s.a)(Object(s.b)(f,"baseline","stretch"),t)}},alignH:{type:String,default:null,validator:function(t){return Object(s.a)(Object(s.b)(f,"between","around"),t)}},alignContent:{type:String,default:null,validator:function(t){return Object(s.a)(Object(s.b)(f,"between","around","stretch"),t)}}},t)},v={name:"BRow",functional:!0,get props(){return delete this.props,this.props=h(),this.props},render:function(t,e){var n,i=e.props,r=e.data,o=e.children,s=[];return b.forEach((function(t){var e=m(g(t),i[t]);e&&s.push(e)})),s.push((p(n={"no-gutters":i.noGutters},"align-items-".concat(i.alignV),i.alignV),p(n,"justify-content-".concat(i.alignH),i.alignH),p(n,"align-content-".concat(i.alignContent),i.alignContent),n)),t(i.tag,Object(a.a)(r,{staticClass:"row",class:s}),o)}}},oXok:function(t,e,n){"use strict";n.d(e,"a",(function(){return T}));var a=n("3LMw"),i=n("Aecu"),r=n("bAY6"),o=n("PCFI"),s=n("Iyau"),l=n("Io6r"),c=n("kGy3"),u=n("ex6f"),d=n("+nMp"),p=n("kO/s"),f=n("jBgq"),m=n("GUe+"),g=n("MBD0"),b=n("lQ/x"),h=n("F0nd");function v(t){return function(t){if(Array.isArray(t))return _(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){x(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w="BFormTags",k=["text","email","tel","url","number"],z=/[\s\uFEFF\xA0]+/g,C=i.a.ENTER,S=i.a.BACKSPACE,j=i.a.DELETE,B=function(t){return Object(s.b)(t).map((function(t){return Object(d.g)(Object(d.f)(t))})).filter((function(t,e,n){return t.length>0&&n.indexOf(t)===e}))},P=function(t){return Object(u.i)(t)?t:Object(u.c)(t)&&t.target.value||""},T=a.a.extend({name:w,mixins:[p.a,f.a],model:{prop:"value",event:"input"},props:{inputId:{type:String},placeholder:{type:String,default:function(){return Object(l.b)(w,"placeholder")}},disabled:{type:Boolean,default:!1},name:{type:String},form:{type:String},autofocus:{type:Boolean,default:!1},state:{type:Boolean,default:null},size:{type:String},inputType:{type:String,default:"text",validator:function(t){return Object(s.a)(k,t)}},inputClass:{type:[String,Array,Object]},inputAttrs:{type:Object,default:function(){return{}}},addButtonText:{type:String,default:function(){return Object(l.b)(w,"addButtonText")}},addButtonVariant:{type:String,default:function(){return Object(l.b)(w,"addButtonVariant")}},tagVariant:{type:String,default:function(){return Object(l.b)(w,"tagVariant")}},tagClass:{type:[String,Array,Object]},tagPills:{type:Boolean,default:!1},tagRemoveLabel:{type:String,default:function(){return Object(l.b)(w,"tagRemoveLabel")}},tagRemovedLabel:{type:String,default:function(){return Object(l.b)(w,"tagRemovedLabel")}},tagValidator:{type:Function},duplicateTagText:{type:String,default:function(){return Object(l.b)(w,"duplicateTagText")}},invalidTagText:{type:String,default:function(){return Object(l.b)(w,"invalidTagText")}},separator:{type:[String,Array]},removeOnDelete:{type:Boolean,default:!1},addOnChange:{type:Boolean,default:!1},noAddOnEnter:{type:Boolean,default:!1},noOuterFocus:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}}},data:function(){return{hasFocus:!1,newTag:"",tags:[],removedTags:[],tagsState:{all:[],valid:[],invalid:[],duplicate:[]}}},computed:{computedInputId:function(){return this.inputId||this.safeId("__input__")},computedInputType:function(){return Object(s.a)(k,this.inputType)?this.inputType:"text"},computedInputAttrs:function(){return O(O({},this.inputAttrs),{},{id:this.computedInputId,value:this.newTag,disabled:this.disabled||null,form:this.form||null})},computedInputHandlers:function(){return{input:this.onInputInput,change:this.onInputChange,keydown:this.onInputKeydown}},computedSeparator:function(){return Object(s.b)(this.separator).filter(u.i).filter(r.a).join("")},computedSeparatorRegExp:function(){var t,e=this.computedSeparator;return e?new RegExp("[".concat((t=e,Object(d.a)(t).replace(z,"\\s")),"]+")):null},computedJoiner:function(){var t=this.computedSeparator.charAt(0);return" "!==t?"".concat(t," "):t},disableAddButton:function(){var t=this,e=Object(d.g)(this.newTag);return""===e||!this.splitTags(e).some((function(e){return!Object(s.a)(t.tags,e)&&t.validateTag(e)}))},duplicateTags:function(){return this.tagsState.duplicate},hasDuplicateTags:function(){return this.duplicateTags.length>0},invalidTags:function(){return this.tagsState.invalid},hasInvalidTags:function(){return this.invalidTags.length>0}},watch:{value:function(t){this.tags=B(t)},tags:function(t,e){Object(o.a)(t,this.value)||this.$emit("input",t),Object(o.a)(t,e)||(t=Object(s.b)(t).filter(r.a),e=Object(s.b)(e).filter(r.a),this.removedTags=e.filter((function(e){return!Object(s.a)(t,e)})))},tagsState:function(t,e){Object(o.a)(t,e)||this.$emit("tag-state",t.valid,t.invalid,t.duplicate)}},created:function(){this.tags=B(this.value)},mounted:function(){this.handleAutofocus()},activated:function(){this.handleAutofocus()},methods:{addTag:function(t){if(t=Object(u.i)(t)?t:this.newTag,!this.disabled&&""!==Object(d.g)(t)){var e=this.parseTags(t);if(e.valid.length>0||0===e.all.length)if(Object(c.r)(this.getInput(),"select"))this.newTag="";else{var n=[].concat(v(e.invalid),v(e.duplicate));this.newTag=e.all.filter((function(t){return Object(s.a)(n,t)})).join(this.computedJoiner).concat(n.length>0?this.computedJoiner.charAt(0):"")}e.valid.length>0&&(this.tags=Object(s.b)(this.tags,e.valid)),this.tagsState=e,this.focus()}},removeTag:function(t){var e=this;this.disabled||(this.tags=this.tags.filter((function(e){return e!==t})),this.$nextTick((function(){e.focus()})))},onInputInput:function(t){if(!(this.disabled||Object(u.c)(t)&&t.target.composing)){var e=P(t),n=this.computedSeparatorRegExp;this.newTag!==e&&(this.newTag=e),e=Object(d.h)(e),n&&n.test(e.slice(-1))?this.addTag():this.tagsState=""===e?{all:[],valid:[],invalid:[],duplicate:[]}:this.parseTags(e)}},onInputChange:function(t){if(!this.disabled&&this.addOnChange){var e=P(t);this.newTag!==e&&(this.newTag=e),this.addTag()}},onInputKeydown:function(t){if(!this.disabled&&Object(u.c)(t)){var e=t.keyCode,n=t.target.value||"";this.noAddOnEnter||e!==C?!this.removeOnDelete||e!==S&&e!==j||""!==n||(t.preventDefault(),this.tags=this.tags.slice(0,-1)):(t.preventDefault(),this.addTag())}},onClick:function(t){var e=this;!this.disabled&&Object(u.c)(t)&&t.target===t.currentTarget&&this.$nextTick((function(){e.focus()}))},onFocusin:function(){this.hasFocus=!0},onFocusout:function(){this.hasFocus=!1},handleAutofocus:function(){var t=this;this.$nextTick((function(){Object(c.v)((function(){t.autofocus&&!t.disabled&&t.focus()}))}))},focus:function(){this.disabled||Object(c.c)(this.getInput())},blur:function(){this.disabled||Object(c.b)(this.getInput())},splitTags:function(t){t=Object(d.f)(t);var e=this.computedSeparatorRegExp;return(e?t.split(e):[t]).map(d.g).filter(r.a)},parseTags:function(t){var e=this,n=this.splitTags(t),a={all:n,valid:[],invalid:[],duplicate:[]};return n.forEach((function(t){Object(s.a)(e.tags,t)||Object(s.a)(a.valid,t)?Object(s.a)(a.duplicate,t)||a.duplicate.push(t):e.validateTag(t)?a.valid.push(t):Object(s.a)(a.invalid,t)||a.invalid.push(t)})),a},validateTag:function(t){var e=this.tagValidator;return!Object(u.d)(e)||e(t)},getInput:function(){return Object(c.w)("#".concat(this.computedInputId),this.$el)},defaultRender:function(t){var e=t.tags,n=t.addTag,a=t.removeTag,i=t.inputType,o=t.inputAttrs,l=t.inputHandlers,c=t.inputClass,u=t.tagClass,p=t.tagVariant,f=t.tagPills,v=t.tagRemoveLabel,_=t.invalidTagText,y=t.duplicateTagText,x=t.isInvalid,w=t.isDuplicate,k=t.disabled,z=t.placeholder,C=t.addButtonText,S=t.addButtonVariant,j=t.disableAddButton,B=this.$createElement,P=e.map((function(t){return t=Object(d.f)(t),B(h.a,{key:"li-tag__".concat(t),staticClass:"mt-1 mr-1",class:u,props:{tag:"li",title:t,disabled:k,variant:p,pill:f,removeLabel:v},on:{remove:function(){return a(t)}}},t)})),T=_&&x?this.safeId("__invalid_feedback__"):null,A=y&&w?this.safeId("__duplicate_feedback__"):null,G=[o["aria-describedby"],T,A].filter(r.a).join(" "),D=B("input",{ref:"input",directives:[{name:"model",value:o.value}],staticClass:"b-form-tags-input w-100 flex-grow-1 p-0 m-0 bg-transparent border-0",class:c,style:{outline:0,minWidth:"5rem"},attrs:O(O({},o),{},{"aria-describedby":G||null,type:i,placeholder:z||null}),domProps:{value:o.value},on:l}),I=B(m.a,{ref:"button",staticClass:"b-form-tags-button py-0",class:{invisible:j},style:{fontSize:"90%"},props:{variant:S,disabled:j},on:{click:function(){return n()}}},[this.normalizeSlot("add-button-text")||C]),R=this.safeId("__TAG__LIST__"),F=B("li",{key:"__li-input__",staticClass:"flex-grow-1 mt-1",attrs:{role:"none","aria-live":"off","aria-controls":R}},[B("div",{staticClass:"d-flex",attrs:{role:"group"}},[D,I])]),E=B("ul",{key:"_tags_list_",staticClass:"list-unstyled mt-n1 mb-0 d-flex flex-wrap align-items-center",attrs:{id:R}},Object(s.b)(P,F)),$=B();if(_||y){var N=this.computedJoiner,H=B();T&&(H=B(g.a,{key:"_tags_invalid_feedback_",props:{id:T,forceShow:!0}},[this.invalidTagText,": ",this.invalidTags.join(N)]));var U=B();A&&(U=B(b.a,{key:"_tags_duplicate_feedback_",props:{id:A}},[this.duplicateTagText,": ",this.duplicateTags.join(N)])),$=B("div",{key:"_tags_feedback_",attrs:{"aria-live":"polite","aria-atomic":"true"}},[H,U])}return[E,$]}},render:function(t){var e=this,n={tags:this.tags.slice(),removeTag:this.removeTag,addTag:this.addTag,inputType:this.computedInputType,inputAttrs:this.computedInputAttrs,inputHandlers:this.computedInputHandlers,inputId:this.computedInputId,invalidTags:this.invalidTags.slice(),isInvalid:this.hasInvalidTags,duplicateTags:this.duplicateTags.slice(),isDuplicate:this.hasDuplicateTags,disableAddButton:this.disableAddButton,state:this.state,separator:this.separator,disabled:this.disabled,size:this.size,placeholder:this.placeholder,inputClass:this.inputClass,tagRemoveLabel:this.tagRemoveLabel,tagVariant:this.tagVariant,tagPills:this.tagPills,tagClass:this.tagClass,addButtonText:this.addButtonText,addButtonVariant:this.addButtonVariant,invalidTagText:this.invalidTagText,duplicateTagText:this.duplicateTagText},a=this.normalizeSlot("default",n)||this.defaultRender(n),i=t("output",{staticClass:"sr-only",attrs:{id:this.safeId("_selected-tags_"),role:"status",for:this.computedInputId,"aria-live":this.hasFocus?"polite":"off","aria-atomic":"true","aria-relevant":"additions text"}},this.tags.join(", ")),r=t("div",{staticClass:"sr-only",attrs:{id:this.safeId("_removed-tags_"),role:"status","aria-live":this.hasFocus?"assertive":"off","aria-atomic":"true"}},this.removedTags.length>0?"(".concat(this.tagRemovedLabel,") ").concat(this.removedTags.join(", ")):""),o=t();return this.name&&!this.disabled&&(o=this.tags.map((function(n){return t("input",{key:n,attrs:{type:"hidden",value:n,name:e.name,form:e.form||null}})}))),t("div",{staticClass:"b-form-tags form-control h-auto",class:x({focus:this.hasFocus&&!this.noOuterFocus&&!this.disabled,disabled:this.disabled,"is-valid":!0===this.state,"is-invalid":!1===this.state},"form-control-".concat(this.size),this.size),attrs:{id:this.safeId(),role:"group",tabindex:this.disabled||this.noOuterFocus?null:"-1","aria-describedby":this.safeId("_selected_")},on:{focusin:this.onFocusin,focusout:this.onFocusout,click:this.onClick}},Object(s.b)(i,r,a,o))}})},s3SF:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Update group")]),t._v(" "),n("b-form-group",{attrs:{id:"name-group",label:"Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name for the group"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"description-group",label:"Description:","label-for":"description"}},[n("b-form-input",{attrs:{id:"description",type:"text",placeholder:"Enter a description for the group"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"roles-group",label:"Roles:","label-for":"roles"}},[n("b-form-tags",{attrs:{"input-id":"roles","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,r=e.inputHandlers,o=e.disabled,s=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:o,variant:"info"},on:{remove:function(t){return s(e)}}},[t._v("\n                  "+t._s(e)+"\n                ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:o||0===t.availableRoles.length,options:t.availableRoles},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                  Choose a role...\n                ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),r))]}}]),model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"organizations-group",label:"Organizations:","label-for":"organizations"}},[n("b-form-tags",{attrs:{"input-id":"organizations","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,r=e.inputHandlers,o=e.disabled,s=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:o,variant:"success"},on:{remove:function(t){return s(e)}}},[t._v("\n                  "+t._s(e)+"\n                ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:o||0===t.availableOrganizations.length,options:t.availableOrganizations},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                  Choose an organization...\n                ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),r))]}}]),model:{value:t.selectedOrganizations,callback:function(e){t.selectedOrganizations=e},expression:"selectedOrganizations"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary",disabled:!t.ready}},[t._v("\n        Update\n      ")]),t._v(" "),n("b-button",{attrs:{variant:"light",to:{name:"AdminGroups"}}},[t._v("\n        Cancel\n      ")])],1)],1),t._v(" "),n("div",{staticClass:"rounded border border-danger bg-white p-3 mt-3"},[n("div",{staticClass:"d-flex justify-content-between"},[t._m(0),t._v(" "),n("div",{staticClass:"align-self-center"},[n("b-button",{attrs:{variant:"danger"},on:{click:t.onDelete}},[t._v("\n          Delete this group\n        ")])],1)])])])};a._withStripped=!0;var i=n("Ed67"),r=n("giZP"),o=n("R5cT"),s=n("oXok"),l=n("F0nd"),c=n("g2Gq"),u=n("GUe+"),d={components:{BForm:i.a,BFormGroup:r.a,BFormInput:o.a,BFormTags:s.a,BFormTag:l.a,BFormSelect:c.a,BButton:u.a},props:{id:{type:String,default:null}},data:function(){return{roles:[],organizations:[],form:{name:"",roles:[]},selectedOrganizations:[],loaded:{roles:!1,organizations:!1,group:!1}}},created:function(){this.loadRoles(),this.loadOrganizations(),this.loadForm()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data,t.loaded.roles=!0})).catch((function(t){console.warn(t)}))},loadOrganizations:function(){var t=this;this.axios.get("/api/organizations?page[number]=1&page[size]=100").then((function(e){t.organizations=e.data.items,t.loaded.organizations=!0})).catch((function(t){console.warn(t)}))},loadForm:function(){var t=this;this.axios.get("/api/groups/".concat(this.id)).then((function(e){t.form=e.data,t.form&&t.form.organizations&&(t.selectedOrganizations=t.form.organizations.map((function(t){return t.name}))),t.loaded.group=!0})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.selectedOrganizations.length>0?this.form.organizations=this.organizations.filter((function(t){return-1!==e.selectedOrganizations.indexOf(t.name)})).map((function(t){return{id:t.id,name:t.name}})):this.form.organizations=[],this.axios.put("/api/groups/".concat(this.id),this.form).then((function(t){e.$router.push({name:"AdminGroups"})})).catch((function(t){console.warn(t)}))},onDelete:function(t){var e=this;t.preventDefault(),this.axios.delete("/api/groups/".concat(this.id)).then((function(t){e.$router.push({name:"AdminGroups"})})).catch((function(t){console.warn(t)}))}},computed:{availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))},availableOrganizations:function(){var t=this;return this.organizations.map((function(t){return t.name})).filter((function(e){return!t.form||!t.selectedOrganizations||-1===t.selectedOrganizations.indexOf(e)}))},ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},p=n("KHd+"),f=Object(p.a)(d,a,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h6",[this._v("Delete this group")]),this._v(" "),e("p",{staticClass:"align-self-end"},[this._v("\n          Once you delete a group, there is no going back. Please be certain.\n        ")])])}],!1,null,null,null);f.options.__file="src/views/AdminGroupUpdate.vue";e.default=f.exports},sSrk:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.releaseTarget?n("span",[t.releaseTarget.activeReleases&&t.releaseTarget.activeReleases.length>0?n("div",{staticClass:"btn-light btn btn-sm mr-1 mb-1"},[t._v("\n    "+t._s(t.releaseTarget.name)),t._l(t.mergedActionsAndActiveReleases(t.releaseTarget),(function(e,a){return n("router-link",{key:a,class:[t.$options.filters.bootstrapClass(e.releaseStatus,"badge"),"badge ml-1 mb-1 d-block d-md-inline-block"],attrs:{to:{name:"PipelineReleaseLogs",params:{repoSource:e.repoSource,repoOwner:e.repoOwner,repoName:e.repoName,releaseID:e.id}},exact:"",tag:"span",title:e.action}},[e.action?n("span",[t._v("\n        "+t._s(e.action)+":\n      ")]):t._e(),t._v(t._s(t._f("defaultValue")(e.releaseVersion,"-"))+"\n\n      "),t.releaseIsUpToDate(e)?n("font-awesome-icon",{attrs:{icon:"fire"}}):t._e()],1)}))],2):n("div",{class:["btn-light","btn btn-sm mr-1 mb-1"]},[t._v("\n    "+t._s(t.releaseTarget.name)),n("span",{class:["badge ml-1"]},[t._v("\n      -\n    ")])])]):t._e()};a._withStripped=!0;var i=n("7O5W"),r=n("wHSu"),o=n("rT2p");i.c.add(r.t);var s={components:{FontAwesomeIcon:o.a},props:{releaseTarget:{type:Object,default:null},pipeline:{type:Object,default:null}},methods:{releaseIsUpToDate:function(t){return this.pipeline&&this.pipeline.buildStatus&&"succeeded"===this.pipeline.buildStatus&&this.pipeline.buildVersion&&t&&t.releaseStatus&&"succeeded"===t.releaseStatus&&this.pipeline.buildVersion===t.releaseVersion},getActiveRelease:function(t,e){if(t)return t.find((function(t){return t.action===e}))}},computed:{mergedActionsAndActiveReleases:function(){var t=this;return function(e){if(!(e.actions&&0!==e.actions.length||e.activeReleases&&0!==e.activeReleases.length))return[{name:e.name,repoSource:t.pipeline.repoSource,repoOwner:t.pipeline.repoOwner,repoName:t.pipeline.repoName}];if(!e.actions||0===e.actions.length)return e.activeReleases;var n=[];return e.actions.filter((function(t){return!t.hideBadge})).forEach((function(a){var i=t.getActiveRelease(e.activeReleases,a.name);void 0!==i?n.push(i):n.push({name:e.name,action:a.name,repoSource:t.pipeline.repoSource,repoOwner:t.pipeline.repoOwner,repoName:t.pipeline.repoName})})),n}}}},l=n("KHd+"),c=Object(l.a)(s,a,[],!1,null,null,null);c.options.__file="src/components/ReleaseBadge.vue";e.a=c.exports}}]);