(self.webpackChunkestafette_ci_web=self.webpackChunkestafette_ci_web||[]).push([[640],{275:function(e,t,i){"use strict";i.d(t,{Z:function(){return y}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("router-link",{staticClass:"row-block list-complete-item",attrs:{to:{name:"PipelineBotLogs",params:{repoSource:e.bot.repoSource,repoOwner:e.bot.repoOwner,repoName:e.bot.repoName,botID:e.bot.id}},tag:"div"}},[e.allBotsMode?i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Pipeline"}},[i("repository-title",{attrs:{repo:e.bot}})],1):e._e(),e._v(" "),i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Bot",value:e.bot.name}},[e._v("\n    "+e._s(e.bot.name)+"\n  ")]),e._v(" "),i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Status",value:e.bot.botStatus}},[i("b-progress",[i("b-progress-bar",{attrs:{value:e.$options.filters.releaseProgressBarValue(e.pipeline,e.bot,e.now),label:e.$options.filters.releaseProgressBarLabel(e.pipeline,e.bot,e.now),variant:e.$options.filters.bootstrapVariant(e.bot.botStatus),animated:e.$options.filters.animatedProgressBar(e.bot.botStatus)}})],1)],1),e._v(" "),i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Executed"}},[e._v("\n    "+e._s(e._f("formatDatetime")(e.bot.insertedAt))+"\n    "),i("duration-label",{attrs:{duration:e.bot.duration,"pending-duration":e.bot.pendingDuration}})],1),e._v(" "),i("property-block",{staticClass:"col-xxxl-4",attrs:{label:"Triggered by"}},[i("triggered-by",{attrs:{events:e.bot.triggerEvents}})],1),e._v(" "),e.showActions?i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Actions"}},[i("cancel-button",{attrs:{bot:e.bot}}),e._v(" "),i("rerun-button",{attrs:{bot:e.bot}})],1):e._e()],1)};r._withStripped=!0;var s=i(629),n=i(5752),a=i(2981),o=i(8418),l=i(6415),c=i(9325),u=i(5322),p=i(6342),d=i(8714),f=i(3900);function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function m(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){b(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function b(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var g={components:{BProgress:n.D,BProgressBar:a.Q,CancelButton:o.Z,RerunButton:l.Z,TriggeredBy:c.Z,PropertyBlock:u.Z,DurationLabel:p.Z,RepositoryTitle:d.Z},props:{bot:{type:Object,default:null},pipeline:{type:Object,default:null},allBotsMode:{type:Boolean,default:!1}},data:function(){return{now:Date.now()}},created:function(){this.updateNow()},methods:{updateNow:function(){this.now=Date.now(),!this.bot||"pending"!==this.bot.botStatus&&"running"!==this.bot.botStatus||f.Z.timeout(this.timeout,this.updateNow,1)}},beforeDestroy:function(){clearTimeout(this.timeout)},computed:m(m({},(0,s.rn)("user",{user:"me"})),{},{showActions:function(){return!this.allBotsMode&&this.user&&this.user.active&&this.bot&&("failed"===this.bot.botStatus||"pending"===this.bot.botStatus||"running"===this.bot.botStatus||"canceled"===this.bot.botStatus||"canceling"===this.bot.botStatus)}})},v=(0,i(1900).Z)(g,r,[],!1,null,null,null);v.options.__file="src/components/BotRow.vue";var y=v.exports},3175:function(e,t,i){"use strict";i.d(t,{Z:function(){return x}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("router-link",{staticClass:"row-block list-complete-item",attrs:{to:{name:"PipelineBuildLogs",params:{repoSource:e.build.repoSource,repoOwner:e.build.repoOwner,repoName:e.build.repoName,id:e.build.id}},tag:"div"}},[e.allBuildsMode?i("property-block",{staticClass:"col-xxxl-3",attrs:{label:"Pipeline"}},[i("repository-title",{attrs:{repo:e.build}})],1):e._e(),e._v(" "),i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Version",value:e.build.buildVersion}}),e._v(" "),i("property-block",{staticClass:"col-xxxl-1",attrs:{label:"Status",value:e.build.buildStatus}},[i("b-progress",[i("b-progress-bar",{attrs:{value:e.$options.filters.buildProgressBarValue(e.pipeline,e.build,e.now),label:e.$options.filters.buildProgressBarLabel(e.pipeline,e.build,e.now),variant:e.$options.filters.bootstrapVariant(e.build.buildStatus),animated:e.$options.filters.animatedProgressBar(e.build.buildStatus)}})],1)],1),e._v(" "),i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Built at",value:e._f("formatDatetime")(e.build.insertedAt)}},[e._v("\n    "+e._s(e._f("formatDatetime")(e.build.insertedAt))+"\n    "),i("duration-label",{attrs:{duration:e.build.duration,"pending-duration":e.build.pendingDuration}})],1),e._v(" "),i("property-block",{staticClass:"col-xxxl-1",attrs:{label:"Branch",value:e.build.repoBranch}}),e._v(" "),i("property-block",{staticClass:"col-xxxl-1",attrs:{label:"Revision"}},[i("commit-link",{attrs:{build:e.build}})],1),e._v(" "),i("property-block",{class:e.allBuildsMode?"col-xxxl-2":"col-xxxl-3",attrs:{label:"Commit(s)"}},[i("commits",{attrs:{commits:e.build.commits}})],1),e._v(" "),e.showActions?i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Actions","no-truncate":""}},[i("release-button",{attrs:{pipeline:e.pipeline,build:e.build}}),e._v(" "),i("rebuild-button",{attrs:{build:e.build,builds:e.builds}}),e._v(" "),i("cancel-button",{attrs:{build:e.build}})],1):e._e(),e._v(" "),e.showReleases?i("div",{staticClass:"block-divider"},[i("div")]):e._e(),e._v(" "),e.showReleases?i("property-block",{attrs:{label:"Releases",wide:""}},e._l(e.pipeline.releaseTargets,(function(t){return i("release-badge-for-build",{key:t.name,attrs:{"release-target":t,build:e.build}})})),1):e._e()],1)};r._withStripped=!0;var s=i(629),n=i(5752),a=i(2981),o=i(1006),l=i(2776),c=i(5654),u=i(8418),p=i(377),d=i(5322),f=i(6342),h=i(8714),m=i(7322),b=i(3900);function g(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function v(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?g(Object(i),!0).forEach((function(t){y(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var _={components:{BProgress:n.D,BProgressBar:a.Q,CommitLink:o.Z,ReleaseButton:l.Z,RebuildButton:c.Z,CancelButton:u.Z,ReleaseBadgeForBuild:p.Z,PropertyBlock:d.Z,DurationLabel:f.Z,RepositoryTitle:h.Z,Commits:m.Z},props:{build:{type:Object,default:null},builds:{type:Array,default:null},pipeline:{type:Object,default:null},allBuildsMode:{type:Boolean,default:!1}},data:function(){return{now:Date.now()}},created:function(){this.updateNow()},methods:{updateNow:function(){this.now=Date.now(),!this.build||"pending"!==this.build.buildStatus&&"running"!==this.build.buildStatus||b.Z.timeout(this.timeout,this.updateNow,1)}},beforeDestroy:function(){clearTimeout(this.timeout)},computed:v(v({},(0,s.rn)("user",{user:"me"})),{},{showReleases:function(){var e=this;return!!(this.pipeline&&this.pipeline.releaseTargets&&this.pipeline.releaseTargets.length>0)&&this.pipeline.releaseTargets.some((function(t){return t.activeReleases&&t.activeReleases.some((function(t){return t.releaseVersion===e.build.buildVersion}))}))},showActions:function(){return!this.allBuildsMode&&this.user&&this.user.active&&this.build&&("failed"===this.build.buildStatus||"pending"===this.build.buildStatus||"running"===this.build.buildStatus||"canceled"===this.build.buildStatus||"canceling"===this.build.buildStatus||this.pipeline&&this.pipeline.releaseTargets&&this.pipeline.releaseTargets.length>0&&"succeeded"===this.build.buildStatus)}})},w=(0,i(1900).Z)(_,r,[],!1,null,null,null);w.options.__file="src/components/BuildRow.vue";var x=w.exports},8418:function(e,t,i){"use strict";i.d(t,{Z:function(){return m}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.user.active&&(e.build&&("pending"===e.build.buildStatus||"running"===e.build.buildStatus||"canceling"===e.build.buildStatus)||e.release&&("pending"===e.release.releaseStatus||"running"===e.release.releaseStatus||"canceling"===e.release.releaseStatus)||e.bot&&("pending"===e.bot.botStatus||"running"===e.bot.botStatus||"canceling"===e.bot.botStatus))?i("b-input-group",{staticStyle:{width:"auto"}},[i("b-input-group-text",{staticClass:"border border-danger text-danger bg-white",attrs:{slot:"prepend"},on:{click:function(e){e.stopPropagation()}},slot:"prepend"},[i("font-awesome-icon",{attrs:{icon:"ban"}})],1),e._v(" "),i("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:function(t){return t.stopPropagation(),e.cancel(t)}}},[e._v("\n    Cancel\n  ")])],1):e._e()};r._withStripped=!0;var s=i(6127),n=i(8222),a=i(5193),o=i(629),l=i(8947),c=i(1436),u=i(7810);function p(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}l.vI.add(c.gPx);var f={components:{BInputGroup:s.w,BInputGroupText:n.e,BButton:a.T,FontAwesomeIcon:u.GN},props:{build:{type:Object,default:null},release:{type:Object,default:null},bot:{type:Object,default:null}},data:function(){return{clicked:!1}},methods:{cancel:function(e){var t=this;this.user.active&&(!this.build||"pending"!==this.build.buildStatus&&"running"!==this.build.buildStatus&&"canceling"!==this.build.buildStatus?!this.release||"pending"!==this.release.releaseStatus&&"running"!==this.release.releaseStatus&&"canceling"!==this.release.releaseStatus?!this.bot||"pending"!==this.bot.botStatus&&"running"!==this.bot.botStatus&&"canceling"!==this.bot.botStatus||this.axios.delete("/api/pipelines/".concat(this.bot.repoSource,"/").concat(this.bot.repoOwner,"/").concat(this.bot.repoName,"/bots/").concat(this.bot.id)).then((function(e){t.bot.botStatus="canceling"})).catch((function(e){console.warn(e)})):this.axios.delete("/api/pipelines/".concat(this.release.repoSource,"/").concat(this.release.repoOwner,"/").concat(this.release.repoName,"/releases/").concat(this.release.id)).then((function(e){t.release.releaseStatus="canceling"})).catch((function(e){console.warn(e)})):this.axios.delete("/api/pipelines/".concat(this.build.repoSource,"/").concat(this.build.repoOwner,"/").concat(this.build.repoName,"/builds/").concat(this.build.id)).then((function(e){t.build.buildStatus="canceling"})).catch((function(e){console.warn(e)})))}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?p(Object(i),!0).forEach((function(t){d(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},(0,o.rn)("user",{user:"me"}))},h=(0,i(1900).Z)(f,r,[],!1,null,null,null);h.options.__file="src/components/CancelButton.vue";var m=h.exports},6388:function(e,t,i){"use strict";i.d(t,{Z:function(){return f}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.filteredLabels.length>1?i("b-input-group",{staticClass:"mb-3 d-inline-flex"},[i("b-input-group-prepend",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{"is-text":"",title:"Filter pipelines on frequently used labels"}},[i("font-awesome-icon",{attrs:{icon:"tags"}})],1),e._v(" "),i("b-form-select",{staticClass:"d-inline-flex",attrs:{options:e.filteredLabels},on:{change:e.onChange},model:{value:e.mutableModel,callback:function(t){e.mutableModel=t},expression:"mutableModel"}})],1):e._e()};r._withStripped=!0;var s=i(6127),n=i(7754),a=i(5343),o=i(648),l=i(8947),c=i(1436),u=i(7810);l.vI.add(c.tho);var p={components:{BInputGroup:s.w,BInputGroupPrepend:n.P,BFormSelect:a.K,FontAwesomeIcon:u.GN},props:{filter:{type:Object,default:null}},mixins:[o.Z],data:function(){return{labels:[],pagination:{page:1,size:15},refresh:!0,mutableModel:null}},created:function(){this.loadFrequentLabels()},methods:{loadFrequentLabels:function(){var e=this,t="";this.filter&&this.filter.labels&&this.filter.labels.length>0&&(t=this.filter.labels.split(",").join("&filter[labels]="));var i="filter[status]=".concat(this.filter.status);"running"===this.filter.status&&(i+="&filter[status]=pending&filter[status]=canceling"),this.axios.get("/api/labels/frequent?".concat(i,"&filter[since]=").concat(this.filter.since,"&filter[search]=").concat(this.filter.search,"&filter[labels]=").concat(t,"&page[number]=").concat(this.pagination.page,"&page[size]=").concat(this.pagination.size)).then((function(t){e.labels=t.data.items,e.periodicallyRefreshFrequentLabels(5)})).catch((function(t){e.periodicallyRefreshFrequentLabels(30)}))},periodicallyRefreshFrequentLabels:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadFrequentLabels,r))},labelLinkGenerator:function(e){return this.filter&&this.filter.labels&&0!==this.filter.labels.length?this.filter.labels+","+e:e},onChange:function(e){this.$router.push({query:this.queryGenerator({labels:this.labelLinkGenerator(e),page:1})}),this.mutableModel=null}},computed:{filteredLabels:function(){if(!this.labels)return[];var e=[];return this.filter&&this.filter.labels&&(e=this.filter.labels.split(",")),[{value:null,text:"Frequent labels"}].concat(this.labels.filter((function(t){return-1===e.indexOf("".concat(t.key,"=").concat(t.value))})).map((function(e){return{value:"".concat(e.key,"=").concat(e.value),text:"".concat(e.key,"=").concat(e.value," (").concat(e.pipelinescount,")")}})))}},watch:{filter:{handler:function(e,t){this.loadFrequentLabels()},deep:!0}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},d=(0,i(1900).Z)(p,r,[],!1,null,null,null);d.options.__file="src/components/FrequentLabels.vue";var f=d.exports},5270:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("b-badge",{staticClass:"mr-1",attrs:{to:{name:"CatalogGroupDetails",params:{id:e.group.id}},variant:"warning"}},[e._v("\n  "+e._s(e.group.name)+"\n")])};r._withStripped=!0;var s={components:{BBadge:i(6034).k},props:{group:{type:Object,default:null}}},n=(0,i(1900).Z)(s,r,[],!1,null,null,null);n.options.__file="src/components/GroupBadge.vue";var a=n.exports},9708:function(e,t,i){"use strict";i.d(t,{Z:function(){return g}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b-nav",{staticClass:"m-3 d-none d-lg-flex",attrs:{tabs:""}},e._l(e.routes,(function(t){return i("b-nav-item",{key:t.name,class:t.meta&&t.meta.class?t.meta.class:"",attrs:{to:{name:t.name},exact:!!t.meta&&t.meta.exact}},[t.meta&&t.meta.icon?i("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:t.meta?t.meta.icon:""}}):e._e(),e._v(" "),i("span",[e._v("\n        "+e._s(t.meta&&t.meta.text?t.meta.text:t.name)+"\n      ")])],1)})),1),e._v(" "),i("b-dropdown",{staticClass:"m-3 d-lg-none",attrs:{variant:e.variant,block:"","menu-class":"w-100"},scopedSlots:e._u([{key:"button-content",fn:function(){return[e.activeRouteIcon?i("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:e.activeRouteIcon}}):e._e(),e._v("\n      "+e._s(e.activeRouteText)+"\n    ")]},proxy:!0}])},[e._v(" "),e._l(e.routes,(function(t){return i("b-dropdown-item",{key:t.name,class:t.meta&&t.meta.class?t.meta.class:"",attrs:{to:{name:t.name},exact:!!t.meta&&t.meta.exact}},[t.meta&&t.meta.icon?i("font-awesome-icon",{staticClass:"dropdown-icon",attrs:{icon:t.meta?t.meta.icon:""}}):e._e(),e._v(" "),i("span",[e._v("\n        "+e._s(t.meta&&t.meta.text?t.meta.text:t.name)+"\n      ")])],1)}))],2)],1)};r._withStripped=!0;var s=i(629),n=i(9027),a=i(2450),o=i(5189),l=i(7379),c=i(8947),u=i(1436),p=i(7810);function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function f(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){h(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}c.vI.add(u.DD4,u.U7t,u.ILF,u.FVb,u.Hw7,u.Kak,u.NkB,u.neB,u.BC0,u.E9T,u.OS1,u.nFo,u.Stf,u.m6i,u.Gg,u.jPh,u.CgH,u.cf$,u.VE0,u.o4t,u.X8G,u.BC0,u.Mm7,u.FL8,u.bJI);var m={components:{BNav:n.O,BNavItem:a.r,BDropdown:o.R,BDropdownItem:l.E,FontAwesomeIcon:p.GN},props:{sectionRouteName:{type:String,default:null}},methods:{isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)}},computed:f(f({},(0,s.rn)("user",{user:"me"})),{},{routes:function(){var e=this,t=this.$route.matched[0].name,i=this.$router.options.routes.find((function(e){return e.name===t}));return i&&i.children?i.children.filter((function(t){return(!t.meta||!t.meta.hide)&&(!!(e.user&&e.user.active||t.meta&&t.meta.allowedWithoutAuth)&&!(t.meta&&t.meta.requiredRole&&!(e.user&&e.user.active&&e.user.roles&&e.user.roles.includes(t.meta.requiredRole))))})):[]},activeRouteText:function(){return this.$route.meta&&this.$route.meta.text?this.$route.meta.text:this.$route.name},activeRouteIcon:function(){if(this.$route.meta&&this.$route.meta.icon)return this.$route.meta.icon},section:function(){var e=this.$route.matched[0].name;return this.sectionRouteName&&(e=this.sectionRouteName),this.$router.options.routes.find((function(t){return t.name===e}))},variant:function(){var e=this.section;return e&&e.meta&&e.meta.variant?e.meta.variant:"secondary"}})},b=(0,i(1900).Z)(m,r,[],!1,null,null,null);b.options.__file="src/components/InnerNavigationTabs.vue";var g=b.exports},2901:function(e,t,i){"use strict";i.d(t,{Z:function(){return d}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.logCount>0?i("b-button-group",{staticClass:"mb-3 bg-white"},[e._l(e.logs,(function(t,r){return i("b-button",{key:t.id,class:[t.id===e.logid?"active":"border-btn-group"],attrs:{to:{params:{logid:t.id}},"active-class":"router-link-active",variant:"outline-primary",title:t.insertedAt}},[e._v("\n    "+e._s(r+1)+" / "+e._s(e.logCount)+"\n  ")])})),e._v(" "),"pending"===e.status||"running"===e.status||"canceling"===e.status?i("b-button",{class:[e.logid?"border-btn-group":"active"],attrs:{to:{params:{logid:null}},"active-class":"router-link-active",variant:"outline-primary"}},[e._v("\n    "+e._s(e.logCount)+" / "+e._s(e.logCount)+" "),i("font-awesome-icon",{attrs:{icon:"stream"}})],1):e._e()],2):e._e()};r._withStripped=!0;var s=i(5969),n=i(5193),a=i(648),o=i(8947),l=i(1436),c=i(7810);o.vI.add(l.aC2);var u={components:{BButtonGroup:s.a,BButton:n.T,FontAwesomeIcon:c.GN},mixins:[a.Z],props:{logUrl:{type:String,default:null},routeName:{type:String,default:null},status:{type:String,default:null},logid:{type:String,default:null}},data:function(){return{logs:[],refresh:!0}},created:function(){this.loadAllLogs()},methods:{loadAllLogs:function(){var e=this;this.axios.get(this.logUrl).then((function(t){e.logs=t.data.items,e.redirectIfNeeded(),e.periodicallyRefresh(15)})).catch((function(t){e.periodicallyRefresh(30)}))},redirectIfNeeded:function(){this.logid||"pending"!==this.status&&"running"!==this.status&&"canceling"!==this.status&&0!==this.logs.length&&this.$router.replace({params:{logid:this.logs[this.logs.length-1].id}})},periodicallyRefresh:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadAllLogs,r))}},computed:{logCount:function(){return"pending"===this.status||"running"===this.status||"canceling"===this.status?this.logs.length+1:this.logs.length}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},p=(0,i(1900).Z)(u,r,[],!1,null,null,null);p.options.__file="src/components/LogNavigation.vue";var d=p.exports},2146:function(e,t,i){"use strict";i.d(t,{Z:function(){return E}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.steps&&e.steps.length>0?i("div",{staticClass:"accordion m-0"},[e._m(0),e._v(" "),i("div",{attrs:{role:"tablist"}},e._l(e.filteredSteps,(function(t){return i("b-card",{key:t.key,staticClass:"log-stage-block",attrs:{"no-body":""}},[i("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.collapseID,expression:"step.collapseID"}],staticClass:"row m-0 pt-3 pr-2 pb-3 pl-2 clickable border-0 rounded-0",attrs:{role:"tab"}},[i("property-block",{staticClass:"col-xxxl-1 text-xxxl-center",attrs:{label:"Status"}},[i("status-icon",{staticClass:"h4 mt-1",class:e._f("bootstrapClass")(t.status,"text"),attrs:{status:t.status}})],1),e._v(" "),i("property-block",{staticClass:"col-xxxl-4",attrs:{label:"Stage","value-css-class":"h4",value:t.step}},[i("span",{staticClass:"mr-2"},[e._v(e._s(t.step))]),e._v(" "),i("extension-icon",{staticClass:"h4 align-middle text-secondary",attrs:{image:t.image}}),e._v(" "),t.autoInjected?i("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"h4 align-middletext-secondary",attrs:{icon:"syringe",title:"This stage is automatically injected by Estafette CI"}}):e._e(),e._v(" "),i("log-warning",{staticClass:"h4 align-middle text-secondary",attrs:{step:t,"max-lines-to-show":e.maxLinesToShow}})],1),e._v(" "),i("property-block",{staticClass:"col-xxxl-3",attrs:{label:"Image"}},[t.image&&t.image.name?i("span",{attrs:{title:t.image.name+":"+t.image.tag}},[e._v("\n            "+e._s(t.image.name)+":"+e._s(t.image.tag)+"\n            "),t.image.isTrusted?i("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"small text-muted",attrs:{icon:"shield-alt",title:"This image is configured as trusted by Estafette CI"}}):e._e(),e._v(" "),t.image.hasInjectedCredentials?i("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"small text-muted",attrs:{icon:"key",title:"This image has injected credentials"}}):e._e()],1):i("span",[e._v("\n            -\n          ")])]),e._v(" "),i("property-block",{staticClass:"d-none d-xxxl-block col-xxxl-1 text-xxxl-right",attrs:{label:"Image size"}},[t.image&&t.image.name&&("RUNNING"==t.status||"SUCCEEDED"==t.status||"FAILED"==t.status)?i("span",[t.image&&t.image.imageSize?i("span",{attrs:{title:e._f("formatBytes")(t.image.imageSize)}},[e._v("\n              "+e._s(e._f("formatBytes")(t.image.imageSize))+"\n            ")]):i("em",{staticClass:"text-muted"},[e._v("\n              (cached)\n            ")])]):i("span",[e._v("\n            -\n          ")])]),e._v(" "),i("property-block",{staticClass:"d-none d-xxxl-block col-xxxl-1 text-xxxl-right",attrs:{label:"Pull time"}},[t.image&&t.image.name&&("RUNNING"==t.status||"SUCCEEDED"==t.status||"FAILED"==t.status)?i("span",[t.image.pullDuration&&t.image.pullDuration>0?i("span",{attrs:{title:e._f("formatDuration")(t.image.pullDuration)}},[e._v("\n              "+e._s(e._f("formatDuration")(t.image.pullDuration))+"\n            ")]):i("em",{staticClass:"text-muted"},[e._v("\n              (cached)\n            ")])]):i("span",[e._v("\n            -\n          ")])]),e._v(" "),i("property-block",{staticClass:"d-none d-xxxl-block col-xxxl-1 text-xxxl-right",attrs:{label:"Execution time",value:e._f("formatDuration")(t.duration)}},[!t.duration||"SUCCEEDED"!=t.status&&"FAILED"!=t.status?i("span",[e._v("\n            -\n          ")]):i("span",[e._v("\n            "+e._s(e._f("formatDuration")(t.duration))+"\n          ")])]),e._v(" "),i("property-block",{staticClass:"col-xxxl-1 text-xxxl-right pr-5",attrs:{label:"Total time",value:e._f("formatDuration")((t.image?t.image.pullDuration:0)+t.duration)}},[!t.image||"RUNNING"!=t.status&&"SUCCEEDED"!=t.status&&"FAILED"!=t.status?i("span",[e._v("\n            -\n          ")]):i("span",[e._v("\n            "+e._s(e._f("formatDuration")((t.image?t.image.pullDuration:0)+t.duration))+"\n          ")])])],1),e._v(" "),t.services&&t.services.length>0?i("b-card-header",{staticClass:"row m-0 p-2 border-0 rounded-0 justify-content-center",attrs:{role:"tab"}},[i("property-block",{attrs:{label:"Service containers",wide:"","label-css-class":"d-xxxl-block"}},e._l(t.services,(function(t){return i("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.collapseID,expression:"service.collapseID"}],key:t.key,staticClass:"mr-2 mb-1",attrs:{variant:e._f("bootstrapVariant")(t.status,!0),title:t.step}},[i("extension-icon",{attrs:{image:t.image}}),e._v("\n            "+e._s(t.step)+"\n            "),i("span",[e._v("\n              "+e._s(e._f("formatDuration")((t.image?t.image.pullDuration:0)+t.duration))+"\n            ")]),e._v(" "),i("log-warning",{attrs:{step:t,"max-lines-to-show":e.maxLinesToShow}})],1)})),1)],1):e._e(),e._v(" "),t.nestedSteps&&t.nestedSteps.length>0?i("b-card-header",{staticClass:"row m-0 p-2 border-0 rounded-0 justify-content-center",attrs:{role:"tab"}},[i("property-block",{attrs:{label:"Parallel stages",wide:"","label-css-class":"d-xxxl-block"}},e._l(t.nestedSteps,(function(t){return i("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.collapseID,expression:"nestedStep.collapseID"}],key:t.key,staticClass:"mr-2 mb-1",attrs:{variant:e._f("bootstrapVariant")(t.status,!0),title:t.step}},[i("extension-icon",{attrs:{image:t.image}}),e._v("\n            "+e._s(t.step)+"\n            "),i("span",[e._v("\n              "+e._s(e._f("formatDuration")((t.image?t.image.pullDuration:0)+t.duration))+"\n            ")]),e._v(" "),i("log-warning",{attrs:{step:t,"max-lines-to-show":e.maxLinesToShow}})],1)})),1)],1):e._e(),e._v(" "),i("b-collapse",{staticClass:"container-fluid collapse p-0 rounded-bottom",attrs:{id:t.collapseID,visible:"RUNNING"===t.status||"FAILED"===t.status,accordion:"log-steps-accordion",role:"tabpanel"},scopedSlots:e._u([{key:"default",fn:function(r){return[r.visible&&t.logLines&&t.logLines.length>0?i("div",{staticClass:"text-light text-monospace bg-dark m-0 p-3 pr-5"},e._l(e.cappedLogLines(t.logLines),(function(t,r){return i("div",{key:t.line?t.line:r,staticClass:"row no-gutters"},[e.showTimestamps?i("div",{staticClass:"col-1 log-timestamp text-white-50 d-none d-xl-flex"},[e._v("\n              "+e._s(e._f("moment")(t.timestamp,"YYYY-MM-DD HH:mm:ss"))+"\n            ")]):e._e(),e._v(" "),i("div",{staticClass:"col log-text",domProps:{innerHTML:e._s(e.formatLog(t.text))}})])})),0):e._e()]}}],null,!0)}),e._v(" "),e._l(t.services,(function(t){return i("b-collapse",{key:t.collapseID,staticClass:"container-fluid collapse p-0 rounded-bottom",attrs:{id:t.collapseID,accordion:"log-steps-accordion",role:"tabpanel"},scopedSlots:e._u([{key:"default",fn:function(r){return[r.visible?i("div",{staticClass:"row m-0 pt-3 pr-2 pb-3 pl-2 border-0 rounded-0 bg-light"},[i("div",{staticClass:"col-4 col-md-2 col-xl-1 text-center"}),e._v(" "),i("div",{staticClass:"col-8 col-lg-5 col-xl-4 text-truncate h4",attrs:{title:t.step}}),e._v(" "),i("div",{staticClass:"col-4 col-xl-3 d-none d-lg-flex text-truncate"},[t.image&&t.image.name?i("span",[e._v("\n              "+e._s(t.image.name)+":"+e._s(t.image.tag)+"\n              "),t.image.isTrusted?i("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"small text-muted",attrs:{icon:"shield-alt",title:"This image is configured as trusted by Estafette CI"}}):e._e(),e._v(" "),t.image.hasInjectedCredentials?i("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"small text-muted",attrs:{icon:"key",title:"This image has injected credentials"}}):e._e()],1):e._e()]),e._v(" "),i("div",{staticClass:"col-1 text-right d-none d-xl-flex"},[t.image&&t.image.name&&("RUNNING"==t.status||"SUCCEEDED"==t.status||"FAILED"==t.status)?i("span",[t.image&&t.image.imageSize?i("span",[e._v("\n                "+e._s(e._f("formatBytes")(t.image.imageSize))+"\n              ")]):i("em",{staticClass:"text-muted"},[e._v("\n                (cached)\n              ")])]):e._e()]),e._v(" "),i("div",{staticClass:"col-1 text-right d-none d-xl-flex"},[t.image&&t.image.name&&("RUNNING"==t.status||"SUCCEEDED"==t.status||"FAILED"==t.status)?i("span",[t.image.pullDuration&&t.image.pullDuration>0?i("span",[e._v("\n                "+e._s(e._f("formatDuration")(t.image.pullDuration))+"\n              ")]):i("em",{staticClass:"text-muted"},[e._v("\n                (cached)\n              ")])]):e._e()]),e._v(" "),i("div",{staticClass:"col-1 text-right d-none d-xl-flex"},[!t.duration||"SUCCEEDED"!=t.status&&"FAILED"!=t.status?e._e():i("span",[e._v("\n              "+e._s(e._f("formatDuration")(t.duration))+"\n            ")])]),e._v(" "),i("div",{staticClass:"col-2 col-lg-1 text-right d-none d-md-flex pr-5"},[!t.image||"RUNNING"!=t.status&&"SUCCEEDED"!=t.status&&"FAILED"!=t.status?e._e():i("span",[e._v("\n              "+e._s(e._f("formatDuration")((t.image?t.image.pullDuration:0)+t.duration))+"\n            ")])])]):e._e(),e._v(" "),t.logLines&&t.logLines.length>0?i("div",{staticClass:"text-light text-monospace bg-dark m-0 p-3 pr-5"},e._l(e.cappedLogLines(t.logLines),(function(t,r){return i("div",{key:t.line?t.line:r,staticClass:"row no-gutters"},[e.showTimestamps?i("div",{staticClass:"col-1 log-timestamp text-white-50 d-none d-xl-flex"},[e._v("\n              "+e._s(e._f("moment")(t.timestamp,"YYYY-MM-DD HH:mm:ss"))+"\n            ")]):e._e(),e._v(" "),i("div",{staticClass:"col log-text",domProps:{innerHTML:e._s(e.formatLog(t.text))}})])})),0):e._e()]}}],null,!0)})})),e._v(" "),e._l(t.nestedSteps,(function(t){return i("b-collapse",{key:t.collapseID,staticClass:"container-fluid collapse p-0 rounded-bottom",attrs:{id:t.collapseID,accordion:"log-steps-accordion",role:"tabpanel"},scopedSlots:e._u([{key:"default",fn:function(r){return[r.visible?i("div",{staticClass:"row m-0 pt-3 pr-2 pb-3 pl-2 border-0 rounded-0 bg-light"},[i("div",{staticClass:"col-4 col-md-2 col-xl-1 text-center"}),e._v(" "),i("div",{staticClass:"col-8 col-lg-5 col-xl-4 text-truncate h4",attrs:{title:t.step}}),e._v(" "),i("div",{staticClass:"col-4 col-xl-3 d-none d-lg-flex text-truncate"},[t.image&&t.image.name?i("span",[e._v("\n              "+e._s(t.image.name)+":"+e._s(t.image.tag)+"\n              "),t.image.isTrusted?i("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"small text-muted",attrs:{icon:"shield-alt",title:"This image is configured as trusted by Estafette CI"}}):e._e(),e._v(" "),t.image.hasInjectedCredentials?i("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"small text-muted",attrs:{icon:"key",title:"This image has injected credentials"}}):e._e()],1):e._e()]),e._v(" "),i("div",{staticClass:"col-1 text-right d-none d-xl-flex"},[t.image&&t.image.name&&("RUNNING"==t.status||"SUCCEEDED"==t.status||"FAILED"==t.status)?i("span",[t.image&&t.image.imageSize?i("span",[e._v("\n                "+e._s(e._f("formatBytes")(t.image.imageSize))+"\n              ")]):i("em",{staticClass:"text-muted"},[e._v("\n                (cached)\n              ")])]):e._e()]),e._v(" "),i("div",{staticClass:"col-1 text-right d-none d-xl-flex"},[t.image&&t.image.name&&("RUNNING"==t.status||"SUCCEEDED"==t.status||"FAILED"==t.status)?i("span",[t.image.pullDuration&&t.image.pullDuration>0?i("span",[e._v("\n                "+e._s(e._f("formatDuration")(t.image.pullDuration))+"\n              ")]):i("em",{staticClass:"text-muted"},[e._v("\n                (cached)\n              ")])]):e._e()]),e._v(" "),i("div",{staticClass:"col-1 text-right d-none d-xl-flex"},[!t.duration||"SUCCEEDED"!=t.status&&"FAILED"!=t.status?e._e():i("span",[e._v("\n              "+e._s(e._f("formatDuration")(t.duration))+"\n            ")])]),e._v(" "),i("div",{staticClass:"col-2 col-lg-1 text-right d-none d-md-flex pr-5"},[!t.image||"RUNNING"!=t.status&&"SUCCEEDED"!=t.status&&"FAILED"!=t.status?e._e():i("span",[e._v("\n              "+e._s(e._f("formatDuration")((t.image?t.image.pullDuration:0)+t.duration))+"\n            ")])])]):e._e(),e._v(" "),t.logLines&&t.logLines.length>0?i("div",{staticClass:"text-light text-monospace bg-dark m-0 p-3 pr-5"},e._l(e.cappedLogLines(t.logLines),(function(t,r){return i("div",{key:t.line?t.line:r,staticClass:"row no-gutters"},[e.showTimestamps?i("div",{staticClass:"col-1 log-timestamp text-white-50 d-none d-xl-flex"},[e._v("\n              "+e._s(e._f("moment")(t.timestamp,"YYYY-MM-DD HH:mm:ss"))+"\n            ")]):e._e(),e._v(" "),i("div",{staticClass:"col log-text",domProps:{innerHTML:e._s(e.formatLog(t.text))}})])})),0):e._e()]}}],null,!0)})}))],2)})),1),e._v(" "),i("div",{staticClass:"log-summary-block"},[i("property-block",{staticClass:"col-xxxl-1 text-xxxl-center",attrs:{label:"Status",value:e.totalStatus}},[i("status-icon",{staticClass:"h4 mt-1",class:e._f("bootstrapClass")(e.totalStatus,"text"),attrs:{status:e.totalStatus}})],1),e._v(" "),i("div",{staticClass:"property-block col-xxxl-4"}),e._v(" "),i("div",{staticClass:"property-block col-xxxl-3"}),e._v(" "),i("property-block",{staticClass:"d-none d-xxxl-block col-xxxl-1 text-xxxl-right",attrs:{label:"Total image size",value:e._f("formatBytes")(e.totalImageSize)}}),e._v(" "),i("property-block",{staticClass:"d-none d-xxxl-block col-xxxl-1 text-xxxl-right",attrs:{label:"Total pull time",value:e._f("formatDuration")(e.totalPullDuration)}}),e._v(" "),i("property-block",{staticClass:"d-none d-xxxl-block col-xxxl-1 text-xxxl-right",attrs:{label:"Total execution time",value:e._f("formatDuration")(e.totalDuration)}}),e._v(" "),i("property-block",{staticClass:"col-xxxl-1 text-xxxl-right pr-5",attrs:{label:"Total time",value:e._f("formatDuration")(e.totalPullDuration+e.totalDuration)}})],1),e._v(" "),i("div",{staticClass:"log-buttons"},[i("b-button-group",{attrs:{vertical:""}},[i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.left",modifiers:{hover:!0,left:!0}}],attrs:{title:"Scroll up",size:"lg"},on:{click:e.scrollUp}},[i("font-awesome-icon",{staticClass:"sidebar-icon",attrs:{icon:"chevron-up"}})],1),e._v(" "),e.isTailing()?i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.left",modifiers:{hover:!0,left:!0}}],attrs:{pressed:e.scrollEnabled,title:"Toggle tailing",size:"lg"},on:{"update:pressed":function(t){e.scrollEnabled=t},click:e.blurActiveElement}},[i("font-awesome-icon",{staticClass:"sidebar-icon",attrs:{icon:"eye"}})],1):e._e(),e._v(" "),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.left",modifiers:{hover:!0,left:!0}}],attrs:{pressed:e.showInjectedStages,title:"Toggle injected stages",size:"lg"},on:{"update:pressed":function(t){e.showInjectedStages=t},click:e.blurActiveElement}},[i("font-awesome-icon",{staticClass:"sidebar-icon",attrs:{icon:"syringe"}})],1),e._v(" "),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.left",modifiers:{hover:!0,left:!0}}],staticClass:"d-none d-xl-flex",attrs:{pressed:e.showTimestamps,title:"Toggle timestamps",size:"lg"},on:{"update:pressed":function(t){e.showTimestamps=t},click:e.blurActiveElement}},[i("font-awesome-icon",{staticClass:"sidebar-icon",attrs:{icon:"stopwatch"}})],1),e._v(" "),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.left",modifiers:{hover:!0,left:!0}}],attrs:{pressed:e.showTruncatedLogs,title:"Toggle truncated logs",size:"lg"},on:{"update:pressed":function(t){e.showTruncatedLogs=t},click:e.blurActiveElement}},[i("font-awesome-icon",{staticClass:"sidebar-icon",attrs:{icon:"expand-alt"}})],1),e._v(" "),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.left",modifiers:{hover:!0,left:!0}}],attrs:{title:"Scroll down",size:"lg"},on:{click:e.scrollDown}},[i("font-awesome-icon",{staticClass:"sidebar-icon",attrs:{icon:"chevron-down"}})],1)],1)],1)]):i("div",{staticClass:"m-3"},[e._v("\n  Hold on, we're waiting for the logs to come in!\n")])};r._withStripped=!0;var s=i(3279),n=i.n(s),a=i(4431),o=i.n(a),l=i(5193),c=i(2145),u=i(7047),p=i(3258),d=i(5969),f=i(3028),h=i(5322),m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.step&&e.step.logLines&&e.step.logLines.length>e.maxLinesToShow?i("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"This stage has a total of "+e.step.logLines.length+" log lines; please make it less verbose to avoid it getting truncated",icon:"exclamation-triangle"}}):e._e()};m._withStripped=!0;var b=i(8947),g=i(1436),v=i(7810);b.vI.add(g.eHv);var y={components:{FontAwesomeIcon:v.GN},props:{step:{type:Object,default:null},maxLinesToShow:{type:Number,default:1e3}}},_=i(1900),w=(0,_.Z)(y,m,[],!1,null,null,null);w.options.__file="src/components/LogWarning.vue";var x=w.exports,S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.supported?i("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{icon:e.icon,title:e.status}}):e._e()};S._withStripped=!0,b.vI.add(g.f8k,g.aQp,g.nYk,g._1v,g.oD0,g.ul5,g.KtF);var O={components:{FontAwesomeIcon:v.GN},props:{status:{type:String,default:null}},data:function(){return{icons:{succeeded:"check-circle",running:"play-circle",failed:"times-circle",skipped:"dot-circle",canceled:"stop-circle",canceling:"pause-circle",pending:"plus-circle"}}},computed:{supported:function(){return this.status&&this.status.toLowerCase()in this.icons},icon:function(){return this.icons[this.status.toLowerCase()]}}},C=(0,_.Z)(O,S,[],!1,null,null,null);C.options.__file="src/components/StatusIcon.vue";var P=C.exports,T=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.supported?i("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{icon:["fab",e.icon],title:"This stage uses a known extension image"}}):e._e()};T._withStripped=!0;var j=i(1417);b.vI.add(j.XWM,j.XSg,j.SrY,j.zhw,j.KOC,j.xDz,j.apG);var D={components:{FontAwesomeIcon:v.GN},props:{image:{type:Object,default:null}},data:function(){return{icons:{"extensions/docker":"docker","extensions/git-clone":"git","extensions/slack-build-status":"slack","extensions/github-status":"github","extensions/github-release":"github","extensions/bot-github":"github","extensions/bitbucket-status":"bitbucket","extensions/npm-audit":"npm","extensions/cloudflare-purge":"cloudflare"}}},computed:{supported:function(){return this.image&&this.image.name&&this.image.name in this.icons},icon:function(){return this.icons[this.image.name]}}},k=(0,_.Z)(D,T,[],!1,null,null,null);k.options.__file="src/components/ExtensionIcon.vue";var B=k.exports;b.vI.add(g.U7t,g.DD4,g.Mdf,g.mTx,g.ptq,g.U$5,g.TTL,g._3b);var N={components:{BButton:l.T,BCard:c._,BCardHeader:u.p,BCollapse:p.k,PropertyBlock:h.Z,LogWarning:x,FontAwesomeIcon:v.GN,BButtonGroup:d.a,StatusIcon:P,ExtensionIcon:B},directives:{"b-toggle":f.M},props:{logUrl:{type:String,default:null},status:{type:String,default:null},allowTail:{type:Boolean,default:!1}},data:function(){return{steps:[],refresh:!0,tailedSteps:[],showInjectedStages:!1,showTimestamps:!1,maxLinesToShow:500,maxLinesToShowWhenTailing:50,showTruncatedLogs:!1,scrollEnabled:!0}},computed:{filteredSteps:function(){var e=this;return this.steps?this.steps.filter((function(t){return!t.autoInjected||e.showInjectedStages||"PENDING"===t.status||"RUNNING"===t.status||"FAILED"===t.status})).map((function(e){return e.key=e.step+"-"+(e.runIndex?e.runIndex:0),e.collapseID="accordion-"+e.key,e.services&&(e.services=e.services.map((function(t){return t.key=e.step+"-"+(e.runIndex?e.runIndex:0)+"-service-"+t.step,t.collapseID="accordion-"+t.key,t}))),e.nestedSteps&&(e.nestedSteps=e.nestedSteps.map((function(t){return t.key=e.step+"-"+(e.runIndex?e.runIndex:0)+"-"+t.step,t.collapseID="accordion-"+t.key,t}))),e})):[]},totalImageSize:function(){return this.steps?this.steps.reduce((function(e,t){return e+(t.image&&t.image.imageSize?t.image.imageSize:0)}),0):0},totalPullDuration:function(){return this.steps?this.steps.reduce((function(e,t){return e+(t.image&&t.image.pullDuration?t.image.pullDuration:0)}),0):0},totalDuration:function(){return this.steps?this.steps.reduce((function(e,t){return e+(t.duration?t.duration:0)}),0):0},totalStatus:function(){return this.steps?this.steps.reduce((function(e,t){return"CANCELED"===e||"CANCELED"===t.status?"CANCELED":"FAILED"===e||"FAILED"===t.status?"FAILED":"PENDING"===t.status||"RUNNING"===t.status?"RUNNING":"SUCCEEDED"}),"SUCCEEDED"):""},hasTruncatedLogs:function(){var e=this;return this.filteredSteps&&this.filteredSteps.some((function(t){return t.logLines&&t.logLines.length>e.maxLinesToShow||t.services&&t.services.some((function(t){return t.logLines&&t.logLines.length>e.maxLinesToShow}))||t.nestedSteps&&t.nestedSteps.some((function(t){return t.logLines&&t.logLines.length>e.maxLinesToShow}))}))}},created:function(){this.allowTail?this.tailLogs():this.loadLogs()},methods:{formatLog:function(e){return e?(new(o())).ansi_to_html(e):e},loadLogs:function(){var e=this;this.allowTail&&"succeeded"!==this.status&&"failed"!==this.status&&"canceled"!==this.status?this.periodicallyRefreshLogs(2):(this.tailedSteps=[],this.axios.get(this.logUrl).then((function(t){t.data.steps?e.steps=t.data.steps:e.steps=t.data})).catch((function(t){e.periodicallyRefreshLogs(2)})))},periodicallyRefreshLogs:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadLogs,r))},cappedLogLines:function(e){if(!e||e.length<=this.maxLinesToShow||this.showTruncatedLogs)return e;var t=e.slice(0,5),i=e.slice(5,8).map((function(e,t){return 1===t?{line:e.line,timestamp:null,streamType:e.streamType,text:"== TOO MANY LINES; TRUNCATED BY ESTAFETTE; SHOW ALL BY TOGGLING 'TRUNCATED LOGS' IN THE TOOLBAR ON THE RIGHT =="}:{line:e.line,timestamp:null,streamType:e.streamType,text:" "}})),r=e.slice(e.length-this.maxLinesToShow+5+3);return t.concat(i).concat(r)},isTailing:function(){return this.allowTail&&("pending"===this.status||"running"===this.status||"canceling"===this.status)},tailLogs:function(){var e=this;this.isTailing()?(this.es=new EventSource("".concat(this.logUrl,".stream")),this.es.addEventListener("log",(function(t){if("pending"!==e.status&&"running"!==e.status&&"canceling"!==e.status)return e.es.close(),document.getElementById("main").scrollIntoView(!0),void e.loadLogs();var i=JSON.parse(t.data),r="stage";if(i.type&&(r=i.type),!i.type&&(!i.depth||0===i.depth)||i.type&&"stage"===r&&!i.parentStage){var s=e.tailedSteps.findIndex((function(e){return e===i.step})),n=s>-1?e.steps[s]:null;if(-1===s){var a="RUNNING";i.status&&(a=i.status),n={step:i.step,logLines:[],nestedSteps:[],services:[],exitCode:0,status:a,autoInjected:i.autoInjected,duration:0,lastLineNumber:0},e.tailedSteps.push(i.step),e.steps.push(n),s=e.steps.length-1}if(s!==e.tailedSteps.length-1)return;i.image&&(n.image=i.image),i.status&&(n.status=i.status),i.exitCode&&(n.exitCode=i.exitCode),i.duration&&(n.duration=i.duration),i.logLine&&i.logLine.line>n.lastLineNumber&&(n.logLines.push(i.logLine),n.lastLineNumber=i.logLine.line,i.logLine.line>e.maxLinesToShowWhenTailing&&n.logLines.shift())}else if(e.steps.length>0){var o,l,c=e.steps[e.steps.length-1];if(i.parentStage){var u=e.tailedSteps.findIndex((function(e){return e===i.parentStage}));u>-1&&(c=e.steps[u])}if("service"===r){if(l=(o=c.services.findIndex((function(e){return e.step===i.step})))>-1?c.services[o]:null,-1===o){var p="RUNNING";i.status&&(p=i.status),l={step:i.step,logLines:[],exitCode:0,status:p,autoInjected:!1,duration:0,lastLineNumber:0},c.services.push(l)}}else if(l=(o=c.nestedSteps.findIndex((function(e){return e.step===i.step})))>-1?c.nestedSteps[o]:null,-1===o){var d="RUNNING";i.status&&(d=i.status),l={step:i.step,logLines:[],exitCode:0,status:d,autoInjected:!1,duration:0,lastLineNumber:0},c.nestedSteps.push(l)}i.image&&(l.image=i.image),i.status&&(l.status=i.status),i.exitCode&&(l.exitCode=i.exitCode),i.duration&&(l.duration=i.duration),i.logLine&&i.logLine.line>l.lastLineNumber&&(l.logLines.push(i.logLine),l.lastLineNumber=i.logLine.line,i.logLine.line>e.maxLinesToShowWhenTailing&&l.logLines.shift())}e.scrollToLogTail()}),!1),this.es.addEventListener("close",(function(t){e.es.close(),document.getElementById("main").scrollIntoView(!0),e.loadLogs()}),!1),this.es.onerror=function(e){console.warn(e)}):this.loadLogs()},scrollToLogTail:n()((function(){this.scrollEnabled&&this.$el.scrollIntoView(!1)}),1e3,{maxWait:5e3}),scrollUp:function(e){this.blurActiveElement(),this.scrollEnabled=!1,window.scrollTo(0,0)},scrollDown:function(e){this.blurActiveElement(),this.scrollEnabled=!1,window.scrollTo(0,document.body.scrollHeight)},blurActiveElement:function(){"activeElement"in document&&document.activeElement.blur()}},watch:{$route:function(e,t){this.es&&this.es.close(),this.steps=[],this.tailedSteps=[],this.allowTail?this.tailLogs():this.loadLogs()}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout),this.es&&this.es.close()}},R=(0,_.Z)(N,r,[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row-header"},[i("div",{staticClass:"col-1 text-center"},[e._v("\n      Status\n    ")]),e._v(" "),i("div",{staticClass:"col-4"},[e._v("\n      Stage\n    ")]),e._v(" "),i("div",{staticClass:"col-3"},[e._v("\n      Image\n    ")]),e._v(" "),i("div",{staticClass:"col-1 text-right"},[e._v("\n      Image size\n    ")]),e._v(" "),i("div",{staticClass:"col-1 text-right"},[e._v("\n      Pull time\n    ")]),e._v(" "),i("div",{staticClass:"col-1 text-right"},[e._v("\n      Execution time\n    ")]),e._v(" "),i("div",{staticClass:"col-1 text-right pr-5"},[e._v("\n      Total time\n    ")])])}],!1,null,"5023e914",null);R.options.__file="src/components/LogViewer.vue";var E=R.exports},5654:function(e,t,i){"use strict";i.d(t,{Z:function(){return m}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.allowedToRebuild()?i("b-input-group",{staticStyle:{width:"auto"}},[i("b-input-group-text",{staticClass:"border border-warning text-warning bg-white",attrs:{slot:"prepend"},on:{click:function(e){e.stopPropagation()}},slot:"prepend"},[i("font-awesome-icon",{attrs:{icon:"redo"}})],1),e._v(" "),i("b-button",{attrs:{variant:"outline-warning",size:"sm"},on:{click:function(t){return t.stopPropagation(),e.rebuild(t)}}},[e._v("\n    Rebuild\n  ")])],1):e._e()};r._withStripped=!0;var s=i(629),n=i(6127),a=i(5193),o=i(8222),l=i(8947),c=i(1436),u=i(7810);function p(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}l.vI.add(c.XSV);var f={components:{BInputGroup:n.w,BButton:a.T,BInputGroupText:o.e,FontAwesomeIcon:u.GN},props:{build:{type:Object,default:null},builds:{type:Array,default:null}},data:function(){return{clicked:!1}},methods:{allowedToRebuild:function(){var e=this;return!(!this.user.active||!this.build||"failed"!==this.build.buildStatus&&"canceled"!==this.build.buildStatus)&&(!(this.builds&&this.builds.length>0)||!this.builds.some((function(t){return t.buildVersion===e.build.buildVersion&&"succeeded"===t.buildStatus})))},rebuild:function(e){var t=this;this.user.active&&this.axios.post("/api/pipelines/".concat(this.build.repoSource,"/").concat(this.build.repoOwner,"/").concat(this.build.repoName,"/builds"),this.build).then((function(e){t.builds.unshift(e.data),t.builds.shift()})).catch((function(e){console.warn(e)}))}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?p(Object(i),!0).forEach((function(t){d(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},(0,s.rn)("user",{user:"me"}))},h=(0,i(1900).Z)(f,r,[],!1,null,null,null);h.options.__file="src/components/RebuildButton.vue";var m=h.exports},377:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.matchingReleases.length>0?i("div",{class:["btn-light","btn btn-sm mr-1"]},[e._v("\n  "+e._s(e.releaseTarget.name)),e._l(e.matchingReleases,(function(t){return i("router-link",{key:t.id,staticClass:"badge ml-1 mb-1 d-block d-md-inline-block",class:e._f("bootstrapClass")(t.releaseStatus,"badge"),attrs:{to:{name:"PipelineReleaseLogs",params:{repoSource:t.repoSource,repoOwner:t.repoOwner,repoName:t.repoName,releaseID:t.id}},exact:"",tag:"span",title:t.action}},[t.action?i("span",[e._v("\n      "+e._s(t.action)+":\n    ")]):e._e(),e._v(e._s(t.releaseStatus)+"\n  ")])}))],2):e._e()};r._withStripped=!0;var s={props:{releaseTarget:{type:Object,default:null},build:{type:Object,default:null}},computed:{matchingReleases:function(){var e=this;return this.build&&this.build.buildStatus&&"succeeded"===this.build.buildStatus&&this.releaseTarget&&this.releaseTarget.activeReleases?this.releaseTarget.activeReleases.filter((function(t){return t.releaseVersion===e.build.buildVersion})):[]}}},n=(0,i(1900).Z)(s,r,[],!1,null,null,null);n.options.__file="src/components/ReleaseBadgeForBuild.vue";var a=n.exports},2776:function(e,t,i){"use strict";i.d(t,{Z:function(){return g}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.user&&e.user.active&&e.pipeline.releaseTargets&&e.pipeline.releaseTargets.length>0&&"succeeded"===e.build.buildStatus?i("b-input-group",{staticStyle:{width:"auto"}},[i("b-input-group-text",{staticClass:"border border-secondary text-secondary bg-white",attrs:{slot:"prepend"},on:{click:function(e){e.stopPropagation()}},slot:"prepend"},[i("font-awesome-icon",{attrs:{icon:"upload"}})],1),e._v(" "),i("b-dropdown",{attrs:{size:"sm",id:"releaseAction",text:"Release to...",variant:"outline-secondary"}},e._l(e.pipeline.releaseTargets,(function(t){return i("div",{key:t.name},[e.hasActions(t)?i("div",{attrs:{role:"group","aria-labelledby":t.name}},[i("b-dropdown-header",{attrs:{id:t.name}},[e._v("\n          "+e._s(t.name)+":\n        ")]),e._v(" "),e._l(t.actions,(function(r){return i("b-dropdown-item-button",{key:t.name+"-"+r.name,attrs:{disabled:e.releaseTargetDisabled(t),"aria-describedby":t.name},on:{click:function(i){return i.stopPropagation(),e.startRelease(t,r,i)}}},[e._v("\n          - "+e._s(r.name)+"\n        ")])}))],2):e._e(),e._v(" "),e.hasActions(t)?e._e():i("b-dropdown-item-button",{key:t.name,attrs:{disabled:e.releaseTargetDisabled(t)},on:{click:function(i){return i.stopPropagation(),e.startRelease(t,null,i)}}},[e._v("\n        "+e._s(t.name)+"\n      ")])],1)})),0)],1):e._e()};r._withStripped=!0;var s=i(629),n=i(5189),a=i(3630),o=i(2332),l=i(6127),c=i(8222),u=i(8947),p=i(1436),d=i(7810);function f(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}u.vI.add(p.cf$);var m={components:{BDropdown:n.R,BDropdownHeader:a.X,BDropdownItemButton:o.t,BInputGroup:l.w,BInputGroupText:c.e,FontAwesomeIcon:d.GN},props:{pipeline:{type:Object,default:null},build:{type:Object,default:null}},data:function(){return{clicked:!1}},methods:{releaseTargetDisabled:function(e){return this.pipeline&&this.pipeline.releaseTargets&&this.pipeline.releaseTargets.length>0&&this.pipeline.releaseTargets.some((function(t){return t.name===e.name&&t.activeReleases&&t.activeReleases.some((function(e){return e&&"running"===e.releaseStatus}))}))},startRelease:function(e,t,i){var r=this;if(this.user.active){var s={name:e.name,action:t?t.name:"",repoSource:this.build.repoSource,repoOwner:this.build.repoOwner,repoName:this.build.repoName,releaseVersion:this.build.buildVersion,releaseStatus:"pending"};this.updateRelease(s),this.axios.post("/api/pipelines/".concat(this.build.repoSource,"/").concat(this.build.repoOwner,"/").concat(this.build.repoName,"/releases"),s).then((function(e){s=e.data,r.updateRelease(s)})).catch((function(e){console.warn(e)}))}},updateRelease:function(e){var t=this.pipeline.releaseTargets.find((function(t){return t.name===e.name}));if(t)if(t.activeReleases){var i=!1,r=t.activeReleases.map((function(t){return t.action?e.action&&t.action===e.action?(i=!0,e):t:(i=!0,e)}));i||r.push(e),t.activeReleases=r}else t.activeReleases=[e]},hasActions:function(e){return e&&e.actions&&e.actions.length>0}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?f(Object(i),!0).forEach((function(t){h(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},(0,s.rn)("user",{user:"me"}))},b=(0,i(1900).Z)(m,r,[],!1,null,"a329acce",null);b.options.__file="src/components/ReleaseButton.vue";var g=b.exports},9818:function(e,t,i){"use strict";i.d(t,{Z:function(){return v}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("router-link",{staticClass:"row-block list-complete-item",attrs:{to:{name:"PipelineReleaseLogs",params:{repoSource:e.release.repoSource,repoOwner:e.release.repoOwner,repoName:e.release.repoName,releaseID:e.release.id}},tag:"div"}},[e.allReleasesMode?i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Pipeline"}},[i("repository-title",{attrs:{repo:e.release}})],1):e._e(),e._v(" "),i("property-block",{staticClass:"col-xxxl-2",attrs:{label:e.release.action?"Target + action":"Target",value:e.release.action?e.release.name+" / "+e.release.action:e.release.name}},[e._v("\n    "+e._s(e.release.name)),e.release.action?i("span",[e._v("\n      / "+e._s(e.release.action)+"\n    ")]):e._e()]),e._v(" "),i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Version",value:e.release.releaseVersion}}),e._v(" "),i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Status",value:e.release.releaseStatus}},[i("b-progress",[i("b-progress-bar",{attrs:{value:e.$options.filters.releaseProgressBarValue(e.pipeline,e.release,e.now),label:e.$options.filters.releaseProgressBarLabel(e.pipeline,e.release,e.now),variant:e.$options.filters.bootstrapVariant(e.release.releaseStatus),animated:e.$options.filters.animatedProgressBar(e.release.releaseStatus)}})],1)],1),e._v(" "),i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Released at"}},[e._v("\n    "+e._s(e._f("formatDatetime")(e.release.insertedAt))+"\n    "),i("duration-label",{attrs:{duration:e.release.duration,"pending-duration":e.release.pendingDuration}})],1),e._v(" "),i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Triggered by"}},[i("triggered-by",{attrs:{events:e.release.triggerEvents}})],1),e._v(" "),e.showActions?i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Actions"}},[i("cancel-button",{attrs:{release:e.release}})],1):e._e()],1)};r._withStripped=!0;var s=i(629),n=i(5752),a=i(2981),o=i(8418),l=i(9325),c=i(5322),u=i(6342),p=i(8714),d=i(3900);function f(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?f(Object(i),!0).forEach((function(t){m(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var b={components:{BProgress:n.D,BProgressBar:a.Q,CancelButton:o.Z,TriggeredBy:l.Z,PropertyBlock:c.Z,DurationLabel:u.Z,RepositoryTitle:p.Z},props:{release:{type:Object,default:null},pipeline:{type:Object,default:null},allReleasesMode:{type:Boolean,default:!1}},data:function(){return{now:Date.now()}},created:function(){this.updateNow()},methods:{updateNow:function(){this.now=Date.now(),!this.release||"pending"!==this.release.releaseStatus&&"running"!==this.release.releaseStatus||d.Z.timeout(this.timeout,this.updateNow,1)}},beforeDestroy:function(){clearTimeout(this.timeout)},computed:h(h({},(0,s.rn)("user",{user:"me"})),{},{showActions:function(){return!this.allReleasesMode&&this.user&&this.user.active&&this.release&&("pending"===this.release.releaseStatus||"running"===this.release.releaseStatus||"canceling"===this.release.releaseStatus)}})},g=(0,i(1900).Z)(b,r,[],!1,null,null,null);g.options.__file="src/components/ReleaseRow.vue";var v=g.exports},8625:function(e,t,i){"use strict";i.d(t,{Z:function(){return d}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-input-group",{staticClass:"mb-3"},[i("b-input-group-prepend",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{"is-text":"",title:"Filter pipelines based on when they're last built or released"}},[i("font-awesome-icon",{attrs:{icon:"upload"}})],1),e._v(" "),i("b-form-select",{attrs:{options:e.releaseTargetOptions},on:{change:e.onChange},model:{value:e.mutableModel,callback:function(t){e.mutableModel=t},expression:"mutableModel"}})],1)};r._withStripped=!0;var s=i(5343),n=i(6127),a=i(7754),o=i(8947),l=i(1436),c=i(7810);o.vI.add(l.cf$);var u={components:{BFormSelect:s.K,BInputGroup:n.w,BInputGroupPrepend:a.P,FontAwesomeIcon:c.GN},props:{mode:{type:String,default:"pipelines"},filter:{type:Object,default:null},model:{type:String,default:null},onChange:{type:Function,default:null}},data:function(){return{targets:[],pagination:{page:1,size:15},refresh:!0,mutableModel:this.model}},created:function(){this.loadReleaseTargets()},methods:{loadReleaseTargets:function(){var e=this,t="";this.filter&&this.filter.labels&&this.filter.labels.length>0&&(t=this.filter.labels.split(",").join("&filter[labels]="));var i="filter[status]=".concat(this.filter.status);"running"===this.filter.status&&(i+="&filter[status]=pending&filter[status]=canceling"),this.axios.get("/api/releasetargets/".concat(this.mode,"?").concat(i,"&filter[since]=").concat(this.filter.since,"&filter[search]=").concat(this.filter.search,"&filter[labels]=").concat(t,"&page[number]=").concat(this.pagination.page,"&page[size]=").concat(this.pagination.size)).then((function(t){e.targets=t.data.items,e.periodicallyRefreshReleaseTargets(5)})).catch((function(t){e.periodicallyRefreshReleaseTargets(30)}))},periodicallyRefreshReleaseTargets:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadReleaseTargets,r))}},watch:{filter:{handler:function(e,t){this.loadReleaseTargets()},deep:!0}},computed:{releaseTargetOptions:function(){var e=[{value:"",text:"All release targets"}];return this.targets&&this.targets.forEach((function(t){e.push({value:t.name,text:"".concat(t.name," (").concat(t.count,")")})})),e}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},p=(0,i(1900).Z)(u,r,[],!1,null,null,null);p.options.__file="src/components/ReleaseTargetFilter.vue";var d=p.exports},6415:function(e,t,i){"use strict";i.d(t,{Z:function(){return m}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.allowedToRerun()?i("b-input-group",{staticStyle:{width:"auto"}},[i("b-input-group-text",{staticClass:"border border-warning text-warning bg-white",attrs:{slot:"prepend"},on:{click:function(e){e.stopPropagation()}},slot:"prepend"},[i("font-awesome-icon",{attrs:{icon:"redo"}})],1),e._v(" "),i("b-button",{attrs:{variant:"outline-warning",size:"sm"},on:{click:function(t){return t.stopPropagation(),e.rerun(t)}}},[e._v("\n    Rerun\n  ")])],1):e._e()};r._withStripped=!0;var s=i(629),n=i(6127),a=i(5193),o=i(8222),l=i(8947),c=i(1436),u=i(7810);function p(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}l.vI.add(c.XSV);var f={components:{BInputGroup:n.w,BButton:a.T,BInputGroupText:o.e,FontAwesomeIcon:u.GN},props:{bot:{type:Object,default:null}},data:function(){return{clicked:!1}},methods:{allowedToRerun:function(){return!(!this.user.active||!this.bot||"failed"!==this.bot.botStatus&&"canceled"!==this.bot.botStatus)},rerun:function(e){this.user.active&&this.axios.post("/api/pipelines/".concat(this.bot.repoSource,"/").concat(this.bot.repoOwner,"/").concat(this.bot.repoName,"/bots"),this.bot).then((function(e){})).catch((function(e){console.warn(e)}))}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?p(Object(i),!0).forEach((function(t){d(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},(0,s.rn)("user",{user:"me"}))},h=(0,i(1900).Z)(f,r,[],!1,null,null,null);h.options.__file="src/components/RerunButton.vue";var m=h.exports},3897:function(e,t,i){"use strict";i.d(t,{Z:function(){return d}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-input-group",{staticClass:"mb-3"},[i("b-input-group-prepend",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{"is-text":"",title:"Filter pipelines based on when they're last built or released"}},[i("font-awesome-icon",{attrs:{icon:"clock"}})],1),e._v(" "),i("b-form-select",{attrs:{options:e.sinceOptions},on:{change:e.onChange},model:{value:e.mutableModel,callback:function(t){e.mutableModel=t},expression:"mutableModel"}})],1)};r._withStripped=!0;var s=i(5343),n=i(6127),a=i(7754),o=i(8947),l=i(1436),c=i(7810);o.vI.add(l.SZw);var u={components:{BFormSelect:s.K,BInputGroup:n.w,BInputGroupPrepend:a.P,FontAwesomeIcon:c.GN},props:{model:{type:String,default:null},onChange:{type:Function,default:null}},data:function(){return{sinceOptions:[{value:"1h",text:"Since 1 hour ago"},{value:"1d",text:"Since 1 day ago"},{value:"1w",text:"Since 1 week ago"},{value:"1m",text:"Since 1 month ago"},{value:"1y",text:"Since 1 year ago"},{value:"eternity",text:"Since dawn of mankind"}],mutableModel:this.model}}},p=(0,i(1900).Z)(u,r,[],!1,null,null,null);p.options.__file="src/components/SinceSelector.vue";var d=p.exports},7817:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"spinner-border estafette-spinner",class:e._f("bootstrapClass")(e.color,"text"),attrs:{role:"status"}},[i("span",{staticClass:"sr-only"},[e._v("Loading...")])])};r._withStripped=!0;var s={props:{color:{type:String,default:null}}},n=(0,i(1900).Z)(s,r,[],!1,null,null,null);n.options.__file="src/components/Spinner.vue";var a=n.exports},1826:function(e,t,i){"use strict";i.d(t,{Z:function(){return f}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-button-group",{staticClass:"mb-3 bg-white"},[i("b-input-group-prepend",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{"is-text":"",title:"Filter pipelines based on it's build status"}},[i("font-awesome-icon",{attrs:{icon:"check-circle"}})],1),e._v(" "),i("b-button",{class:["all"===e.filter.status?"active":"border-btn-group"],attrs:{to:{query:e.queryGenerator({status:"all",page:1})},"active-class":"router-link-active",variant:"outline-primary",title:"All"},on:{click:function(e){return e.target.blur()}}},[i("font-awesome-icon",{staticClass:"d-md-none",attrs:{icon:"check-double"}}),e._v(" "),i("span",{staticClass:"d-none d-md-inline"},[e._v("\n      All\n    ")])],1),e._v(" "),i("b-button",{class:["succeeded"===e.filter.status?"active":"border-btn-group"],attrs:{to:{query:e.queryGenerator({status:"succeeded",page:1})},"active-class":"router-link-active",variant:"outline-success",title:"Succeeded"},on:{click:function(e){return e.target.blur()}}},[i("font-awesome-icon",{staticClass:"d-md-none",attrs:{icon:"heart"}}),e._v(" "),i("span",{staticClass:"d-none d-md-inline"},[e._v("\n      Succeeded\n    ")])],1),e._v(" "),i("b-button",{class:["failed"===e.filter.status?"active":"border-btn-group"],attrs:{to:{query:e.queryGenerator({status:"failed",page:1})},"active-class":"router-link-active",variant:"outline-danger",title:"Failed"},on:{click:function(e){return e.target.blur()}}},[i("font-awesome-icon",{staticClass:"d-md-none",attrs:{icon:"heart-broken"}}),e._v(" "),i("span",{staticClass:"d-none d-md-inline"},[e._v("\n      Failed\n    ")])],1),e._v(" "),i("b-button",{class:["running"===e.filter.status?"active":"border-btn-group"],attrs:{to:{query:e.queryGenerator({status:"running",page:1})},"active-class":"router-link-active",variant:"outline-warning",title:"Running"},on:{click:function(e){return e.target.blur()}}},[i("font-awesome-icon",{staticClass:"d-md-none",attrs:{icon:"running"}}),e._v(" "),i("span",{staticClass:"d-none d-md-inline"},[e._v("\n      Running\n    ")])],1),e._v(" "),i("b-button",{class:["canceled"===e.filter.status?"active":"border-btn-group"],attrs:{to:{query:e.queryGenerator({status:"canceled",page:1})},"active-class":"router-link-active",variant:"outline-secondary",title:"Canceled"},on:{click:function(e){return e.target.blur()}}},[i("font-awesome-icon",{staticClass:"d-md-none",attrs:{icon:"ban"}}),e._v(" "),i("span",{staticClass:"d-none d-md-inline"},[e._v("\n      Canceled\n    ")])],1)],1)};r._withStripped=!0;var s=i(5969),n=i(5193),a=i(7754),o=i(648),l=i(8947),c=i(1436),u=i(7810);l.vI.add(c.f8k,c.FFp,c.Bxq,c.m6i,c.FTC,c.gPx);var p={components:{BButtonGroup:s.a,BButton:n.T,BInputGroupPrepend:a.P,FontAwesomeIcon:u.GN},mixins:[o.Z],props:{filter:{type:Object,default:null}}},d=(0,i(1900).Z)(p,r,[],!1,null,null,null);d.options.__file="src/components/StatusFilter.vue";var f=d.exports},9271:function(e,t,i){"use strict";i.d(t,{Z:function(){return u}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row-header"},e._l(e.fields,(function(t){return i("div",{key:t.name,class:t.class},[t.isSortable?i("router-link",{staticClass:"clickable",attrs:{to:{query:e.queryGenerator(t.sortingQueryParams)},"active-class":"router-link-active",tag:"span"}},[e._v("\n      "+e._s(t.name)+"\n      "),i("font-awesome-icon",{attrs:{icon:"sort"}})],1):i("span",[e._v("\n      "+e._s(t.name)+"\n    ")])],1)})),0)};r._withStripped=!0;var s=i(648),n=i(8947),a=i(1436),o=i(7810);n.vI.add(a.CmM);var l={components:{FontAwesomeIcon:o.GN},mixins:[s.Z],props:{fields:{type:Array,default:function(){return[]}}}},c=(0,i(1900).Z)(l,r,[],!1,null,null,null);c.options.__file="src/components/TransitionGroupHeader.vue";var u=c.exports},9325:function(e,t,i){"use strict";i.d(t,{Z:function(){return u}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.events&&e.events.length>0?i("div",e._l(e.events,(function(t,r){return i("div",{key:r},[t.pipeline?i("div",{attrs:{title:t.pipeline.repoSource+" / "+t.pipeline.repoOwner+" / "+t.pipeline.repoName}},[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"tools"}}),e._v(" "),i("router-link",{staticClass:"text-body",attrs:{to:{name:"PipelineOverview",params:{repoSource:t.pipeline.repoSource,repoOwner:t.pipeline.repoOwner,repoName:t.pipeline.repoName}}}},[e._v("\n        "+e._s(t.pipeline.repoSource)+"/"+e._s(t.pipeline.repoOwner)+"/"+e._s(t.pipeline.repoName)+"\n      ")])],1):e._e(),e._v(" "),t.release?i("div",{attrs:{title:t.release.repoSource+" / "+t.release.repoOwner+" / "+t.release.repoName}},[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"upload"}}),e._v(" "),i("router-link",{staticClass:"text-body",attrs:{to:{name:"PipelineReleases",params:{repoSource:t.release.repoSource,repoOwner:t.release.repoOwner,repoName:t.release.repoName}}}},[e._v("\n        "+e._s(t.release.repoSource)+"/"+e._s(t.release.repoOwner)+"/"+e._s(t.release.repoName)+"\n      ")])],1):e._e(),e._v(" "),t.git?i("div",{attrs:{title:t.git.repository}},[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"code-branch"}}),e._v(" "),i("a",{staticClass:"text-body",attrs:{href:"https://"+t.git.repository,target:"_blank"},on:{click:function(e){e.stopPropagation()}}},[e._v("\n        "+e._s(t.git.repository)+"\n      ")])],1):e._e(),e._v(" "),t.github?i("div",{attrs:{title:t.github.repository}},[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:["fab","github"]}}),e._v(" "),e._v("\n      "+e._s(t.github.event)+"\n    ")],1):e._e(),e._v(" "),t.bitbucket?i("div",{attrs:{title:t.bitbucket.repository}},[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:["fab","bitbucket"]}}),e._v(" "),e._v("\n      "+e._s(t.bitbucket.event)+"\n    ")],1):e._e(),e._v(" "),t.pubsub?i("div",{attrs:{title:"projects/"+t.pubsub.project+"/topics/"+t.pubsub.topic}},[i("h6",[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"bezier-curve"}}),e._v("\n        projects/"+e._s(t.pubsub.project)+"/topics/"+e._s(t.pubsub.topic)+"\n      ")],1)]):e._e(),e._v(" "),t.docker?i("div"):e._e(),e._v(" "),t.cron?i("div",{attrs:{title:t.cron.time}},[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"clock"}}),e._v("\n      "+e._s(t.cron.time)+"\n    ")],1):e._e(),e._v(" "),t.manual?i("div",{attrs:{title:t.manual.userID}},[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"user-circle"}}),e._v("\n      "+e._s(t.manual.userID)+"\n    ")],1):e._e()])})),0):e._e()};r._withStripped=!0;var s=i(8947),n=i(1436),a=i(1417),o=i(7810);s.vI.add(n.CgH,n.cf$,n.m08,n.SZw,n.mh3,n.izv,a.zhw,a.KOC);var l={components:{FontAwesomeIcon:o.GN},props:{events:{type:Array,default:null}}},c=(0,i(1900).Z)(l,r,[],!1,null,null,null);c.options.__file="src/components/TriggeredBy.vue";var u=c.exports},923:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-alert",{staticClass:"d-flex flex-row h-100",attrs:{variant:e.$options.filters.bootstrapVariant(this.warning.status),show:""}},[i("mark-down",[e._v(e._s(e.warning.message))])],1)};r._withStripped=!0;var s={components:{BAlert:i(3106).F,MarkDown:function(){return Promise.all([i.e(84),i.e(41)]).then(i.bind(i,300))}},props:{warning:{type:Object,default:null}}},n=(0,i(1900).Z)(s,r,[],!1,null,null,null);n.options.__file="src/components/Warning.vue";var a=n.exports},2791:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b-form",{staticClass:"rounded border bg-white p-3",attrs:{autocomplete:"off"},on:{submit:e.onSubmit}},[i("b-form-group",{attrs:{description:"Required for use as a Kubernetes secret."}},[i("b-form-checkbox",{attrs:{id:"base64"},model:{value:e.form.base64,callback:function(t){e.$set(e.form,"base64",t)},expression:"form.base64"}},[e._v("\n        Base64 encode\n      ")])],1),e._v(" "),e.showDoubleEncrypt?i("b-form-group",{attrs:{description:"To encrypt the secret envelope a second time for injecting it into Estafette's configmap."}},[i("b-form-checkbox",{attrs:{id:"double"},model:{value:e.form.double,callback:function(t){e.$set(e.form,"double",t)},expression:"form.double"}},[e._v("\n        Double encrypt\n      ")])],1):e._e(),e._v(" "),i("b-form-group",{attrs:{label:"Pipeline restriction regex","label-for":"pipelineAllowList",description:"The pipeline to restrict decryption of the secret for."}},[i("b-form-input",{attrs:{id:"pipelineAllowList",readonly:e.pipelineAllowListReadonly,type:"text"},model:{value:e.form.pipelineAllowList,callback:function(t){e.$set(e.form,"pipelineAllowList",t)},expression:"form.pipelineAllowList"}})],1),e._v(" "),i("b-form-group",{attrs:{label:"Value to encrypt","label-for":"value",description:"The encrypted secret works only for this Estafette CI installation. Try to avoid newlines, this can cause errors during pipeline execution."}},[i("b-form-textarea",{staticClass:"border bg-light",attrs:{id:"value",placeholder:"Paste your value to be encrypted",rows:5},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1),e._v(" "),i("b-button",{staticClass:"mt-3",attrs:{type:"submit",variant:"primary"}},[e._v("\n      Encrypt\n    ")])],1),e._v(" "),e.encrypting?i("div",[i("spinner",{attrs:{color:"secondary"}})],1):e._e(),e._v(" "),e.secret?i("div",{staticClass:"mt-4"},[i("h5",[e._v("Use this in your manifest to hide secrets in plain sight!")]),e._v(" "),i("div",{staticClass:"pre-wrapper"},[i("pre",{staticClass:"bg-light p-3"},[i("code",[e._v(e._s(e.secret))])]),e._v(" "),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.click",modifiers:{click:!0}}],staticClass:"btn-clipboard",attrs:{title:"Copied!"},on:{click:e.copy}},[e._v("\n        Copy\n      ")])],1)]):e._e()],1)};r._withStripped=!0;var s=i(7817),n=i(4909),a=i(4951),o=i(2183),l=i(5302),c=i(4058),u=i(5193),p=i(8365),d={components:{spinner:s.Z,BForm:n.e,BFormCheckbox:a.l,BFormInput:o.e,BFormTextarea:l.y,BFormGroup:c.x,BButton:u.T},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null},pipeline:{type:Object,default:null}},directives:{BTooltip:p.T},data:function(){return{form:{base64:!1,double:!1,pipelineAllowList:null!==this.repoSource&&null!==this.repoOwner&&null!==this.repoName?"".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName):".*",value:null},pipelineAllowListReadonly:"AdminSecretEncrypter"!==this.$route.name,showDoubleEncrypt:"AdminSecretEncrypter"===this.$route.name,encrypting:!1,secret:null}},methods:{onSubmit:function(e){var t=this;e.preventDefault(),this.encrypting=!0,this.axios.post("/api/manifest/encrypt",this.form).then((function(e){t.encrypting=!1,t.secret=e.data.secret,window.scrollTo(0,document.body.scrollHeight)})).catch((function(e){t.encrypting=!1,console.warn(e)}))},copy:function(){var e=document.createElement("textarea");e.value=this.secret,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}},f=(0,i(1900).Z)(d,r,[],!1,null,"d71aa6a4",null);f.options.__file="src/views/AdminSecrets.vue";var h=f.exports},651:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return g}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"row m-0"},[i("div",{staticClass:"col-12 col-xxl-8"},[i("status-filter",{attrs:{filter:e.filter}})],1),e._v(" "),i("div",{staticClass:"col-12 col-lg-6 col-xxl-2"}),e._v(" "),i("div",{staticClass:"col-12 col-lg-6 col-xxl-2 text-right"},[i("since-selector",{attrs:{model:e.filter.since,"on-change":e.setSince}})],1)]),e._v(" "),i("div",{staticClass:"row m-0"},[i("div",{staticClass:"col-12 col-lg-9"}),e._v(" "),i("div",{staticClass:"d-none d-lg-block col-12 col-lg-3 text-right"},[i("pagination-compact",{staticClass:"float-right",attrs:{pagination:e.pagination,"link-generator":e.paginationLinkGenerator}})],1)]),e._v(" "),i("transition-group-header",{staticClass:"ml-3 mr-3",attrs:{fields:e.fields}}),e._v(" "),e.bots.length>0?i("transition-group",{staticClass:"ml-3 mr-3",attrs:{name:"list-complete",tag:"div"}},e._l(e.bots,(function(e){return i("bot-row",{key:e.id,attrs:{bot:e,"all-bots-mode":!0}})})),1):e.loaded?i("div",{staticClass:"alert alert-warning text-center p-5"},[e._v("\n    There are no bots for the current filters. Please change your filters!\n  ")]):i("div",[i("spinner",{attrs:{color:"primary"}})],1),e._v(" "),e.bots.length>0?i("pagination",{attrs:{pagination:e.pagination,"link-generator":e.paginationLinkGenerator}}):e._e()],1)};r._withStripped=!0;var s=i(629),n=i(7817),a=i(9090),o=i(1826),l=i(3897),c=i(275),u=i(2352),p=i(9271);function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function f(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){h(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var m={components:{Spinner:n.Z,Pagination:a.Z,StatusFilter:o.Z,SinceSelector:l.Z,BotRow:c.Z,PaginationCompact:u.Z,TransitionGroupHeader:p.Z},props:{query:{type:Object,default:null}},data:function(){return{bots:[],pagination:{page:1,size:10,totalPages:0,totalItems:0},filter:{status:"all",target:"",since:"1d"},sort:"-updated_at",fields:[{name:"Pipeline",class:"col-2",isSortable:!0,sortingQueryParams:{sort:"repo_source,repo_owner,repo_name"}},{name:"Bot",class:"col-2"},{name:"Status",class:"col-2"},{name:"Executed",class:"col-2",isSortable:!0,sortingQueryParams:{sort:"-updated_at"}},{name:"Triggered by",class:"col-4"}],loaded:!1,refresh:!0}},created:function(){this.filterDefaults=f({},this.filter),this.sortDefaults=this.sort,this.setDataFromQueryParams(this.query),this.$router.replace({query:this.getQueryParams()}).catch((function(){})),this.loadBots()},methods:{paginationLinkGenerator:function(e){var t=this.getQueryParams();return e>0?t.page=e:t.page&&delete t.page,{query:t}},getQueryParams:function(){var e=f({},this.$route.query);return this.filter&&this.filter.status&&""!==this.filter.status?e.status=this.filter.status:e.status&&delete e.status,this.filter&&this.filter.target&&""!==this.filter.target?e.target=this.filter.target:e.target&&delete e.target,this.filter&&this.filter.since&&""!==this.filter.since?e.since=this.filter.since:e.since&&delete e.since,this.pagination&&this.pagination.page&&this.pagination.page>0?e.page=this.pagination.page:e.page&&delete e.page,this.sort?e.sort=this.sort:e.sort&&delete e.sort,e},setDataFromQueryParams:function(e){this.pagination.page=e&&e.page?Number.parseInt(e.page,10):1,this.filter.status=e&&e.status?e.status:this.filterDefaults.status,this.filter.target=e&&e.target?e.target:this.filterDefaults.target,this.filter.since=e&&e.since?e.since:this.filterDefaults.since,this.sort=e&&e.sort?e.sort:this.sortDefaults},updateQueryParams:function(){this.$router.push({query:this.getQueryParams()})},loadBots:function(){var e=this,t="filter[status]=".concat(this.filter.status);"running"===this.filter.status&&(t+="&filter[status]=pending&filter[status]=canceling"),this.axios.get("/api/bots?".concat(t,"&filter[target]=").concat(this.filter.target,"&filter[since]=").concat(this.filter.since,"&page[number]=").concat(this.pagination.page,"&page[size]=").concat(this.pagination.size,"&sort=").concat(this.sort)).then((function(t){e.bots=t.data.items,e.pagination=t.data.pagination,e.loaded=!0,e.periodicallyRefreshBot(15)})).catch((function(t){e.periodicallyRefreshBot(15)}))},periodicallyRefreshBot:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadBots,r))},setTarget:function(e){this.filter.target=e,this.pagination.page=1,this.updateQueryParams()},setSince:function(e){this.filter.since=e,this.pagination.page=1,this.updateQueryParams()}},computed:f({},(0,s.rn)("user",{user:"me"})),watch:{$route:function(e,t){this.setDataFromQueryParams(e.query),this.loadBots()},pipeline:{handler:function(e,t){this.loadBots()},deep:!0}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},b=(0,i(1900).Z)(m,r,[],!1,null,"18d19903",null);b.options.__file="src/views/AllBots.vue";var g=b.exports},9236:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return y}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"row m-0"},[i("div",{staticClass:"col-12 col-xxl-8"},[i("status-filter",{attrs:{filter:e.filter}})],1),e._v(" "),i("div",{staticClass:"col-12 col-lg-6 col-xxl-2"},[i("frequent-labels",{attrs:{filter:e.filter}})],1),e._v(" "),i("div",{staticClass:"col-12 col-lg-6 col-xxl-2 text-right"},[i("since-selector",{attrs:{model:e.filter.since,"on-change":e.setSince}})],1)]),e._v(" "),i("div",{staticClass:"row m-0"},[i("div",{staticClass:"col-12 col-lg-9"},[i("label-filter",{attrs:{filter:e.filter}})],1),e._v(" "),i("div",{staticClass:"d-none d-lg-block col-12 col-lg-3 text-right"},[i("pagination-compact",{staticClass:"float-right",attrs:{pagination:e.pagination,"link-generator":e.paginationLinkGenerator}})],1)]),e._v(" "),i("transition-group-header",{staticClass:"ml-3 mr-3",attrs:{fields:e.fields}}),e._v(" "),e.builds.length>0?i("transition-group",{staticClass:"ml-3 mr-3",attrs:{name:"list-complete",tag:"div"}},e._l(e.builds,(function(t){return i("build-row",{key:t.id,attrs:{build:t,builds:e.builds,"all-builds-mode":!0}})})),1):e.loaded?i("div",{staticClass:"alert alert-warning text-center p-5"},[e._v("\n    There are no builds for the current filters. Please change your filters!\n  ")]):i("div",[i("spinner",{attrs:{color:"primary"}})],1),e._v(" "),e.builds.length>0?i("pagination",{attrs:{pagination:e.pagination,"link-generator":e.paginationLinkGenerator}}):e._e()],1)};r._withStripped=!0;var s=i(629),n=i(7817),a=i(1826),o=i(3897),l=i(7651),c=i(6388),u=i(2352),p=i(3175),d=i(9090),f=i(9271);function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function m(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){b(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function b(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var g={components:{Spinner:n.Z,StatusFilter:a.Z,SinceSelector:o.Z,LabelFilter:l.Z,FrequentLabels:c.Z,PaginationCompact:u.Z,BuildRow:p.Z,Pagination:d.Z,TransitionGroupHeader:f.Z},props:{query:{type:Object,default:null}},data:function(){return{builds:[],pagination:{page:1,size:10,totalPages:0,totalItems:0},filter:{status:"all",since:"1d",labels:""},sort:"-updated_at",fields:[{name:"Pipeline",class:"col-3",isSortable:!0,sortingQueryParams:{sort:"repo_source,repo_owner,repo_name"}},{name:"Version",class:"col-2"},{name:"Status",class:"col-1"},{name:"Built",class:"col-2",isSortable:!0,sortingQueryParams:{sort:"-updated_at"}},{name:"Branch",class:"col-1"},{name:"Revision",class:"col-1"},{name:"Commit(s)",class:"col-2"}],loaded:!1,refresh:!0}},created:function(){this.filterDefaults=m({},this.filter),this.sortDefaults=this.sort,this.setDataFromQueryParams(this.query),this.$router.replace({query:this.getQueryParams()}).catch((function(){})),this.loadBuilds()},methods:{paginationLinkGenerator:function(e){var t=this.getQueryParams();return e>0?t.page=e:t.page&&delete t.page,{query:t}},getQueryParams:function(){var e=m({},this.$route.query);return this.filter&&this.filter.status&&""!==this.filter.status?e.status=this.filter.status:e.status&&delete e.status,this.filter&&this.filter.since&&""!==this.filter.since?e.since=this.filter.since:e.since&&delete e.since,this.filter&&this.filter.labels&&""!==this.filter.labels?e.labels=this.filter.labels:e.labels&&delete e.labels,this.pagination&&this.pagination.page&&this.pagination.page>0?e.page=this.pagination.page:e.page&&delete e.page,this.sort?e.sort=this.sort:e.sort&&delete e.sort,e},setDataFromQueryParams:function(e){this.pagination.page=e&&e.page?Number.parseInt(e.page,10):1,this.filter.status=e&&e.status?e.status:this.filterDefaults.status,this.filter.since=e&&e.since?e.since:this.filterDefaults.since,this.filter.labels=e&&e.labels?e.labels:this.filterDefaults.labels,this.sort=e&&e.sort?e.sort:this.sortDefaults},updateQueryParams:function(){this.$router.push({query:this.getQueryParams()})},loadBuilds:function(){var e=this,t="filter[status]=".concat(this.filter.status);"running"===this.filter.status&&(t+="&filter[status]=pending&filter[status]=canceling");var i="";this.filter&&this.filter.labels&&this.filter.labels.length>0&&(i=this.filter.labels.split(",").join("&filter[labels]=")),this.axios.get("/api/builds?".concat(t,"&filter[since]=").concat(this.filter.since,"&filter[labels]=").concat(i,"&page[number]=").concat(this.pagination.page,"&page[size]=").concat(this.pagination.size,"&sort=").concat(this.sort)).then((function(t){e.builds=t.data.items,e.pagination=t.data.pagination,e.loaded=!0,e.periodicallyRefreshBuilds(15)})).catch((function(t){e.periodicallyRefreshBuilds(15)}))},periodicallyRefreshBuilds:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadBuilds,r))},setSince:function(e){this.filter.since=e,this.pagination.page=1,this.updateQueryParams()}},computed:m({},(0,s.rn)("user",{user:"me"})),watch:{$route:function(e,t){this.setDataFromQueryParams(e.query),this.loadBuilds()},pipeline:{handler:function(e,t){this.loadBuilds()},deep:!0}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},v=(0,i(1900).Z)(g,r,[],!1,null,null,null);v.options.__file="src/views/AllBuilds.vue";var y=v.exports},4137:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return Z}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"row m-0"},[i("div",{staticClass:"col-12 col-lg-6 col-xxl-4"},[i("status-filter",{attrs:{filter:e.filter}})],1),e._v(" "),i("div",{staticClass:"col-12 col-lg-6 col-xxl-2"},[i("pipeline-filter",{attrs:{model:e.filter.search,"on-input":e.setSearch}})],1),e._v(" "),i("div",{staticClass:"col-12 col-lg-6 col-xxl-2"},[i("release-target-filter",{attrs:{mode:"pipelines",filter:e.filter,model:e.filter.target,"on-change":e.setTarget}})],1),e._v(" "),i("div",{staticClass:"col-12 col-lg-6 col-xxl-2"},[i("frequent-labels",{attrs:{filter:e.filter}})],1),e._v(" "),i("div",{staticClass:"col-12 col-lg-6 col-xxl-2 text-right"},[i("since-selector",{attrs:{model:e.filter.since,"on-change":e.setSince}})],1)]),e._v(" "),i("div",{staticClass:"row m-0"},[i("div",{staticClass:"col-12 col-lg-9"},[i("user-filter",{attrs:{filter:e.filter}}),e._v(" "),i("label-filter",{attrs:{filter:e.filter}})],1),e._v(" "),i("div",{staticClass:"d-none d-lg-block col-12 col-lg-3 text-right"},[i("pagination-compact",{staticClass:"float-right",attrs:{pagination:e.pagination,"link-generator":e.paginationLinkGenerator}})],1)]),e._v(" "),i("transition-group-header",{staticClass:"ml-3 mr-3",attrs:{fields:e.fields}}),e._v(" "),e.pipelines.length>0?i("transition-group",{staticClass:"ml-3 mr-3",attrs:{name:"list-complete",tag:"div"}},e._l(e.pipelines,(function(t){return i("pipeline-row",{key:t.repoSource+"/"+t.repoOwner+"/"+t.repoName,attrs:{pipeline:t,filter:e.filter}})})),1):e.loaded?i("div",{staticClass:"alert alert-warning text-center p-5 m-3"},[e._v("\n    There are no pipelines for the current filters. Please increase the time range or remove some filters!\n  ")]):i("div",[i("spinner",{attrs:{color:"primary"}})],1),e._v(" "),e.pipelines.length>0?i("pagination",{attrs:{pagination:e.pagination,"link-generator":e.paginationLinkGenerator}}):e._e()],1)};r._withStripped=!0;var s=i(629),n=i(3279),a=i.n(n),o=i(648),l=i(7817),c=i(1178),u=i(1826),p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.user&&e.user.active?i("b-button-group",{staticClass:"mb-3 bg-white"},[i("b-input-group-prepend",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{"is-text":"",title:"Filter pipelines you recently committed to or released"}},[i("font-awesome-icon",{attrs:{icon:"user"}})],1),e._v(" "),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],class:["false"===e.filter.recentCommitter&&"false"===e.filter.recentReleaser?"active":"border-btn-group"],attrs:{to:{query:e.queryGenerator({recentCommitter:"false",recentReleaser:"false",page:1})},"active-class":"router-link-active",variant:"light",title:"Everyone's pipelines"},on:{click:function(e){return e.target.blur()}}},[i("font-awesome-icon",{attrs:{icon:"users"}})],1),e._v(" "),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],class:["true"===e.filter.recentCommitter?"active":"border-btn-group"],attrs:{to:{query:e.queryGenerator({recentCommitter:"true",recentReleaser:"false",page:1})},"active-class":"router-link-active",variant:"light",title:"Pipelines you recently committed to"},on:{click:function(e){return e.target.blur()}}},[i("font-awesome-icon",{attrs:{icon:"tools"}})],1),e._v(" "),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],class:["true"===e.filter.recentReleaser?"active":"border-btn-group"],attrs:{to:{query:e.queryGenerator({recentCommitter:"false",recentReleaser:"true",page:1})},"active-class":"router-link-active",variant:"light",title:"Pipelines you recently released"},on:{click:function(e){return e.target.blur()}}},[i("font-awesome-icon",{attrs:{icon:"upload"}})],1)],1):e._e()};p._withStripped=!0;var d=i(5969),f=i(5193),h=i(7754),m=i(8947),b=i(1436),g=i(7810);function v(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}m.vI.add(b.ILF,b.FVb,b.CgH,b.cf$);var _={components:{BButtonGroup:d.a,BButton:f.T,BInputGroupPrepend:h.P,FontAwesomeIcon:g.GN},mixins:[o.Z],props:{filter:{type:Object,default:null}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(Object(i),!0).forEach((function(t){y(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},(0,s.rn)("user",{user:"me"}))},w=i(1900),x=(0,w.Z)(_,p,[],!1,null,null,null);x.options.__file="src/components/UserFilter.vue";var S=x.exports,O=i(7651),C=i(6388),P=i(5773),T=i(8625),j=i(3897),D=i(2352),k=i(9090),B=i(9271);function N(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function R(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?N(Object(i),!0).forEach((function(t){E(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):N(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function E(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var L={components:{Spinner:l.Z,PipelineRow:c.Z,StatusFilter:u.Z,UserFilter:S,LabelFilter:O.Z,FrequentLabels:C.Z,PipelineFilter:P.Z,ReleaseTargetFilter:T.Z,SinceSelector:j.Z,PaginationCompact:D.Z,Pagination:k.Z,TransitionGroupHeader:B.Z},mixins:[o.Z],props:{query:{type:Object,default:null}},data:function(){return{pipelines:[],pagination:{page:1,size:12,totalPages:0,totalItems:0},filter:{status:"all",target:"",since:"1d",labels:"",search:"",recentCommitter:"false",recentReleaser:"false"},sort:"repo_source,repo_owner,repo_name",fields:[{name:"Pipeline",class:"col-3",isSortable:!0,sortingQueryParams:{sort:"repo_source,repo_owner,repo_name"}},{name:"Version",class:"col-1"},{name:"Status",class:"col-1"},{name:"Built",class:"col-2",isSortable:!0,sortingQueryParams:{sort:"-last_updated_at"}},{name:"Branch",class:"col-1"},{name:"Revision",class:"col-1"},{name:"Commit(s)",class:"col-3"}],loaded:!1,refresh:!0}},created:function(){this.filterDefaults=R({},this.filter),this.sortDefaults=this.sort,this.setDataFromQueryParams(this.query),this.$router.replace({query:this.getQueryParams()}).catch((function(){})),this.loadPipelines()},methods:{paginationLinkGenerator:function(e){var t=this.getQueryParams();return e>0?t.page=e:t.page&&delete t.page,{query:t}},getQueryParams:function(){var e=R({},this.$route.query);return this.filter&&this.filter.status&&""!==this.filter.status?e.status=this.filter.status:e.status&&delete e.status,this.filter&&this.filter.target&&""!==this.filter.target?e.target=this.filter.target:e.target&&delete e.target,this.filter&&this.filter.since&&""!==this.filter.since?e.since=this.filter.since:e.since&&delete e.since,this.filter&&this.filter.search&&""!==this.filter.search?e.search=this.filter.search:e.search&&delete e.search,this.filter&&this.filter.labels&&""!==this.filter.labels?e.labels=this.filter.labels:e.labels&&delete e.labels,this.filter&&this.filter.recentCommitter&&""!==this.filter.recentCommitter?e.recentCommitter=this.filter.recentCommitter:e.recentCommitter&&delete e.recentCommitter,this.filter&&this.filter.recentReleaser&&""!==this.filter.recentReleaser?e.recentReleaser=this.filter.recentReleaser:e.recentReleaser&&delete e.recentReleaser,this.pagination&&this.pagination.page&&this.pagination.page>0?e.page=this.pagination.page:e.page&&delete e.page,this.sort?e.sort=this.sort:e.sort&&delete e.sort,e},setDataFromQueryParams:function(e){this.pagination.page=e&&e.page?Number.parseInt(e.page,10):1,this.filter.status=e&&e.status?e.status:this.filterDefaults.status,this.filter.target=e&&e.target?e.target:this.filterDefaults.target,this.filter.since=e&&e.since?e.since:this.filterDefaults.since,this.filter.labels=e&&e.labels?e.labels:this.filterDefaults.labels,this.filter.search=e&&e.search?e.search:this.filterDefaults.search,this.filter.recentCommitter=e&&e.recentCommitter?e.recentCommitter:this.filterDefaults.recentCommitter,this.filter.recentReleaser=e&&e.recentReleaser?e.recentReleaser:this.filterDefaults.recentReleaser,this.sort=e&&e.sort?e.sort:this.sortDefaults},updateQueryParams:function(){this.$router.push({query:this.getQueryParams()})},loadPipelines:function(){var e=this,t="";this.filter&&this.filter.labels&&this.filter.labels.length>0&&(t=this.filter.labels.split(",").join("&filter[labels]="));var i="filter[status]=".concat(this.filter.status);"running"===this.filter.status&&(i+="&filter[status]=pending&filter[status]=canceling");var r="&sort=".concat(this.sort),s="";this.user&&this.user.active&&this.filter&&"true"===this.filter.recentCommitter&&(s="&filter[recent-committer]=".concat(this.user.email),r="&sort=-last_updated_at,repo_source,repo_owner,repo_name");var n="";this.user&&this.user.active&&this.filter&&"true"===this.filter.recentReleaser&&(n="&filter[recent-releaser]=".concat(this.user.email),r="&sort=-last_updated_at,repo_source,repo_owner,repo_name"),this.axios.get("/api/pipelines?".concat(i).concat(s).concat(n,"&filter[since]=").concat(this.filter.since,"&filter[target]=").concat(this.filter.target,"&filter[search]=").concat(this.filter.search,"&filter[labels]=").concat(t,"&page[number]=").concat(this.pagination.page,"&page[size]=").concat(this.pagination.size).concat(r)).then((function(t){e.pipelines=t.data.items,e.pagination=t.data.pagination,e.loaded=!0,e.periodicallyRefreshPipelines(5)})).catch((function(t){e.periodicallyRefreshPipelines(30)}))},periodicallyRefreshPipelines:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadPipelines,r))},setTarget:function(e){this.filter.target=e,this.pagination.page=1,this.updateQueryParams()},setSince:function(e){this.filter.since=e,this.pagination.page=1,this.updateQueryParams()},setSearch:a()((function(e){this.filter.search=e,this.pagination.page=1,this.updateQueryParams()}),500)},computed:R({},(0,s.rn)("user",{user:"me"})),watch:{$route:function(e,t){this.setDataFromQueryParams(e.query),this.loadPipelines()}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},I=(0,w.Z)(L,r,[],!1,null,null,null);I.options.__file="src/views/AllPipelines.vue";var Z=I.exports},5246:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return v}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"row m-0"},[i("div",{staticClass:"col-12 col-xxl-8"},[i("status-filter",{attrs:{filter:e.filter}})],1),e._v(" "),i("div",{staticClass:"col-12 col-lg-6 col-xxl-2"},[i("release-target-filter",{attrs:{mode:"releases",filter:e.filter,model:e.filter.target,"on-change":e.setTarget}})],1),e._v(" "),i("div",{staticClass:"col-12 col-lg-6 col-xxl-2 text-right"},[i("since-selector",{attrs:{model:e.filter.since,"on-change":e.setSince}})],1)]),e._v(" "),i("div",{staticClass:"row m-0"},[i("div",{staticClass:"col-12 col-lg-9"}),e._v(" "),i("div",{staticClass:"d-none d-lg-block col-12 col-lg-3 text-right"},[i("pagination-compact",{staticClass:"float-right",attrs:{pagination:e.pagination,"link-generator":e.paginationLinkGenerator}})],1)]),e._v(" "),i("transition-group-header",{staticClass:"ml-3 mr-3",attrs:{fields:e.fields}}),e._v(" "),e.releases.length>0?i("transition-group",{staticClass:"ml-3 mr-3",attrs:{name:"list-complete",tag:"div"}},e._l(e.releases,(function(e){return i("release-row",{key:e.id,attrs:{release:e,"all-releases-mode":!0}})})),1):e.loaded?i("div",{staticClass:"alert alert-warning text-center p-5"},[e._v("\n    There are no releases for the current filters. Please change your filters!\n  ")]):i("div",[i("spinner",{attrs:{color:"primary"}})],1),e._v(" "),e.releases.length>0?i("pagination",{attrs:{pagination:e.pagination,"link-generator":e.paginationLinkGenerator}}):e._e()],1)};r._withStripped=!0;var s=i(629),n=i(7817),a=i(9090),o=i(1826),l=i(3897),c=i(8625),u=i(9818),p=i(2352),d=i(9271);function f(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?f(Object(i),!0).forEach((function(t){m(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var b={components:{Spinner:n.Z,Pagination:a.Z,StatusFilter:o.Z,SinceSelector:l.Z,ReleaseTargetFilter:c.Z,ReleaseRow:u.Z,PaginationCompact:p.Z,TransitionGroupHeader:d.Z},props:{query:{type:Object,default:null}},data:function(){return{releases:[],pagination:{page:1,size:10,totalPages:0,totalItems:0},filter:{status:"all",target:"",since:"1d"},sort:"-updated_at",fields:[{name:"Pipeline",class:"col-2",isSortable:!0,sortingQueryParams:{sort:"repo_source,repo_owner,repo_name"}},{name:"Target",class:"col-2"},{name:"Version",class:"col-2"},{name:"Status",class:"col-2"},{name:"Released",class:"col-2",isSortable:!0,sortingQueryParams:{sort:"-updated_at"}},{name:"Triggered by",class:"col-2"}],loaded:!1,refresh:!0}},created:function(){this.filterDefaults=h({},this.filter),this.sortDefaults=this.sort,this.setDataFromQueryParams(this.query),this.$router.replace({query:this.getQueryParams()}).catch((function(){})),this.loadReleases()},methods:{paginationLinkGenerator:function(e){var t=this.getQueryParams();return e>0?t.page=e:t.page&&delete t.page,{query:t}},getQueryParams:function(){var e=h({},this.$route.query);return this.filter&&this.filter.status&&""!==this.filter.status?e.status=this.filter.status:e.status&&delete e.status,this.filter&&this.filter.target&&""!==this.filter.target?e.target=this.filter.target:e.target&&delete e.target,this.filter&&this.filter.since&&""!==this.filter.since?e.since=this.filter.since:e.since&&delete e.since,this.pagination&&this.pagination.page&&this.pagination.page>0?e.page=this.pagination.page:e.page&&delete e.page,this.sort?e.sort=this.sort:e.sort&&delete e.sort,e},setDataFromQueryParams:function(e){this.pagination.page=e&&e.page?Number.parseInt(e.page,10):1,this.filter.status=e&&e.status?e.status:this.filterDefaults.status,this.filter.target=e&&e.target?e.target:this.filterDefaults.target,this.filter.since=e&&e.since?e.since:this.filterDefaults.since,this.sort=e&&e.sort?e.sort:this.sortDefaults},updateQueryParams:function(){this.$router.push({query:this.getQueryParams()})},loadReleases:function(){var e=this,t="filter[status]=".concat(this.filter.status);"running"===this.filter.status&&(t+="&filter[status]=pending&filter[status]=canceling"),this.axios.get("/api/releases?".concat(t,"&filter[target]=").concat(this.filter.target,"&filter[since]=").concat(this.filter.since,"&page[number]=").concat(this.pagination.page,"&page[size]=").concat(this.pagination.size,"&sort=").concat(this.sort)).then((function(t){e.releases=t.data.items,e.pagination=t.data.pagination,e.loaded=!0,e.periodicallyRefreshRelease(15)})).catch((function(t){e.periodicallyRefreshRelease(15)}))},periodicallyRefreshRelease:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadReleases,r))},setTarget:function(e){this.filter.target=e,this.pagination.page=1,this.updateQueryParams()},setSince:function(e){this.filter.since=e,this.pagination.page=1,this.updateQueryParams()}},computed:h({},(0,s.rn)("user",{user:"me"})),watch:{$route:function(e,t){this.setDataFromQueryParams(e.query),this.loadReleases()},pipeline:{handler:function(e,t){this.loadReleases()},deep:!0}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},g=(0,i(1900).Z)(b,r,[],!1,null,"cd3e617a",null);g.options.__file="src/views/AllReleases.vue";var v=g.exports},1243:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return D}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("section-header",{attrs:{"section-route-name":"Pipelines"}}),e._v(" "),i("b-breadcrumb",{staticClass:"m-3 rounded",attrs:{items:e.breadcrumbs}}),e._v(" "),e.bot?i("bot-header",{attrs:{bot:e.bot,pipeline:!e.pipeline||"pending"!==e.bot.botStatus&&"running"!==e.bot.botStatus?e.bot:e.pipeline}}):e._e(),e._v(" "),i("inner-navigation-tabs",{attrs:{"section-route-name":"Pipelines"}}),e._v(" "),e.bot?i("router-view",{staticClass:"m-3",attrs:{bot:e.bot}}):e._e()],1)};r._withStripped=!0;var s=i(629),n=i(6578),a=i(7777),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"header-block"},[i("property-block",{attrs:{label:"Bot",variant:"success",title:""}},[i("repository-title",{attrs:{repo:e.bot}})],1),e._v(" "),i("property-block",{attrs:{label:"Bot",value:e.bot.name}},[e._v("\n    "+e._s(e.bot.name)+"\n  ")]),e._v(" "),i("property-block",{attrs:{label:"Status"}},[i("b-progress",[i("b-progress-bar",{attrs:{value:e.$options.filters.botProgressBarValue(e.pipeline,e.bot,e.now),label:e.$options.filters.botProgressBarLabel(e.pipeline,e.bot,e.now),variant:e.$options.filters.bootstrapVariant(e.bot.botStatus),animated:e.$options.filters.animatedProgressBar(e.bot.botStatus)}})],1)],1),e._v(" "),i("property-block",{attrs:{label:"Executed"}},[e._v("\n    "+e._s(e._f("formatDatetime")(e.bot.insertedAt))+"\n    "),i("duration-label",{attrs:{duration:e.bot.duration,"pending-duration":e.bot.pendingDuration}})],1),e._v(" "),i("property-block",{attrs:{label:"Triggered by"}},[i("triggered-by",{attrs:{events:e.bot.triggerEvents}})],1),e._v(" "),e.showActions?i("property-block",{attrs:{label:"Actions"}},[i("cancel-button",{attrs:{bot:e.bot}}),e._v(" "),i("rerun-button",{attrs:{bot:e.bot}})],1):e._e()],1)};o._withStripped=!0;var l=i(5752),c=i(2981),u=i(8418),p=i(6415),d=i(9325),f=i(5322),h=i(8714),m=i(6342),b=i(3900);function g(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function v(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?g(Object(i),!0).forEach((function(t){y(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var _={components:{BProgress:l.D,BProgressBar:c.Q,CancelButton:u.Z,RerunButton:p.Z,TriggeredBy:d.Z,PropertyBlock:f.Z,RepositoryTitle:h.Z,DurationLabel:m.Z},props:{bot:{type:Object,default:null},pipeline:{type:Object,default:null}},data:function(){return{now:Date.now()}},created:function(){this.updateNow()},methods:{updateNow:function(){this.now=Date.now(),!this.bot||"pending"!==this.bot.botStatus&&"running"!==this.bot.botStatus||b.Z.timeout(this.timeout,this.updateNow,1)}},beforeDestroy:function(){clearTimeout(this.timeout)},computed:v(v({},(0,s.rn)("user",{user:"me"})),{},{showActions:function(){return this.user&&this.user.active&&this.bot&&("failed"===this.bot.botStatus||"pending"===this.bot.botStatus||"running"===this.bot.botStatus||"canceled"===this.bot.botStatus||"canceling"===this.bot.botStatus)}})},w=i(1900),x=(0,w.Z)(_,o,[],!1,null,null,null);x.options.__file="src/components/BotHeader.vue";var S=x.exports,O=i(9708);function C(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function P(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var T={components:{BBreadcrumb:n.P,SectionHeader:a.Z,BotHeader:S,InnerNavigationTabs:O.Z},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null},botID:{type:String,default:null}},data:function(){return{bot:null,pipeline:null,refresh:!0,breadcrumbs:[{text:"Builds & bots",to:{name:"Pipelines"}},{text:"".concat(this.repoName),to:{name:"PipelineOverview",params:{repoSource:this.repoSource,repoOwner:this.repoOwner,repoName:this.repoName}}},{text:"bots",to:{name:"PipelineBots",params:{repoSource:this.repoSource,repoOwner:this.repoOwner,repoName:this.repoName}}},{text:"..."}]}},created:function(){this.loadBot()},methods:{loadBot:function(){var e=this;this.axios.get("/api/pipelines/".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName,"/bots/").concat(this.botID)).then((function(t){e.bot=t.data,"pending"!==e.bot.botStatus&&"running"!==e.bot.botStatus||e.loadPipeline(),e.breadcrumbs[e.breadcrumbs.length-1]={text:"".concat(e.bot.name),to:{name:"PipelineBotLogs",params:{repoSource:e.repoSource,repoOwner:e.repoOwner,repoName:e.repoName,botID:e.botID}},active:!0},"succeeded"!==e.bot.botStatus&&"failed"!==e.bot.botStatus?e.periodicallyRefreshBot(5):e.periodicallyRefreshBot(15)})).catch((function(t){e.periodicallyRefreshBot(30)}))},loadPipeline:function(){var e=this;this.axios.get("/api/pipelines/".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName)).then((function(t){e.pipeline=t.data})).catch((function(e){console.warn(e)}))},periodicallyRefreshBot:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadBot,r))},sortLabels:function(e){return e?e.slice().sort((function(e,t){return e.key>t.key})):e}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?C(Object(i),!0).forEach((function(t){P(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):C(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},(0,s.rn)("user",{user:"me"})),beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},j=(0,w.Z)(T,r,[],!1,null,null,null);j.options.__file="src/views/PipelineBotDetails.vue";var D=j.exports},430:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"col-12 text-center"},[i("log-navigation",{attrs:{"log-url":"/api/pipelines/"+this.repoSource+"/"+this.repoOwner+"/"+this.repoName+"/bots/"+this.botID+"/alllogs",status:this.bot.botStatus,logid:e.logid}})],1),e._v(" "),e.logid?i("log-viewer",{attrs:{"log-url":"/api/pipelines/"+this.repoSource+"/"+this.repoOwner+"/"+this.repoName+"/bots/"+this.botID+"/logsbyid/"+this.logid,status:this.bot.botStatus,"allow-tail":!1}}):"pending"===e.bot.botStatus||"running"===e.bot.botStatus||"canceling"===e.bot.botStatus?i("log-viewer",{attrs:{"log-url":"/api/pipelines/"+this.repoSource+"/"+this.repoOwner+"/"+this.repoName+"/bots/"+this.botID+"/logs",status:this.bot.botStatus,"allow-tail":!0}}):e._e()],1)};r._withStripped=!0;var s=i(2901),n=i(2146),a={components:{LogNavigation:s.Z,LogViewer:n.Z},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null},botID:{type:String,default:null},logid:{type:String,default:null},bot:{type:Object,default:null}}},o=(0,i(1900).Z)(a,r,[],!1,null,null,null);o.options.__file="src/views/PipelineBotLogs.vue";var l=o.exports},7499:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return P}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"m-3"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-lg-3"},[i("bot-name-filter",{attrs:{filter:e.filter,model:e.filter.bot,"on-change":e.setBot,pipeline:e.pipeline}})],1),e._v(" "),i("div",{staticClass:"col-7 col-lg-6 text-lg-center"},[i("status-filter",{attrs:{filter:e.filter}})],1),e._v(" "),i("div",{staticClass:"col-5 col-lg-3"},[i("pagination-compact",{staticClass:"float-right",attrs:{pagination:e.pagination,"link-generator":e.paginationLinkGenerator}})],1)]),e._v(" "),i("div",{staticClass:"row-header"},[i("div",{staticClass:"col-2"},[e._v("\n      Bot\n    ")]),e._v(" "),i("div",{staticClass:"col-2"},[e._v("\n      Status\n    ")]),e._v(" "),i("div",{staticClass:"col-2"},[e._v("\n      Executed\n    ")]),e._v(" "),i("div",{staticClass:"col-4"},[e._v("\n      Triggered by\n    ")]),e._v(" "),e.user&&e.user.active?i("div",{staticClass:"col-2"},[e._v("\n      Actions\n    ")]):e._e()]),e._v(" "),e.bots.length>0?i("transition-group",{attrs:{name:"list-complete",tag:"div"}},e._l(e.bots,(function(t){return i("bot-row",{key:t.id,attrs:{bot:t,pipeline:e.pipeline}})})),1):e.loaded?i("div",{staticClass:"alert alert-warning text-center p-5"},[e._v("\n    There are no bots for the current filters. Please change your filters!\n  ")]):i("div",[i("spinner",{attrs:{color:"primary"}})],1),e._v(" "),e.bots.length>0?i("pagination",{attrs:{pagination:e.pagination,"link-generator":e.paginationLinkGenerator}}):e._e()],1)};r._withStripped=!0;var s=i(629),n=i(7817),a=i(9090),o=i(1826),l=i(275),c=i(2352),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-input-group",{staticClass:"mb-3"},[i("b-input-group-prepend",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{"is-text":"",title:"Filter bots on their name"}},[i("font-awesome-icon",{attrs:{icon:"robot"}})],1),e._v(" "),i("b-form-select",{attrs:{options:e.botNameOptions},on:{change:e.onChange},model:{value:e.mutableModel,callback:function(t){e.mutableModel=t},expression:"mutableModel"}})],1)};u._withStripped=!0;var p=i(5343),d=i(6127),f=i(7754),h=i(8947),m=i(1436),b=i(7810);h.vI.add(m.VE0);var g={components:{BFormSelect:p.K,BInputGroup:d.w,BInputGroupPrepend:f.P,FontAwesomeIcon:b.GN},props:{pipeline:{type:Object,default:null},filter:{type:Object,default:null},model:{type:String,default:null},onChange:{type:Function,default:null}},data:function(){return{bots:[],pagination:{page:1,size:15},refresh:!0,mutableModel:this.model}},created:function(){this.loadBotNames()},methods:{loadBotNames:function(){var e=this,t="filter[status]=".concat(this.filter.status);"running"===this.filter.status&&(t+="&filter[status]=pending&filter[status]=canceling"),this.axios.get("/api/pipelines/".concat(this.pipeline.repoSource,"/").concat(this.pipeline.repoOwner,"/").concat(this.pipeline.repoName,"/botnames?").concat(t,"&filter[since]=1m&page[number]=").concat(this.pagination.page,"&page[size]=").concat(this.pagination.size)).then((function(t){e.bots=t.data.items,e.periodicallyRefreshBotNames(5)})).catch((function(t){e.periodicallyRefreshBotNames(30)}))},periodicallyRefreshBotNames:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadBotNames,r))}},watch:{filter:{handler:function(e,t){this.loadBotNames()},deep:!0}},computed:{botNameOptions:function(){var e=[{value:"",text:"All bots"}];return this.bots&&this.bots.forEach((function(t){e.push({value:t.name,text:"".concat(t.name," (").concat(t.count,")")})})),e}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},v=i(1900),y=(0,v.Z)(g,u,[],!1,null,null,null);y.options.__file="src/components/BotNameFilter.vue";var _=y.exports;function w(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function x(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?w(Object(i),!0).forEach((function(t){S(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var O={components:{Spinner:n.Z,Pagination:a.Z,StatusFilter:o.Z,BotRow:l.Z,PaginationCompact:c.Z,BotNameFilter:_},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null},query:{type:Object,default:null},pipeline:{type:Object,default:null}},data:function(){return{bots:[],pagination:{page:1,size:10,totalPages:0,totalItems:0},filter:{status:"all",bot:""},loaded:!1,refresh:!0}},created:function(){this.filterDefaults=x({},this.filter),this.setDataFromQueryParams(this.query),this.$router.replace({query:this.getQueryParams()}).catch((function(){})),this.loadBots()},methods:{paginationLinkGenerator:function(e){var t=this.getQueryParams();return e>0?t.page=e:t.page&&delete t.page,{query:t}},getQueryParams:function(){var e=x({},this.$route.query);return this.filter&&this.filter.status&&""!==this.filter.status?e.status=this.filter.status:e.status&&delete e.status,this.filter&&this.filter.bot&&""!==this.filter.bot?e.bot=this.filter.bot:e.bot&&delete e.bot,this.pagination&&this.pagination.page&&this.pagination.page>0?e.page=this.pagination.page:e.page&&delete e.page,e},setDataFromQueryParams:function(e){this.pagination.page=e&&e.page?Number.parseInt(e.page,10):1,this.filter.status=e&&e.status?e.status:this.filterDefaults.status,this.filter.target=e&&e.target?e.target:this.filterDefaults.target},updateQueryParams:function(){this.$router.push({query:this.getQueryParams()})},loadBots:function(){var e=this,t="filter[status]=".concat(this.filter.status);"running"===this.filter.status&&(t+="&filter[status]=pending&filter[status]=canceling");var i="filter[bot]=".concat(this.filter.bot);this.axios.get("/api/pipelines/".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName,"/bots?").concat(t,"&").concat(i,"&page[number]=").concat(this.pagination.page,"&page[size]=").concat(this.pagination.size)).then((function(t){e.bots=t.data.items,e.pagination=t.data.pagination,e.loaded=!0})).catch((function(t){e.periodicallyRefreshBot(15)}))},periodicallyRefreshBot:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadBots,r))},setBot:function(e){this.filter.bot=e,this.updateQueryParams()}},computed:x({},(0,s.rn)("user",{user:"me"})),watch:{$route:function(e,t){this.setDataFromQueryParams(e.query),this.loadBots()},pipeline:{handler:function(e,t){this.loadBots()},deep:!0}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},C=(0,v.Z)(O,r,[],!1,null,"ea0658f0",null);C.options.__file="src/views/PipelineBots.vue";var P=C.exports},7670:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return Z}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("section-header",{attrs:{"section-route-name":"Pipelines"}}),e._v(" "),i("b-breadcrumb",{staticClass:"m-3 rounded",attrs:{items:e.breadcrumbs}}),e._v(" "),e.build?i("build-header",{attrs:{build:e.build,pipeline:!e.pipeline||"pending"!==e.build.buildStatus&&"running"!==e.build.buildStatus?e.build:e.pipeline}}):e._e(),e._v(" "),e.build?i("pipeline-build-warnings",{attrs:{build:e.build}}):e._e(),e._v(" "),i("inner-navigation-tabs",{attrs:{"section-route-name":"Pipelines"}}),e._v(" "),e.build?i("router-view",{staticClass:"m-3",attrs:{build:e.build}}):e._e()],1)};r._withStripped=!0;var s=i(629),n=i(6578),a=i(7777),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"header-block"},[i("property-block",{attrs:{label:"Build",variant:"success",title:""}},[i("repository-title",{attrs:{repo:e.build}})],1),e._v(" "),i("property-block",{attrs:{label:"Version",value:e.build.buildVersion}}),e._v(" "),i("property-block",{attrs:{label:"Status",value:e.build.buildStatus}},[i("b-progress",[i("b-progress-bar",{attrs:{value:e.$options.filters.buildProgressBarValue(e.pipeline,e.build,e.now),label:e.$options.filters.buildProgressBarLabel(e.pipeline,e.build,e.now),variant:e.$options.filters.bootstrapVariant(e.build.buildStatus),animated:e.$options.filters.animatedProgressBar(e.build.buildStatus)}})],1)],1),e._v(" "),i("property-block",{attrs:{label:"Built at",value:e._f("formatDatetime")(e.build.insertedAt)}},[e._v("\n    "+e._s(e._f("formatDatetime")(e.build.insertedAt))+"\n    "),i("duration-label",{attrs:{duration:e.build.duration,"pending-duration":e.build.pendingDuration}})],1),e._v(" "),i("property-block",{attrs:{label:"Branch",value:e.build.repoBranch}}),e._v(" "),i("property-block",{attrs:{label:"Revision"}},[i("commit-link",{attrs:{build:e.build}})],1),e._v(" "),i("property-block",{attrs:{label:"Commit(s)"}},[i("commits",{attrs:{commits:e.build.commits}})],1),e._v(" "),e.showTriggers?i("property-block",{attrs:{label:"Triggered by"}},[i("triggered-by",{attrs:{events:e.build.triggerEvents}})],1):e._e(),e._v(" "),e.showActions?i("property-block",{attrs:{label:"Actions","no-truncate":""}},[i("release-button",{attrs:{pipeline:e.pipeline,build:e.build}}),e._v(" "),i("rebuild-button",{attrs:{build:e.build,builds:e.builds}}),e._v(" "),i("cancel-button",{attrs:{build:e.build}})],1):e._e(),e._v(" "),e.showReleases?i("div",{staticClass:"block-divider"},[i("div")]):e._e(),e._v(" "),e.showReleases?i("property-block",{attrs:{label:"Releases",wide:""}},e._l(e.pipeline.releaseTargets,(function(t){return i("release-badge-for-build",{key:t.name,attrs:{"release-target":t,build:e.build}})})),1):e._e()],1)};o._withStripped=!0;var l=i(5752),c=i(2981),u=i(1006),p=i(2776),d=i(5654),f=i(8418),h=i(377),m=i(9325),b=i(5322),g=i(8714),v=i(6342),y=i(7322),_=i(3900);function w(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function x(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?w(Object(i),!0).forEach((function(t){S(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var O={components:{BProgress:l.D,BProgressBar:c.Q,CommitLink:u.Z,ReleaseButton:p.Z,RebuildButton:d.Z,CancelButton:f.Z,ReleaseBadgeForBuild:h.Z,TriggeredBy:m.Z,PropertyBlock:b.Z,RepositoryTitle:g.Z,DurationLabel:v.Z,Commits:y.Z},props:{build:{type:Object,default:null},builds:{type:Array,default:null},pipeline:{type:Object,default:null},rowItem:{type:Boolean,default:!1}},data:function(){return{now:Date.now()}},created:function(){this.updateNow()},methods:{updateNow:function(){this.now=Date.now(),!this.build||"pending"!==this.build.buildStatus&&"running"!==this.build.buildStatus||_.Z.timeout(this.timeout,this.updateNow,1)}},beforeDestroy:function(){clearTimeout(this.timeout)},computed:x(x({},(0,s.rn)("user",{user:"me"})),{},{showReleases:function(){var e=this;return!!(this.pipeline&&this.pipeline.releaseTargets&&this.pipeline.releaseTargets.length>0)&&this.pipeline.releaseTargets.some((function(t){return t.activeReleases&&t.activeReleases.some((function(t){return t.releaseVersion===e.build.buildVersion}))}))},showActions:function(){return this.user&&this.user.active&&this.build&&("failed"===this.build.buildStatus||"pending"===this.build.buildStatus||"running"===this.build.buildStatus||"canceled"===this.build.buildStatus||"canceling"===this.build.buildStatus||this.pipeline.releaseTargets&&this.pipeline.releaseTargets.length>0&&"succeeded"===this.build.buildStatus)},showTriggers:function(){return this.build.triggerEvents&&this.build.triggerEvents.length>0}})},C=i(1900),P=(0,C.Z)(O,o,[],!1,null,null,null);P.options.__file="src/components/BuildHeader.vue";var T=P.exports,j=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.warnings&&e.warnings.length>0?i("div",{staticClass:"col m-0 mt-3"},e._l(e.warnings,(function(e,t){return i("warning",{key:t,attrs:{warning:e}})})),1):e._e()};j._withStripped=!0;var D={components:{Warning:i(923).Z},props:{build:{type:Object,default:null}},data:function(){return{warnings:[],refresh:!0}},created:function(){this.loadBuildWarnings()},methods:{loadBuildWarnings:function(){var e=this;this.axios.get("/api/pipelines/".concat(this.build.repoSource,"/").concat(this.build.repoOwner,"/").concat(this.build.repoName,"/builds/").concat(this.build.id,"/warnings")).then((function(t){e.warnings=t.data.warnings})).catch((function(t){e.periodicallyRefresh(30)}))},periodicallyRefresh:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadBuildWarnings,r))}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},k=(0,C.Z)(D,j,[],!1,null,null,null);k.options.__file="src/components/PipelineBuildWarnings.vue";var B=k.exports,N=i(9708);function R(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function E(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var L={components:{BBreadcrumb:n.P,SectionHeader:a.Z,BuildHeader:T,PipelineBuildWarnings:B,InnerNavigationTabs:N.Z},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null},id:{type:String,default:null}},data:function(){return{build:null,pipeline:null,refresh:!0,breadcrumbs:[{text:"Builds & releases",to:{name:"Pipelines"}},{text:"".concat(this.repoName),to:{name:"PipelineOverview",params:{repoSource:this.repoSource,repoOwner:this.repoOwner,repoName:this.repoName}}},{text:"builds",to:{name:"PipelineBuilds",params:{repoSource:this.repoSource,repoOwner:this.repoOwner,repoName:this.repoName}}},{text:"..."}]}},created:function(){this.loadBuild()},methods:{loadBuild:function(){var e=this;this.axios.get("/api/pipelines/".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName,"/builds/").concat(this.id)).then((function(t){e.build=t.data,"pending"!==e.build.buildStatus&&"running"!==e.build.buildStatus||e.loadPipeline(),e.breadcrumbs[e.breadcrumbs.length-1]={text:"".concat(e.build.buildVersion),to:{name:"PipelineBuildLogs",params:{repoSource:e.repoSource,repoOwner:e.repoOwner,repoName:e.repoName,id:e.id}},active:!0},"succeeded"!==e.build.buildStatus&&"failed"!==e.build.buildStatus?e.periodicallyRefreshBuild(5):e.periodicallyRefreshBuild(15)})).catch((function(t){console.warn(t),e.periodicallyRefreshBuild(30)}))},loadPipeline:function(){var e=this;this.axios.get("/api/pipelines/".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName)).then((function(t){e.pipeline=t.data})).catch((function(e){console.warn(e)}))},periodicallyRefreshBuild:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadBuild,r))},sortLabels:function(e){return e?e.slice().sort((function(e,t){return e.key>t.key})):e}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?R(Object(i),!0).forEach((function(t){E(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):R(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},(0,s.rn)("user",{user:"me"})),beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},I=(0,C.Z)(L,r,[],!1,null,null,null);I.options.__file="src/views/PipelineBuildDetails.vue";var Z=I.exports},3394:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"col-12 text-center"},[i("log-navigation",{attrs:{"log-url":"/api/pipelines/"+this.repoSource+"/"+this.repoOwner+"/"+this.repoName+"/builds/"+this.id+"/alllogs",status:this.build.buildStatus,logid:e.logid}})],1),e._v(" "),e.logid?i("log-viewer",{attrs:{"log-url":"/api/pipelines/"+this.repoSource+"/"+this.repoOwner+"/"+this.repoName+"/builds/"+this.id+"/logsbyid/"+this.logid,status:this.build.buildStatus,"allow-tail":!1}}):"pending"===e.build.buildStatus||"running"===e.build.buildStatus||"canceling"===e.build.buildStatus?i("log-viewer",{attrs:{"log-url":"/api/pipelines/"+this.repoSource+"/"+this.repoOwner+"/"+this.repoName+"/builds/"+this.id+"/logs",status:this.build.buildStatus,"allow-tail":!0}}):e._e()],1)};r._withStripped=!0;var s=i(2901),n=i(2146),a={components:{LogNavigation:s.Z,LogViewer:n.Z},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null},id:{type:String,default:null},logid:{type:String,default:null},build:{type:Object,default:null}}},o=(0,i(1900).Z)(a,r,[],!1,null,null,null);o.options.__file="src/views/PipelineBuildLogs.vue";var l=o.exports},724:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b-form-group",{staticClass:"m-3",attrs:{description:"Estafette uses a lot of sane defaults to keep your manifest small and readable."}},[i("b-form-checkbox",{model:{value:e.showDefaults,callback:function(t){e.showDefaults=t},expression:"showDefaults"}},[e._v("\n      Show defaults\n    ")])],1),e._v(" "),e.showDefaults?i("pre",{staticClass:"bg-light m-3 p-3"},[e._v(e._s(e.build.manifestWithDefaults))]):i("pre",{staticClass:"bg-light m-3 p-3"},[e._v(e._s(e.build.manifest))])],1)};r._withStripped=!0;var s=i(4951),n=i(4058),a={components:{BFormCheckbox:s.l,BFormGroup:n.x},props:{build:{type:Object,default:null}},data:function(){return{showDefaults:!1}}},o=(0,i(1900).Z)(a,r,[],!1,null,null,null);o.options.__file="src/views/PipelineBuildManifest.vue";var l=o.exports},7628:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return P}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"m-3"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-lg-3"},[i("build-branch-filter",{attrs:{filter:e.filter,model:e.filter.branch,"on-change":e.setBranch,pipeline:e.pipeline}})],1),e._v(" "),i("div",{staticClass:"col-7 col-lg-6 text-lg-center"},[i("status-filter",{attrs:{filter:e.filter}})],1),e._v(" "),i("div",{staticClass:"col-5 col-lg-3"},[i("pagination-compact",{staticClass:"float-right",attrs:{pagination:e.pagination,"link-generator":e.paginationLinkGenerator}})],1)]),e._v(" "),i("div",{staticClass:"row-header"},[i("div",{staticClass:"col-2"},[e._v("\n      Version\n    ")]),e._v(" "),i("div",{staticClass:"col-1"},[e._v("\n      Status\n    ")]),e._v(" "),i("div",{staticClass:"col-2"},[e._v("\n      Built at\n    ")]),e._v(" "),i("div",{staticClass:"col-1"},[e._v("\n      Branch\n    ")]),e._v(" "),i("div",{staticClass:"col-1"},[e._v("\n      Revision\n    ")]),e._v(" "),i("div",{staticClass:"col-3"},[e._v("\n      Commit(s)\n    ")]),e._v(" "),e.user&&e.user.active?i("div",{staticClass:"col-2"},[e._v("\n      Actions\n    ")]):e._e()]),e._v(" "),e.builds.length>0?i("transition-group",{attrs:{name:"list-complete",tag:"div"}},e._l(e.builds,(function(t){return i("build-row",{key:t.id,attrs:{build:t,builds:e.builds,pipeline:e.pipeline}})})),1):e.loaded?i("div",{staticClass:"alert alert-warning text-center p-5"},[e._v("\n    There are no builds for the current filters. Please change your filters!\n  ")]):i("div",[i("spinner",{attrs:{color:"primary"}})],1),e._v(" "),e.builds.length>0?i("pagination",{attrs:{pagination:e.pagination,"link-generator":e.paginationLinkGenerator}}):e._e()],1)};r._withStripped=!0;var s=i(629),n=i(7817),a=i(1826),o=i(2352),l=i(3175),c=i(9090),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-input-group",{staticClass:"mb-3"},[i("b-input-group-prepend",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{"is-text":"",title:"Filter builds on their branch"}},[i("font-awesome-icon",{attrs:{icon:"code-branch"}})],1),e._v(" "),i("b-form-select",{attrs:{options:e.buildBranchOptions},on:{change:e.onChange},model:{value:e.mutableModel,callback:function(t){e.mutableModel=t},expression:"mutableModel"}})],1)};u._withStripped=!0;var p=i(5343),d=i(6127),f=i(7754),h=i(8947),m=i(1436),b=i(7810);h.vI.add(m.mh3);var g={components:{BFormSelect:p.K,BInputGroup:d.w,BInputGroupPrepend:f.P,FontAwesomeIcon:b.GN},props:{pipeline:{type:Object,default:null},filter:{type:Object,default:null},model:{type:String,default:null},onChange:{type:Function,default:null}},data:function(){return{branches:[],pagination:{page:1,size:15},refresh:!0,mutableModel:this.model}},created:function(){this.loadBuildBranches()},methods:{loadBuildBranches:function(){var e=this,t="filter[status]=".concat(this.filter.status);"running"===this.filter.status&&(t+="&filter[status]=pending&filter[status]=canceling"),this.axios.get("/api/pipelines/".concat(this.pipeline.repoSource,"/").concat(this.pipeline.repoOwner,"/").concat(this.pipeline.repoName,"/buildbranches?").concat(t,"&filter[since]=1m&page[number]=").concat(this.pagination.page,"&page[size]=").concat(this.pagination.size)).then((function(t){e.branches=t.data.items,e.periodicallyRefreshBuildBranches(5)})).catch((function(t){e.periodicallyRefreshBuildBranches(30)}))},periodicallyRefreshBuildBranches:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadBuildBranches,r))}},watch:{filter:{handler:function(e,t){this.loadBuildBranches()},deep:!0}},computed:{buildBranchOptions:function(){var e=[{value:"",text:"All branches"}];return this.branches&&this.branches.forEach((function(t){e.push({value:t.name,text:"".concat(t.name," (").concat(t.count,")")})})),e}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},v=i(1900),y=(0,v.Z)(g,u,[],!1,null,null,null);y.options.__file="src/components/BuildBranchFilter.vue";var _=y.exports;function w(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function x(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?w(Object(i),!0).forEach((function(t){S(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var O={components:{Spinner:n.Z,StatusFilter:a.Z,PaginationCompact:o.Z,BuildRow:l.Z,Pagination:c.Z,BuildBranchFilter:_},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null},query:{type:Object,default:null},pipeline:{type:Object,default:null}},data:function(){return{builds:[],pagination:{page:1,size:10,totalPages:0,totalItems:0},filter:{status:"all",branch:""},loaded:!1,refresh:!0}},created:function(){this.filterDefaults=x({},this.filter),this.setDataFromQueryParams(this.query),this.$router.replace({query:this.getQueryParams()}).catch((function(){})),this.loadBuilds()},methods:{paginationLinkGenerator:function(e){var t=this.getQueryParams();return e>0?t.page=e:t.page&&delete t.page,{query:t}},getQueryParams:function(){var e=x({},this.$route.query);return this.filter&&this.filter.status&&""!==this.filter.status?e.status=this.filter.status:e.status&&delete e.status,this.filter&&this.filter.branch&&""!==this.filter.branch?e.branch=this.filter.branch:e.branch&&delete e.branch,this.pagination&&this.pagination.page&&this.pagination.page>0?e.page=this.pagination.page:e.page&&delete e.page,e},setDataFromQueryParams:function(e){this.pagination.page=e&&e.page?Number.parseInt(e.page,10):1,this.filter.status=e&&e.status?e.status:this.filterDefaults.status},updateQueryParams:function(){this.$router.push({query:this.getQueryParams()})},loadBuilds:function(){var e=this,t="filter[status]=".concat(this.filter.status);"running"===this.filter.status&&(t+="&filter[status]=pending&filter[status]=canceling");var i="filter[branch]=".concat(this.filter.branch);this.axios.get("/api/pipelines/".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName,"/builds?").concat(t,"&").concat(i,"&page[number]=").concat(this.pagination.page,"&page[size]=").concat(this.pagination.size)).then((function(t){e.builds=t.data.items,e.pagination=t.data.pagination,e.loaded=!0})).catch((function(t){e.periodicallyRefreshBuilds(15)}))},periodicallyRefreshBuilds:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadBuilds,r))},setBranch:function(e){this.filter.branch=e,this.updateQueryParams()}},computed:x({},(0,s.rn)("user",{user:"me"})),watch:{$route:function(e,t){this.setDataFromQueryParams(e.query),this.loadBuilds()},pipeline:{handler:function(e,t){this.loadBuilds()},deep:!0}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},C=(0,v.Z)(O,r,[],!1,null,null,null);C.options.__file="src/views/PipelineBuilds.vue";var P=C.exports},9703:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return x}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("section-header",{attrs:{"section-route-name":"Pipelines"}}),e._v(" "),i("b-breadcrumb",{staticClass:"m-3 rounded",attrs:{items:e.breadcrumbs}}),e._v(" "),e.pipeline?i("pipeline-header",{attrs:{pipeline:e.pipeline}}):e._e(),e._v(" "),i("inner-navigation-tabs",{attrs:{"section-route-name":"Pipelines"}}),e._v(" "),e.pipeline?i("router-view",{staticClass:"m-3",attrs:{pipeline:e.pipeline}}):e._e()],1)};r._withStripped=!0;var s=i(629),n=i(6578),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"header-block"},[i("property-block",{attrs:{label:"Pipeline",variant:"success",title:""}},[i("repository-title",{attrs:{repo:e.pipeline}})],1),e._v(" "),e.showLabels?i("property-block",{attrs:{label:"Labels",wide:""}},[i("labels",{attrs:{labels:e.pipeline.labels}})],1):e._e(),e._v(" "),e.showReleases?i("property-block",{attrs:{label:"Releases",wide:""}},e._l(e.pipeline.releaseTargets,(function(t){return i("release-badge",{key:t.name,attrs:{"release-target":t,pipeline:e.pipeline}})})),1):e._e(),e._v(" "),e.pipeline.groups&&e.pipeline.groups.length>0?i("property-block",{attrs:{label:"Group(s)",wide:""}},e._l(e.pipeline.groups,(function(e){return i("group-badge",{key:e.id,attrs:{group:e}})})),1):e._e()],1)};a._withStripped=!0;var o=i(3385),l=i(5270),c=i(5322),u=i(8714),p=i(5212),d={components:{ReleaseBadge:o.Z,GroupBadge:l.Z,PropertyBlock:c.Z,RepositoryTitle:u.Z,Labels:p.Z},props:{pipeline:{type:Object,default:null},filter:{type:Object,default:null}},computed:{showReleases:function(){return this.pipeline.releaseTargets&&this.pipeline.releaseTargets.length>0},showLabels:function(){return this.pipeline.labels&&this.pipeline.labels.length>0},showTriggers:function(){return this.pipeline.triggerEvents&&this.pipeline.triggerEvents.length>0}}},f=i(1900),h=(0,f.Z)(d,a,[],!1,null,null,null);h.options.__file="src/components/PipelineHeader.vue";var m=h.exports,b=i(7777),g=i(9708);function v(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var _={components:{BBreadcrumb:n.P,SectionHeader:b.Z,PipelineHeader:m,InnerNavigationTabs:g.Z},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null}},data:function(){return{pipeline:null,refresh:!0,breadcrumbs:[{text:"Builds & releases",to:{name:"Pipelines"}},{text:"".concat(this.repoName),to:{name:"PipelineOverview",params:{repoSource:this.repoSource,repoOwner:this.repoOwner,repoName:this.repoName}},active:!0}]}},created:function(){this.loadPipeline()},methods:{loadPipeline:function(){var e=this;this.axios.get("/api/pipelines/".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName)).then((function(t){e.pipeline=t.data,e.periodicallyRefreshPipeline(5)})).catch((function(t){e.periodicallyRefreshPipeline(30)}))},periodicallyRefreshPipeline:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadPipeline,r))},sortLabels:function(e){return e?e.slice().sort((function(e,t){return e.key>t.key})):e}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(Object(i),!0).forEach((function(t){y(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},(0,s.rn)("user",{user:"me"})),beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},w=(0,f.Z)(_,r,[],!1,null,null,null);w.options.__file="src/views/PipelineDetails.vue";var x=w.exports},1546:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return j}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"m-3"},[i("div",{staticClass:"row mt-0 mr-0 ml-0"},[i("div",{staticClass:"col-12 col-sm-8 col-lg"}),e._v(" "),i("div",{staticClass:"col-12 col-sm-4 col-lg-2 p-0 text-right"},[i("b-input-group",{staticClass:"mb-3"},[i("b-input-group-prepend",{attrs:{"is-text":""}},[i("font-awesome-icon",{attrs:{icon:"history"}})],1),e._v(" "),i("b-form-select",{attrs:{options:e.lastOptions},on:{change:e.setLast},model:{value:e.filter.last,callback:function(t){e.$set(e.filter,"last",t)},expression:"filter.last"}})],1)],1)]),e._v(" "),i("div",{staticClass:"mt-0 mr-3 mb-3 ml-3 row"},[i("div",{staticClass:"col-12 col-xl-6 col-xxxl-4"},[i("pipeline-stats-timeline",{staticClass:"mb-3",attrs:{pipeline:e.pipeline,filter:e.filter,type:"builds",status:"primary"}})],1),e._v(" "),i("div",{staticClass:"col-12 col-xl-6 col-xxxl-4"},[i("pipeline-stats-cpu",{staticClass:"mb-3",attrs:{pipeline:e.pipeline,filter:e.filter,type:"builds",status:"primary"}})],1),e._v(" "),i("div",{staticClass:"col-12 col-xl-6 col-xxxl-4"},[i("pipeline-stats-memory",{staticClass:"mb-3",attrs:{pipeline:e.pipeline,filter:e.filter,type:"builds",status:"primary"}})],1),e._v(" "),e.hasReleases?i("div",{staticClass:"col-12 col-xl-6 col-xxxl-4"},[i("pipeline-stats-timeline",{staticClass:"mb-3",attrs:{pipeline:e.pipeline,filter:e.filter,type:"releases",status:"success"}})],1):e._e(),e._v(" "),e.hasReleases?i("div",{staticClass:"col-12 col-xl-6 col-xxxl-4"},[i("pipeline-stats-cpu",{staticClass:"mb-3",attrs:{pipeline:e.pipeline,filter:e.filter,type:"releases",status:"success"}})],1):e._e(),e._v(" "),e.hasReleases?i("div",{staticClass:"col-12 col-xl-6 col-xxxl-4"},[i("pipeline-stats-memory",{staticClass:"mb-3",attrs:{pipeline:e.pipeline,filter:e.filter,type:"releases",status:"success"}})],1):e._e(),e._v(" "),e.hasBots?i("div",{staticClass:"col-12 col-xl-6 col-xxxl-4"},[i("pipeline-stats-timeline",{staticClass:"mb-3",attrs:{pipeline:e.pipeline,filter:e.filter,type:"bots",status:"warning"}})],1):e._e(),e._v(" "),e.hasBots?i("div",{staticClass:"col-12 col-xl-6 col-xxxl-4"},[i("pipeline-stats-cpu",{staticClass:"mb-3",attrs:{pipeline:e.pipeline,filter:e.filter,type:"bots",status:"warning"}})],1):e._e(),e._v(" "),e.hasBots?i("div",{staticClass:"col-12 col-xl-6 col-xxxl-4"},[i("pipeline-stats-memory",{staticClass:"mb-3",attrs:{pipeline:e.pipeline,filter:e.filter,type:"bots",status:"warning"}})],1):e._e()])])};r._withStripped=!0;var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"p-0 graph bg-white"},[i("div",{staticClass:"rounded border"},[0==e.series.length?i("spinner",{attrs:{color:e.status}}):e._e(),e._v(" "),i("apexcharts",{attrs:{width:"100%",type:e.options.type,options:e.options,series:e.series}})],1)])};s._withStripped=!0;var n=i(7817),a=i(1700),o=i.n(a),l={components:{Spinner:n.Z,apexcharts:function(){return i.e(909).then(i.t.bind(i,7166,23))}},props:{type:{type:String,default:null},status:{type:String,default:null},pipeline:{type:Object,default:null},filter:{type:Object,default:null}},data:function(){var e=this;return{options:{chart:{id:"".concat(this.type,"-duration-timeline"),animations:{enabled:!0,easing:"easeinout",dynamicAnimation:{enabled:!0,speed:500}},toolbar:{show:!1}},markers:{size:0,hover:{size:6}},title:{text:o()(this.type)+" duration",align:"center",style:{fontSize:"24px",color:this.getColor(this.status)}},legend:{showForSingleSeries:"builds"!==this.type},type:"line",stroke:{curve:"smooth"},xaxis:{type:"datetime"},yaxis:{min:0,title:{text:"duration"},labels:{formatter:function(t){return void 0!==t?e.$options.filters.formatDuration(t):t}}},colors:this.getColors(this.status),grid:{show:!0,yaxis:{lines:{show:!1,animate:!1}}},tooltip:{shared:!0,intersect:!1,y:{formatter:function(t){return void 0!==t?e.$options.filters.formatDuration(t):t}}}},series:[],refresh:!0}},created:function(){this.loadStat()},methods:{getColor:function(e){switch(e){case"primary":return"#007bff";case"success":return"#28a745";case"warning":return"#ffc107"}return"#212529"},getColors:function(e){var t=["#007bff","#28a745","#dc3545","#ffc107","#17a2b8"],i=this.getColor(this.status),r=[i];for(var s in t){var n=t[s];n!==i&&r.push(n)}return r},loadStat:function(){var e=this;this.axios.get("/api/pipelines/".concat(this.pipeline.repoSource,"/").concat(this.pipeline.repoOwner,"/").concat(this.pipeline.repoName,"/stats/").concat(this.type,"durations?filter[last]=").concat(this.filter.last)).then((function(t){e.updateSeries(t.data.durations),e.periodicallyRefreshStat(60)})).catch((function(t){e.periodicallyRefreshStat(120)}))},periodicallyRefreshStat:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadStat,r))},updateSeries:function(e){var t=this,i={};e.forEach((function(e){var t="duration";e.name&&(t=e.name,e.action&&""!==e.action&&(t+=" / "+e.action)),i[t]||(i[t]=[]),i[t].push({x:e.insertedAt,y:e.duration})}));var r=function(e){var r=t.series.find((function(t){return t.name===e}));r||(r={name:e,data:[]},t.series.push(r)),r.data=t.filterOutliers(i[e])};for(var s in i)r(s)},filterOutliers:function(e){if(e.length<10)return e.sort((function(e,t){return new Date(e.x)-new Date(t.x)}));var t,i,r=e.slice().sort((function(e,t){return e.y-t.y}));r.length/4%1==0?(t=.5*(r[r.length/4].y+r[r.length/4+1].y),i=.5*(r[r.length*(3/4)].y+r[r.length*(3/4)+1].y)):(t=r[Math.floor(r.length/4+1)].y,i=r[Math.ceil(r.length*(3/4)+1)].y);var s=i-t,n=i+1.5*s,a=t-1.5*s;return(a>=n?r.filter((function(e){return e.y>=n&&e.y<=a})):r.filter((function(e){return e.y>=a&&e.y<=n}))).sort((function(e,t){return new Date(e.x)-new Date(t.x)}))}},watch:{filter:{handler:function(e,t){this.loadStat()},deep:!0}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},c=i(1900),u=(0,c.Z)(l,s,[],!1,null,null,null);u.options.__file="src/components/PipelineStatsTimeline.vue";var p=u.exports,d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"p-0 graph bg-white"},[i("div",{staticClass:"rounded border"},[0==e.series.length?i("spinner",{attrs:{color:e.status}}):e._e(),e._v(" "),i("apexcharts",{attrs:{width:"100%",type:e.options.type,options:e.options,series:e.series}})],1)])};d._withStripped=!0;var f={components:{Spinner:n.Z,apexcharts:function(){return i.e(909).then(i.t.bind(i,7166,23))}},props:{type:{type:String,default:null},status:{type:String,default:null},pipeline:{type:Object,default:null},filter:{type:Object,default:null}},data:function(){var e=this;return{options:{chart:{id:"".concat(this.type,"-cpu-timeline"),animations:{enabled:!0,easing:"easeinout",dynamicAnimation:{enabled:!0,speed:500}},toolbar:{show:!1}},markers:{size:0,hover:{size:6}},title:{text:o()(this.type)+" max CPU",align:"center",style:{fontSize:"24px",color:this.getColor(this.status)}},legend:{showForSingleSeries:"builds"!==this.type},type:"line",stroke:{curve:"smooth"},xaxis:{type:"datetime"},yaxis:{min:0,title:{text:"cpu cores"},labels:{formatter:function(t){return void 0!==t?e.$options.filters.formatNumber(t):t}}},colors:this.getColors(this.status),grid:{show:!0,yaxis:{lines:{show:!1,animate:!1}}},tooltip:{shared:!0,intersect:!1,y:{formatter:function(t){return void 0!==t?e.$options.filters.formatNumber(t):t}}}},series:[],refresh:!0}},created:function(){this.loadStat()},methods:{getColor:function(e){switch(e){case"primary":return"#007bff";case"success":return"#28a745";case"warning":return"#ffc107"}return"#212529"},getColors:function(e){var t=["#007bff","#28a745","#dc3545","#ffc107","#17a2b8"],i=this.getColor(this.status),r=[i];for(var s in t){var n=t[s];n!==i&&r.push(n)}return r},loadStat:function(){var e=this;this.axios.get("/api/pipelines/".concat(this.pipeline.repoSource,"/").concat(this.pipeline.repoOwner,"/").concat(this.pipeline.repoName,"/stats/").concat(this.type,"cpu?filter[last]=").concat(this.filter.last)).then((function(t){e.updateSeries(t.data.measurements),e.periodicallyRefreshStat(60)})).catch((function(t){e.periodicallyRefreshStat(120)}))},periodicallyRefreshStat:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadStat,r))},updateSeries:function(e){var t=this,i={};e.forEach((function(e){var t="cpu";e.name&&(t=e.name,e.action&&""!==e.action&&(t+=" / "+e.action)),i[t]||(i[t]=[]),i[t].push({x:e.insertedAt,y:e.cpuMaxUsage})}));var r=function(e){var r=t.series.find((function(t){return t.name===e}));r||(r={name:e,data:[]},t.series.push(r)),r.data=i[e]};for(var s in i)r(s)}},watch:{filter:{handler:function(e,t){this.loadStat()},deep:!0}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},h=(0,c.Z)(f,d,[],!1,null,null,null);h.options.__file="src/components/PipelineStatsCpu.vue";var m=h.exports,b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"p-0 graph bg-white"},[i("div",{staticClass:"rounded border"},[0==e.series.length?i("spinner",{attrs:{color:e.status}}):e._e(),e._v(" "),i("apexcharts",{attrs:{width:"100%",type:e.options.type,options:e.options,series:e.series}})],1)])};b._withStripped=!0;var g={components:{Spinner:n.Z,apexcharts:function(){return i.e(909).then(i.t.bind(i,7166,23))}},props:{type:{type:String,default:null},status:{type:String,default:null},pipeline:{type:Object,default:null},filter:{type:Object,default:null}},data:function(){var e=this;return{options:{chart:{id:"".concat(this.type,"-memory-timeline"),animations:{enabled:!0,easing:"easeinout",dynamicAnimation:{enabled:!0,speed:500}},toolbar:{show:!1}},markers:{size:0,hover:{size:6}},title:{text:o()(this.type)+" max memory",align:"center",style:{fontSize:"24px",color:this.getColor(this.status)}},legend:{showForSingleSeries:"builds"!==this.type},type:"line",stroke:{curve:"smooth"},xaxis:{type:"datetime"},yaxis:{min:0,title:{text:"duration"},labels:{formatter:function(t){return void 0!==t?e.$options.filters.formatBytes(t):t}}},colors:this.getColors(this.status),grid:{show:!0,yaxis:{lines:{show:!1,animate:!1}}},tooltip:{shared:!0,intersect:!1,y:{formatter:function(t){return void 0!==t?e.$options.filters.formatBytes(t):t}}}},series:[],refresh:!0}},created:function(){this.loadStat()},methods:{getColor:function(e){switch(e){case"primary":return"#007bff";case"success":return"#28a745";case"warning":return"#ffc107"}return"#212529"},getColors:function(e){var t=["#007bff","#28a745","#dc3545","#ffc107","#17a2b8"],i=this.getColor(this.status),r=[i];for(var s in t){var n=t[s];n!==i&&r.push(n)}return r},loadStat:function(){var e=this;this.axios.get("/api/pipelines/".concat(this.pipeline.repoSource,"/").concat(this.pipeline.repoOwner,"/").concat(this.pipeline.repoName,"/stats/").concat(this.type,"memory?filter[last]=").concat(this.filter.last)).then((function(t){e.updateSeries(t.data.measurements),e.periodicallyRefreshStat(60)})).catch((function(t){e.periodicallyRefreshStat(120)}))},periodicallyRefreshStat:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadStat,r))},updateSeries:function(e){var t=this,i={};e.forEach((function(e){var t="memory";e.name&&(t=e.name,e.action&&""!==e.action&&(t+=" / "+e.action)),i[t]||(i[t]=[]),i[t].push({x:e.insertedAt,y:e.memoryMaxUsage})}));var r=function(e){var r=t.series.find((function(t){return t.name===e}));r||(r={name:e,data:[]},t.series.push(r)),r.data=i[e]};for(var s in i)r(s)}},watch:{filter:{handler:function(e,t){this.loadStat()},deep:!0}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},v=(0,c.Z)(g,b,[],!1,null,null,null);v.options.__file="src/components/PipelineStatsMemory.vue";var y=v.exports,_=i(5343),w=i(6127),x=i(7754),S=i(8947),O=i(1436),C=i(7810);S.vI.add(O.Stf,O.qO$);var P={components:{PipelineStatsTimeline:p,PipelineStatsCpu:m,PipelineStatsMemory:y,BFormSelect:_.K,BInputGroup:w.w,BInputGroupPrepend:x.P,FontAwesomeIcon:C.GN},props:{query:{type:Object,default:null},pipeline:{type:Object,default:null}},data:function(){return{filter:{last:"100"},lastOptions:[{value:"25",text:"Last 25 builds/releases/bots"},{value:"100",text:"Last 100 builds/releases/bots"},{value:"250",text:"Last 250 builds/releases/bots"},{value:"1000",text:"Last 1000 builds/releases/bots"},{value:"100000",text:"All builds/releases/bots"}]}},created:function(){this.setDataFromQueryParams(this.query)},methods:{setDataFromQueryParams:function(e){this.filter.last=e&&e.last?e.last:"100"},updateQueryParams:function(){this.$router.push({query:{last:this.filter.last}})},setLast:function(e){this.filter.last=e,this.updateQueryParams()}},computed:{hasReleases:function(){return this.pipeline&&this.pipeline.releaseTargets&&this.pipeline.releaseTargets.length>0},hasBots:function(){return this.pipeline&&this.pipeline.triggers&&this.pipeline.triggers.some((function(e){return e.runs}))}}},T=(0,c.Z)(P,r,[],!1,null,null,null);T.options.__file="src/views/PipelineInsights.vue";var j=T.exports},1756:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return L}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{},[e.pipeline?i("pipeline-warnings",{attrs:{pipeline:e.pipeline}}):e._e(),e._v(" "),i("div",{staticClass:"row m-0 mt-3 mb-3 ml-3 justify-content-center"},[i("div",{staticClass:"h5 text-center mt-3 mb-3 text-secondary"},[i("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"tools"}}),e._v("\n      Recent builds\n    ")],1)]),e._v(" "),e.builds.length>0?i("transition-group",{staticClass:"row justify-content-center m-0 mt-3 mb-3 ml-3",attrs:{name:"list-complete",tag:"div"}},e._l(e.builds,(function(t){return i("drag",{key:t.id,staticClass:"col-12 col-md-6 col-xl-4 col-xxl-3 col-xxxl-2 m-0 p-0 pr-3 pb-3 list-complete-item",attrs:{disabled:!e.user||!e.user.active||"succeeded"!==t.buildStatus,data:t}},[i("div",{class:["bg-light","rounded border align-items-center pt-3 pr-2 pb-2 pl-2 text-center bg-white"]},[i("div",{staticClass:"row mb-2"},[i("div",{staticClass:"col-6 text-truncate"},[e._v("\n            "+e._s(t.repoBranch)+"\n          ")]),e._v(" "),i("div",{staticClass:"col-6"},[i("commit-link",{attrs:{build:t}})],1)]),e._v(" "),i("div",{staticClass:"row no-gutters"},[i("div",{staticClass:"col text-truncate"},[i("b-button",{staticClass:"mr-1 mb-1 text-truncate",attrs:{to:{name:"PipelineBuildLogs",params:{repoSource:e.pipeline.repoSource,repoOwner:e.pipeline.repoOwner,repoName:e.pipeline.repoName,id:t.id}},exact:"",variant:e.$options.filters.bootstrapVariant(t.buildStatus),size:"sm",block:""}},[t.buildVersion?i("span",[e._v("\n                "+e._s(t.buildVersion)+"\n              ")]):i("span",[e._v("\n                -\n              ")])])],1),e._v(" "),e.showActions(t)?i("div",{staticClass:"col-auto"},[i("rebuild-button-compact",{staticClass:"mr-1 mb-1 ml-1",attrs:{build:t,builds:e.builds}}),e._v(" "),i("cancel-button-compact",{staticClass:"mr-1 mb-1 ml-1",attrs:{build:t}})],1):e._e()]),e._v(" "),i("div",{staticClass:"row mt-2"},[t.commits&&t.commits.length>0?i("div",{staticClass:"col-12 text-muted text-truncate"},[e._v("\n            "+e._s(t.commits[0].message)+"\n          ")]):e._e()])])])})),1):e.loaded?i("div",{staticClass:"row m-0 mt-3 mb-3 ml-3 alert alert-warning text-center p-5"},[e._v("\n    There are no recent builds for the current pipeline.\n  ")]):i("div",{staticClass:"row m-0 mt-3 mb-3 ml-3"},[i("spinner",{attrs:{color:"primary"}})],1),e._v(" "),e.pipeline.releaseTargets&&e.pipeline.releaseTargets.length>0?i("div",{staticClass:"row m-0 mt-3 mb-3 ml-3 justify-content-center"},[i("div",{staticClass:"h5 text-center mt-3 mb-3 text-secondary"},[i("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"upload"}}),e._v("\n      Releases\n      "),i("div",{staticClass:"small text-muted mt-2"},[e._v("\n        (drag and drop a build on a release)\n      ")])],1)]):e._e(),e._v(" "),i("div",{staticClass:"row m-0 mt-3 mb-3 ml-3 justify-content-center"},e._l(e.pipeline.releaseTargets,(function(t){return i("div",{key:t.name,staticClass:"col-12 col-md-6 col-xl-4 col-xxl-3 col-xxxl-2 m-0 p-0 pr-3 pb-3"},[i("div",{class:["bg-light","rounded border align-items-center pt-3 pr-2 pb-2 pl-2 text-center bg-white"]},[i("h6",{staticClass:"text-truncate"},[e._v("\n          "+e._s(t.name)+"\n        ")]),e._v(" "),e._l(e.mergedActionsAndActiveReleases(t),(function(r,s){return i("drop",{key:s,on:{drop:function(i){return e.releaseBuildToTargetAction(i,t,r)}}},[r&&r.id?i("b-button",{staticClass:"mr-1 mb-1 text-truncate",attrs:{to:{name:"PipelineReleaseLogs",params:{repoSource:e.pipeline.repoSource,repoOwner:e.pipeline.repoOwner,repoName:e.pipeline.repoName,releaseID:r.id}},exact:"",variant:e.$options.filters.bootstrapVariant(r.releaseStatus),size:"sm",block:""}},[r.action?i("span",[e._v("\n              "+e._s(r.action)+":\n            ")]):e._e(),e._v(e._s(e._f("defaultValue")(r.releaseVersion,"-"))+"\n\n            "),e.releaseIsUpToDate(r)?i("font-awesome-icon",{attrs:{icon:"fire"}}):e._e()],1):r?i("button",{class:["btn btn-sm btn-block mr-1 mb-1 text-truncate",e.$options.filters.bootstrapClass(r.releaseStatus,"btn")]},[r.action?i("span",[e._v("\n              "+e._s(r.action)+":\n            ")]):e._e(),e._v(e._s(e._f("defaultValue")(r.releaseVersion,"-"))+"\n          ")]):e._e()],1)}))],2)])})),0)],1)};r._withStripped=!0;var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.warnings&&e.warnings.length>0?i("div",{staticClass:"col m-0 mt-3"},[i("div",{staticClass:"row m-0 mt-3 mb-3 ml-3 justify-content-center"},[i("div",{staticClass:"h5 text-center mt-3 mb-3 text-secondary"},[i("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"exclamation-triangle"}}),e._v("\n      Warnings\n    ")],1)]),e._v(" "),e._l(e.warnings,(function(e,t){return i("warning",{key:t,attrs:{warning:e}})}))],2):e._e()};s._withStripped=!0;var n=i(923),a=i(8947),o=i(1436),l=i(7810);a.vI.add(o.eHv);var c={components:{Warning:n.Z,FontAwesomeIcon:l.GN},props:{pipeline:{type:Object,default:null}},data:function(){return{warnings:[],refresh:!0}},created:function(){this.loadPipelineWarnings()},methods:{loadPipelineWarnings:function(){var e=this;this.axios.get("/api/pipelines/".concat(this.pipeline.repoSource,"/").concat(this.pipeline.repoOwner,"/").concat(this.pipeline.repoName,"/warnings")).then((function(t){e.warnings=t.data.warnings})).catch((function(t){e.periodicallyRefresh(30)}))},periodicallyRefresh:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadPipelineWarnings,r))}},watch:{pipeline:{handler:function(e,t){this.loadPipelineWarnings()},deep:!0}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},u=i(1900),p=(0,u.Z)(c,s,[],!1,null,null,null);p.options.__file="src/components/PipelineWarnings.vue";var d=p.exports,f=i(629),h=i(5193),m=i(7817),b=i(1006),g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.allowedToRebuild()?i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"warning",size:"sm",title:"Rebuild this failed build"},on:{click:function(t){return t.stopPropagation(),e.rebuild(t)}}},[i("font-awesome-icon",{attrs:{icon:"redo"}})],1):e._e()};function v(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}g._withStripped=!0,a.vI.add(o.XSV);var _={components:{BButton:h.T,FontAwesomeIcon:l.GN},props:{build:{type:Object,default:null},builds:{type:Array,default:null},compact:{type:Boolean,default:!1}},data:function(){return{clicked:!1}},methods:{allowedToRebuild:function(){var e=this;return!(!this.user.active||!this.build||"failed"!==this.build.buildStatus&&"canceled"!==this.build.buildStatus)&&(!(this.builds&&this.builds.length>0)||!this.builds.some((function(t){return t.buildVersion===e.build.buildVersion&&"succeeded"===t.buildStatus})))},rebuild:function(e){var t=this;this.user.active&&this.axios.post("/api/pipelines/".concat(this.build.repoSource,"/").concat(this.build.repoOwner,"/").concat(this.build.repoName,"/builds"),this.build).then((function(e){t.builds.unshift(e.data),t.builds.shift()})).catch((function(e){console.warn(e)}))}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(Object(i),!0).forEach((function(t){y(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},(0,f.rn)("user",{user:"me"}))},w=(0,u.Z)(_,g,[],!1,null,null,null);w.options.__file="src/components/RebuildButtonCompact.vue";var x=w.exports,S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.user.active&&(e.build&&("pending"===e.build.buildStatus||"running"===e.build.buildStatus||"canceling"===e.build.buildStatus)||e.release&&("pending"===e.release.releaseStatus||"running"===e.release.releaseStatus||"canceling"===e.release.releaseStatus))?i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"danger",size:"sm",title:"Cancel this build"},on:{click:function(t){return t.stopPropagation(),e.cancel(t)}}},[i("font-awesome-icon",{attrs:{icon:"ban"}})],1):e._e()};function O(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function C(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}S._withStripped=!0,a.vI.add(o.gPx);var P={components:{BButton:h.T,FontAwesomeIcon:l.GN},props:{build:{type:Object,default:null},release:{type:Object,default:null},compact:{type:Boolean,default:!1}},data:function(){return{clicked:!1}},methods:{cancel:function(e){var t=this;this.user.active&&(!this.build||"pending"!==this.build.buildStatus&&"running"!==this.build.buildStatus&&"canceling"!==this.build.buildStatus?!this.release||"pending"!==this.release.releaseStatus&&"running"!==this.release.releaseStatus&&"canceling"!==this.release.releaseStatus||this.axios.delete("/api/pipelines/".concat(this.release.repoSource,"/").concat(this.release.repoOwner,"/").concat(this.release.repoName,"/releases/").concat(this.release.id)).then((function(e){t.release.releaseStatus="canceling"})).catch((function(e){console.warn(e)})):this.axios.delete("/api/pipelines/".concat(this.build.repoSource,"/").concat(this.build.repoOwner,"/").concat(this.build.repoName,"/builds/").concat(this.build.id)).then((function(e){t.build.buildStatus="canceling"})).catch((function(e){console.warn(e)})))}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?O(Object(i),!0).forEach((function(t){C(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):O(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},(0,f.rn)("user",{user:"me"}))},T=(0,u.Z)(P,S,[],!1,null,null,null);T.options.__file="src/components/CancelButtonCompact.vue";var j=T.exports,D=i(6030);function k(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function B(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?k(Object(i),!0).forEach((function(t){N(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function N(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}a.vI.add(o.Rpv,o.CgH,o.cf$);var R={components:{PipelineWarnings:d,BButton:h.T,Spinner:m.Z,CommitLink:b.Z,RebuildButtonCompact:x,CancelButtonCompact:j,Drag:D.nc,Drop:D.Ud,FontAwesomeIcon:l.GN},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null},pipeline:{type:Object,default:null}},data:function(){return{builds:[],loaded:!1,refresh:!0}},created:function(){this.loadRecentBuilds()},methods:{releaseBuildToTargetAction:function(e,t,i){if(!this.releaseTargetDisabled(t)){var r="";i.action&&(r=i.action);var s=e.data;this.startRelease(s,t,r)}},startRelease:function(e,t,i){var r=this;if(this.user.active){var s={name:t.name,action:i,repoSource:e.repoSource,repoOwner:e.repoOwner,repoName:e.repoName,releaseVersion:e.buildVersion,releaseStatus:"pending"};this.updateRelease(s),this.axios.post("/api/pipelines/".concat(e.repoSource,"/").concat(e.repoOwner,"/").concat(e.repoName,"/releases"),s).then((function(e){s=e.data,r.updateRelease(s)})).catch((function(e){console.warn(e)}))}},updateRelease:function(e){var t=this.pipeline.releaseTargets.find((function(t){return t.name===e.name}));if(t)if(t.activeReleases){var i=!1,r=t.activeReleases.map((function(t){return t.action?e.action&&t.action===e.action?(i=!0,e):t:(i=!0,e)}));i||r.push(e),t.activeReleases=r}else t.activeReleases=[e]},releaseIsUpToDate:function(e){return this.pipeline&&this.pipeline.buildStatus&&"succeeded"===this.pipeline.buildStatus&&this.pipeline.buildVersion&&e&&e.releaseStatus&&"succeeded"===e.releaseStatus&&this.pipeline.buildVersion===e.releaseVersion},loadRecentBuilds:function(){var e=this;this.axios.get("/api/pipelines/".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName,"/builds?page[size]=6")).then((function(t){e.builds=t.data.items,e.loaded=!0})).catch((function(t){e.periodicallyRefreshRecentBuilds(15)}))},periodicallyRefreshRecentBuilds:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadRecentBuilds,r))},getActiveRelease:function(e,t){if(e)return e.find((function(e){return e.action===t}))},releaseTargetDisabled:function(e){return this.pipeline&&this.pipeline.releaseTargets&&this.pipeline.releaseTargets.length>0&&this.pipeline.releaseTargets.some((function(t){return t.name===e.name&&t.activeReleases&&t.activeReleases.some((function(e){return e&&"running"===e.releaseStatus}))}))},showActions:function(e){return this.user&&this.user.active&&e&&("failed"===e.buildStatus||"pending"===e.buildStatus||"running"===e.buildStatus||"canceled"===e.buildStatus||"canceling"===e.buildStatus)}},computed:B(B({},(0,f.rn)("user",{user:"me"})),{},{mergedActionsAndActiveReleases:function(){var e=this;return function(t){if(!(t.actions&&0!==t.actions.length||t.activeReleases&&0!==t.activeReleases.length))return[{name:t.name,repoSource:e.pipeline.repoSource,repoOwner:e.pipeline.repoOwner,repoName:e.pipeline.repoName}];if(!t.actions||0===t.actions.length)return t.activeReleases;var i=[];return t.actions.forEach((function(r){var s=e.getActiveRelease(t.activeReleases,r.name);void 0!==s?i.push(s):i.push({name:t.name,action:r.name,repoSource:e.pipeline.repoSource,repoOwner:e.pipeline.repoOwner,repoName:e.pipeline.repoName})})),i}}}),watch:{$route:function(e,t){this.loadRecentBuilds()},pipeline:{handler:function(e,t){this.loadRecentBuilds()},deep:!0}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},E=(0,u.Z)(R,r,[],!1,null,null,null);E.options.__file="src/views/PipelineOverview.vue";var L=E.exports},6281:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return j}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("section-header",{attrs:{"section-route-name":"Pipelines"}}),e._v(" "),i("b-breadcrumb",{staticClass:"m-3 rounded",attrs:{items:e.breadcrumbs}}),e._v(" "),e.release?i("release-header",{attrs:{release:e.release,pipeline:!e.pipeline||"pending"!==e.release.releaseStatus&&"running"!==e.release.releaseStatus?e.release:e.pipeline}}):e._e(),e._v(" "),i("inner-navigation-tabs",{attrs:{"section-route-name":"Pipelines"}}),e._v(" "),e.release?i("router-view",{staticClass:"m-3",attrs:{release:e.release}}):e._e()],1)};r._withStripped=!0;var s=i(629),n=i(6578),a=i(7777),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"header-block"},[i("property-block",{attrs:{label:"Release",variant:"success",title:""}},[i("repository-title",{attrs:{repo:e.release}})],1),e._v(" "),i("property-block",{attrs:{label:e.release.action?"Target + action":"Target",value:e.release.action?e.release.name+" / "+e.release.action:e.release.name}},[e._v("\n    "+e._s(e.release.name)),e.release.action?i("span",[e._v("\n      / "+e._s(e.release.action)+"\n    ")]):e._e()]),e._v(" "),i("property-block",{attrs:{label:"Version",value:e.release.releaseVersion}}),e._v(" "),i("property-block",{attrs:{label:"Status"}},[i("b-progress",[i("b-progress-bar",{attrs:{value:e.$options.filters.releaseProgressBarValue(e.pipeline,e.release,e.now),label:e.$options.filters.releaseProgressBarLabel(e.pipeline,e.release,e.now),variant:e.$options.filters.bootstrapVariant(e.release.releaseStatus),animated:e.$options.filters.animatedProgressBar(e.release.releaseStatus)}})],1)],1),e._v(" "),i("property-block",{attrs:{label:"Released at"}},[e._v("\n    "+e._s(e._f("formatDatetime")(e.release.insertedAt))+"\n    "),i("duration-label",{attrs:{duration:e.release.duration,"pending-duration":e.release.pendingDuration}})],1),e._v(" "),i("property-block",{attrs:{label:"Triggered by"}},[i("triggered-by",{attrs:{events:e.release.triggerEvents}})],1),e._v(" "),e.showActions?i("property-block",{attrs:{label:"Actions"}},[i("cancel-button",{attrs:{release:e.release}})],1):e._e()],1)};o._withStripped=!0;var l=i(5752),c=i(2981),u=i(8418),p=i(9325),d=i(5322),f=i(8714),h=i(6342),m=i(3900);function b(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function g(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?b(Object(i),!0).forEach((function(t){v(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function v(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var y={components:{BProgress:l.D,BProgressBar:c.Q,CancelButton:u.Z,TriggeredBy:p.Z,PropertyBlock:d.Z,RepositoryTitle:f.Z,DurationLabel:h.Z},props:{release:{type:Object,default:null},pipeline:{type:Object,default:null}},data:function(){return{now:Date.now()}},created:function(){this.updateNow()},methods:{updateNow:function(){this.now=Date.now(),!this.release||"pending"!==this.release.releaseStatus&&"running"!==this.release.releaseStatus||m.Z.timeout(this.timeout,this.updateNow,1)}},beforeDestroy:function(){clearTimeout(this.timeout)},computed:g(g({},(0,s.rn)("user",{user:"me"})),{},{showActions:function(){return this.user&&this.user.active&&this.release&&("pending"===this.release.releaseStatus||"running"===this.release.releaseStatus||"canceling"===this.release.releaseStatus)}})},_=i(1900),w=(0,_.Z)(y,o,[],!1,null,null,null);w.options.__file="src/components/ReleaseHeader.vue";var x=w.exports,S=i(9708);function O(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function C(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var P={components:{BBreadcrumb:n.P,SectionHeader:a.Z,ReleaseHeader:x,InnerNavigationTabs:S.Z},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null},releaseID:{type:String,default:null}},data:function(){return{release:null,pipeline:null,refresh:!0,breadcrumbs:[{text:"Builds & releases",to:{name:"Pipelines"}},{text:"".concat(this.repoName),to:{name:"PipelineOverview",params:{repoSource:this.repoSource,repoOwner:this.repoOwner,repoName:this.repoName}}},{text:"releases",to:{name:"PipelineReleases",params:{repoSource:this.repoSource,repoOwner:this.repoOwner,repoName:this.repoName}}},{text:"..."}]}},created:function(){this.loadRelease()},methods:{loadRelease:function(){var e=this;this.axios.get("/api/pipelines/".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName,"/releases/").concat(this.releaseID)).then((function(t){e.release=t.data,"pending"!==e.release.releaseStatus&&"running"!==e.release.releaseStatus||e.loadPipeline(),e.breadcrumbs[e.breadcrumbs.length-1]={text:"".concat(e.release.releaseVersion," to ").concat(e.release.name)+(e.release.action?" (".concat(e.release.action,")"):""),to:{name:"PipelineReleaseLogs",params:{repoSource:e.repoSource,repoOwner:e.repoOwner,repoName:e.repoName,releaseID:e.releaseID}},active:!0},"succeeded"!==e.release.releaseStatus&&"failed"!==e.release.releaseStatus?e.periodicallyRefreshRelease(5):e.periodicallyRefreshRelease(15)})).catch((function(t){e.periodicallyRefreshRelease(30)}))},loadPipeline:function(){var e=this;this.axios.get("/api/pipelines/".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName)).then((function(t){e.pipeline=t.data})).catch((function(e){console.warn(e)}))},periodicallyRefreshRelease:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadRelease,r))},sortLabels:function(e){return e?e.slice().sort((function(e,t){return e.key>t.key})):e}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?O(Object(i),!0).forEach((function(t){C(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):O(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},(0,s.rn)("user",{user:"me"})),beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},T=(0,_.Z)(P,r,[],!1,null,null,null);T.options.__file="src/views/PipelineReleaseDetails.vue";var j=T.exports},6684:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"col-12 text-center"},[i("log-navigation",{attrs:{"log-url":"/api/pipelines/"+this.repoSource+"/"+this.repoOwner+"/"+this.repoName+"/releases/"+this.releaseID+"/alllogs",status:this.release.releaseStatus,logid:e.logid}})],1),e._v(" "),e.logid?i("log-viewer",{attrs:{"log-url":"/api/pipelines/"+this.repoSource+"/"+this.repoOwner+"/"+this.repoName+"/releases/"+this.releaseID+"/logsbyid/"+this.logid,status:this.release.releaseStatus,"allow-tail":!1}}):"pending"===e.release.releaseStatus||"running"===e.release.releaseStatus||"canceling"===e.release.releaseStatus?i("log-viewer",{attrs:{"log-url":"/api/pipelines/"+this.repoSource+"/"+this.repoOwner+"/"+this.repoName+"/releases/"+this.releaseID+"/logs",status:this.release.releaseStatus,"allow-tail":!0}}):e._e()],1)};r._withStripped=!0;var s=i(2901),n=i(2146),a={components:{LogNavigation:s.Z,LogViewer:n.Z},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null},releaseID:{type:String,default:null},logid:{type:String,default:null},release:{type:Object,default:null}}},o=(0,i(1900).Z)(a,r,[],!1,null,null,null);o.options.__file="src/views/PipelineReleaseLogs.vue";var l=o.exports},5529:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return P}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"m-3"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-lg-3"},[i("release-target-selector",{attrs:{model:e.filter.target,"on-change":e.setTarget,pipeline:e.pipeline}})],1),e._v(" "),i("div",{staticClass:"col-7 col-lg-6 text-lg-center"},[i("status-filter",{attrs:{filter:e.filter}})],1),e._v(" "),i("div",{staticClass:"col-5 col-lg-3"},[i("pagination-compact",{staticClass:"float-right",attrs:{pagination:e.pagination,"link-generator":e.paginationLinkGenerator}})],1)]),e._v(" "),i("div",{staticClass:"row-header"},[i("div",{staticClass:"col-2"},[e._v("\n      Target\n    ")]),e._v(" "),i("div",{staticClass:"col-2"},[e._v("\n      Version\n    ")]),e._v(" "),i("div",{staticClass:"col-2"},[e._v("\n      Status\n    ")]),e._v(" "),i("div",{staticClass:"col-2"},[e._v("\n      Released\n    ")]),e._v(" "),i("div",{staticClass:"col-2"},[e._v("\n      Triggered by\n    ")]),e._v(" "),e.user&&e.user.active?i("div",{staticClass:"col-2"},[e._v("\n      Actions\n    ")]):e._e()]),e._v(" "),e.releases.length>0?i("transition-group",{attrs:{name:"list-complete",tag:"div"}},e._l(e.releases,(function(t){return i("release-row",{key:t.id,attrs:{release:t,pipeline:e.pipeline}})})),1):e.loaded?i("div",{staticClass:"alert alert-warning text-center p-5"},[e._v("\n    There are no releases for the current filters. Please change your filters!\n  ")]):i("div",[i("spinner",{attrs:{color:"primary"}})],1),e._v(" "),e.releases.length>0?i("pagination",{attrs:{pagination:e.pagination,"link-generator":e.paginationLinkGenerator}}):e._e()],1)};r._withStripped=!0;var s=i(629),n=i(7817),a=i(9090),o=i(1826),l=i(9818),c=i(2352),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-input-group",{staticClass:"mb-3"},[i("b-input-group-prepend",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{"is-text":"",title:"Filter pipelines based on when they're last built or released"}},[i("font-awesome-icon",{attrs:{icon:"upload"}})],1),e._v(" "),i("b-form-select",{attrs:{options:e.releaseTargetOptions},on:{change:e.onChange},model:{value:e.mutableModel,callback:function(t){e.mutableModel=t},expression:"mutableModel"}})],1)};u._withStripped=!0;var p=i(5343),d=i(6127),f=i(7754),h=i(8947),m=i(1436),b=i(7810);h.vI.add(m.cf$);var g={components:{BFormSelect:p.K,BInputGroup:d.w,BInputGroupPrepend:f.P,FontAwesomeIcon:b.GN},props:{model:{type:String,default:null},onChange:{type:Function,default:null},pipeline:{type:Object,default:null}},data:function(){return{mutableModel:this.model}},computed:{releaseTargetOptions:function(){var e=[{value:"all",text:"All release targets"}];return this.pipeline&&this.pipeline.releaseTargets&&this.pipeline.releaseTargets.forEach((function(t){e.push({value:t.name,text:t.name})})),e}}},v=i(1900),y=(0,v.Z)(g,u,[],!1,null,null,null);y.options.__file="src/components/ReleaseTargetSelector.vue";var _=y.exports;function w(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function x(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?w(Object(i),!0).forEach((function(t){S(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function S(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var O={components:{Spinner:n.Z,Pagination:a.Z,StatusFilter:o.Z,ReleaseRow:l.Z,PaginationCompact:c.Z,ReleaseTargetSelector:_},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null},query:{type:Object,default:null},pipeline:{type:Object,default:null}},data:function(){return{releases:[],pagination:{page:1,size:10,totalPages:0,totalItems:0},filter:{status:"all",target:"all"},loaded:!1,refresh:!0}},created:function(){this.filterDefaults=x({},this.filter),this.setDataFromQueryParams(this.query),this.$router.replace({query:this.getQueryParams()}).catch((function(){})),this.loadReleases()},methods:{paginationLinkGenerator:function(e){var t=this.getQueryParams();return e>0?t.page=e:t.page&&delete t.page,{query:t}},getQueryParams:function(){var e=x({},this.$route.query);return this.filter&&this.filter.status&&""!==this.filter.status?e.status=this.filter.status:e.status&&delete e.status,this.filter&&this.filter.target&&""!==this.filter.target?e.target=this.filter.target:e.target&&delete e.target,this.pagination&&this.pagination.page&&this.pagination.page>0?e.page=this.pagination.page:e.page&&delete e.page,e},setDataFromQueryParams:function(e){this.pagination.page=e&&e.page?Number.parseInt(e.page,10):1,this.filter.status=e&&e.status?e.status:this.filterDefaults.status,this.filter.target=e&&e.target?e.target:this.filterDefaults.target},updateQueryParams:function(){this.$router.push({query:this.getQueryParams()})},loadReleases:function(){var e=this,t="filter[status]=".concat(this.filter.status);"running"===this.filter.status&&(t+="&filter[status]=pending&filter[status]=canceling");var i="filter[target]=".concat(this.filter.target);this.axios.get("/api/pipelines/".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName,"/releases?").concat(t,"&").concat(i,"&page[number]=").concat(this.pagination.page,"&page[size]=").concat(this.pagination.size)).then((function(t){e.releases=t.data.items,e.pagination=t.data.pagination,e.loaded=!0})).catch((function(t){e.periodicallyRefreshRelease(15)}))},periodicallyRefreshRelease:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,r=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadReleases,r))},setTarget:function(e){this.filter.target=e,this.updateQueryParams()}},computed:x({},(0,s.rn)("user",{user:"me"})),watch:{$route:function(e,t){this.setDataFromQueryParams(e.query),this.loadReleases()},pipeline:{handler:function(e,t){this.loadReleases()},deep:!0}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},C=(0,v.Z)(O,r,[],!1,null,"36b13f48",null);C.options.__file="src/views/PipelineReleases.vue";var P=C.exports},2492:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return h}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b-form",{staticClass:"rounded border bg-white p-3",attrs:{autocomplete:"off"},on:{submit:e.onSubmit}},[i("b-form-group",{attrs:{description:"Required for use as a Kubernetes secret."}},[i("b-form-checkbox",{attrs:{id:"base64"},model:{value:e.form.base64,callback:function(t){e.$set(e.form,"base64",t)},expression:"form.base64"}},[e._v("\n        Base64 encode\n      ")])],1),e._v(" "),e.showDoubleEncrypt?i("b-form-group",{attrs:{description:"To encrypt the secret envelope a second time for injecting it into Estafette's configmap."}},[i("b-form-checkbox",{attrs:{id:"double"},model:{value:e.form.double,callback:function(t){e.$set(e.form,"double",t)},expression:"form.double"}},[e._v("\n        Double encrypt\n      ")])],1):e._e(),e._v(" "),i("b-form-group",{attrs:{label:"Pipeline restriction regex","label-for":"pipelineAllowList",description:"The pipeline to restrict decryption of the secret for."}},[i("b-form-input",{attrs:{id:"pipelineAllowList",readonly:e.pipelineAllowListReadonly,type:"text"},model:{value:e.form.pipelineAllowList,callback:function(t){e.$set(e.form,"pipelineAllowList",t)},expression:"form.pipelineAllowList"}})],1),e._v(" "),i("b-form-group",{attrs:{label:"Value to encrypt","label-for":"value",description:"The encrypted secret works only for this Estafette CI installation. Try to avoid newlines, this can cause errors during pipeline execution."}},[i("b-form-textarea",{staticClass:"border bg-light",attrs:{id:"value",placeholder:"Paste your value to be encrypted",rows:5},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1),e._v(" "),i("b-button",{staticClass:"mt-3",attrs:{type:"submit",variant:"primary"}},[e._v("\n      Encrypt\n    ")])],1),e._v(" "),e.encrypting?i("div",[i("spinner",{attrs:{color:"secondary"}})],1):e._e(),e._v(" "),e.secret?i("div",{staticClass:"mt-4"},[i("h5",[e._v("Use this in your manifest to hide secrets in plain sight!")]),e._v(" "),i("div",{staticClass:"pre-wrapper"},[i("pre",{staticClass:"bg-light p-3"},[i("code",[e._v(e._s(e.secret))])]),e._v(" "),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.click",modifiers:{click:!0}}],staticClass:"btn-clipboard",attrs:{title:"Copied!"},on:{click:e.copy}},[e._v("\n        Copy\n      ")])],1)]):e._e()],1)};r._withStripped=!0;var s=i(7817),n=i(4909),a=i(4951),o=i(2183),l=i(5302),c=i(4058),u=i(5193),p=i(8365),d={components:{spinner:s.Z,BForm:n.e,BFormCheckbox:a.l,BFormInput:o.e,BFormTextarea:l.y,BFormGroup:c.x,BButton:u.T},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null},pipeline:{type:Object,default:null}},directives:{BTooltip:p.T},data:function(){return{form:{base64:!1,double:!1,pipelineAllowList:null!==this.repoSource&&null!==this.repoOwner&&null!==this.repoName?"".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName):".*",value:null},pipelineAllowListReadonly:"AdminSecretEncrypter"!==this.$route.name,showDoubleEncrypt:"AdminSecretEncrypter"===this.$route.name,encrypting:!1,secret:null}},methods:{onSubmit:function(e){var t=this;e.preventDefault(),this.encrypting=!0,this.axios.post("/api/manifest/encrypt",this.form).then((function(e){t.encrypting=!1,t.secret=e.data.secret,window.scrollTo(0,document.body.scrollHeight)})).catch((function(e){t.encrypting=!1,console.warn(e)}))},copy:function(){var e=document.createElement("textarea");e.value=this.secret,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}},f=(0,i(1900).Z)(d,r,[],!1,null,"d52aaa12",null);f.options.__file="src/views/PipelineSecrets.vue";var h=f.exports},3840:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return c}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"m-3"},[i("div",{staticClass:"container-fluid text-center p-5"},[i("div",{staticClass:"row d-flex justify-content-center"},[i("div",{class:["rounded border border-warning m-3 p-4 d-inline-flex align-items-center trigger-block bg-white"]},[i("div",[i("h6",[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"code-branch"}}),e._v(" "),i("a",{staticClass:"text-body",attrs:{href:"https://"+e.pipeline.repoSource+"/"+e.pipeline.repoOwner+"/"+e.pipeline.repoName,target:"_blank"},on:{click:function(e){e.stopPropagation()}}},[e._v("\n              "+e._s(e.pipeline.repoSource)+"/"+e._s(e.pipeline.repoOwner)+"/"+e._s(e.pipeline.repoName)+" *\n            ")])],1),e._v(" "),e._m(0),e._v(" "),e._m(1)])]),e._v(" "),e._l(e.pipeline.triggers,(function(t,r){return i("div",{key:r,class:["rounded border border-warning m-3 p-4 d-inline-flex align-items-center trigger-block bg-white"]},[t.pipeline?i("div",[i("h6",[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"tools"}}),e._v("\n            "+e._s(t.pipeline.name)+"\n          ")],1),e._v(" "),i("span",{staticClass:"btn btn-light btn-sm mr-1"},[e._v("\n            branch\n            "),i("span",{staticClass:"badge badge-warning"},[e._v("\n              "+e._s(t.pipeline.branch)+"\n            ")])]),e._v(" "),i("span",{staticClass:"btn btn-light btn-sm mr-1"},[e._v("\n            event\n            "),i("span",{staticClass:"badge badge-warning"},[e._v("\n              "+e._s(t.pipeline.event)+"\n            ")])]),e._v(" "),i("span",{staticClass:"btn btn-light btn-sm mr-1"},[e._v("\n            status\n            "),i("span",{staticClass:"badge badge-warning"},[e._v("\n              "+e._s(t.pipeline.status)+"\n            ")])])]):e._e(),e._v(" "),t.release?i("div",[i("h6",[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"upload"}}),e._v("\n            "+e._s(t.release.name)+"\n          ")],1),e._v(" "),i("span",{staticClass:"btn btn-light btn-sm mr-1"},[e._v("\n            target\n            "),i("span",{staticClass:"badge badge-warning"},[e._v("\n              "+e._s(t.release.target)+"\n            ")])]),e._v(" "),i("span",{staticClass:"btn btn-light btn-sm mr-1"},[e._v("\n            event\n            "),i("span",{staticClass:"badge badge-warning"},[e._v("\n              "+e._s(t.release.event)+"\n            ")])]),e._v(" "),i("span",{staticClass:"btn btn-light btn-sm mr-1"},[e._v("\n            status\n            "),i("span",{staticClass:"badge badge-warning"},[e._v("\n              "+e._s(t.release.status)+"\n            ")])])]):e._e(),e._v(" "),t.git?i("div",[i("h6",[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"code-branch"}}),e._v(" "),i("a",{staticClass:"text-body",attrs:{href:"https://"+t.git.repository,target:"_blank"},on:{click:function(e){e.stopPropagation()}}},[e._v("\n              "+e._s(t.git.repository)+"\n            ")])],1)]):e._e(),e._v(" "),t.pubsub?i("div",[i("h6",[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"bezier-curve"}}),e._v("\n            projects/"+e._s(t.pubsub.project)+"/topics/"+e._s(t.pubsub.topic)+"\n          ")],1)]):e._e(),e._v(" "),t.docker?i("div"):e._e(),e._v(" "),t.cron?i("div",[i("h6",[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"clock"}}),e._v("\n            "+e._s(t.cron.schedule)+"\n          ")],1)]):e._e()])}))],2),e._v(" "),i("div",{staticClass:"row d-flex justify-content-center"},[i("div",{class:["rounded border border-primary m-3 p-5 d-inline-flex align-items-center pipeline-block bg-white"]},[i("div",[i("h6",[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"industry"}}),e._v("\n            "+e._s(e.pipeline.repoSource)+"/"+e._s(e.pipeline.repoOwner)+"/"+e._s(e.pipeline.repoName)+"\n          ")],1)])])]),e._v(" "),e._m(2)])])};r._withStripped=!0;var s=i(8947),n=i(1436),a=i(7810);s.vI.add(n.o4t,n.CgH,n.cf$,n.m08,n.SZw,n.mh3,n.jPh,n.izv);var o={components:{FontAwesomeIcon:a.GN},props:{pipeline:{type:Object,default:null}}},l=(0,i(1900).Z)(o,r,[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"btn btn-light btn-sm mr-1"},[e._v("\n            event\n            "),i("span",{staticClass:"badge badge-warning"},[e._v("\n              push\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"btn btn-light btn-sm mr-1"},[e._v("\n            branch\n            "),i("span",{staticClass:"badge badge-warning"},[e._v("\n              any\n            ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"alert alert-light text-center m-5 p-4"},[i("div",[e._v("\n        * pipelines automatically trigger on git push; if you want to trigger on other events have a look at the "),i("a",{attrs:{href:"https://estafette.io/usage/manifest/#triggers",target:"_blank"}},[e._v("\n          documentation\n        ")]),e._v(" on how to start using triggers.\n      ")])])}],!1,null,"7b860f92",null);l.options.__file="src/views/PipelineTriggers.vue";var c=l.exports},8152:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return l}});var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("section-header"),e._v(" "),i("inner-navigation-tabs",{attrs:{"section-route-name":"Pipelines"}}),e._v(" "),i("router-view")],1)};r._withStripped=!0;var s=i(7777),n=i(9708),a={components:{SectionHeader:s.Z,InnerNavigationTabs:n.Z}},o=(0,i(1900).Z)(a,r,[],!1,null,null,null);o.options.__file="src/views/Pipelines.vue";var l=o.exports}}]);