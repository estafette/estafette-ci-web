(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"0Prl":function(t,e,n){},"0QF3":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Create new client")]),t._v(" "),n("b-form-group",{attrs:{id:"name-group",label:"Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name for the client"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"roles-group",label:"Roles:","label-for":"roles"}},[n("b-form-tags",{attrs:{"input-id":"roles","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,o=e.inputHandlers,s=e.disabled,r=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:s,variant:"info"},on:{remove:function(t){return r(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:s||0===t.availableRoles.length,options:t.availableRoles},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                Choose a role...\n              ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),o))]}}]),model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("\n      Create\n    ")]),t._v(" "),n("b-button",{attrs:{variant:"danger",to:{name:"AdminClients"}}},[t._v("\n      Cancel\n    ")])],1)],1)};a._withStripped=!0;var i=n("Ed67"),o=n("giZP"),s=n("R5cT"),r=n("oXok"),l=n("F0nd"),u=n("g2Gq"),c=n("GUe+"),m={components:{BForm:i.a,BFormGroup:o.a,BFormInput:s.a,BFormTags:r.a,BFormTag:l.a,BFormSelect:u.a,BButton:c.a},data:function(){return{roles:[],form:{name:"",roles:[]}}},created:function(){this.loadRoles()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.axios.post("/api/clients",this.form).then((function(t){e.$router.push({name:"AdminClients"})})).catch((function(t){console.warn(t)}))}},computed:{availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))}}},d=n("KHd+"),f=Object(d.a)(m,a,[],!1,null,null,null);f.options.__file="src/views/AdminClientCreate.vue";e.default=f.exports},AkVi:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Update user")]),t._v(" "),n("b-form-group",{attrs:{id:"name-user",label:"Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name for the user"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"roles-group",label:"Roles:","label-for":"roles"}},[n("b-form-tags",{attrs:{"input-id":"roles","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,o=e.inputHandlers,s=e.disabled,r=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:s,variant:"info"},on:{remove:function(t){return r(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:s||0===t.availableRoles.length,options:t.availableRoles},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                Choose a role...\n              ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),o))]}}]),model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"groups-group",label:"Groups:","label-for":"groups"}},[n("b-form-tags",{attrs:{"input-id":"groups","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,o=e.inputHandlers,s=e.disabled,r=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:s,variant:"warning"},on:{remove:function(t){return r(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:s||0===t.availableGroups.length,options:t.availableGroups},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                Choose a group...\n              ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),o))]}}]),model:{value:t.selectedGroups,callback:function(e){t.selectedGroups=e},expression:"selectedGroups"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"organizations-group",label:"Organizations:","label-for":"organizations"}},[n("b-form-tags",{attrs:{"input-id":"organizations","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,o=e.inputHandlers,s=e.disabled,r=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:s,variant:"success"},on:{remove:function(t){return r(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:s||0===t.availableOrganizations.length,options:t.availableOrganizations},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                Choose an organization...\n              ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),o))]}}]),model:{value:t.selectedOrganizations,callback:function(e){t.selectedOrganizations=e},expression:"selectedOrganizations"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("\n      Update\n    ")]),t._v(" "),n("b-button",{attrs:{variant:"danger",to:{name:"AdminUsers"}}},[t._v("\n      Cancel\n    ")])],1)],1)};a._withStripped=!0;var i=n("Ed67"),o=n("giZP"),s=n("R5cT"),r=n("oXok"),l=n("F0nd"),u=n("g2Gq"),c=n("GUe+"),m={components:{BForm:i.a,BFormGroup:o.a,BFormInput:s.a,BFormTags:r.a,BFormTag:l.a,BFormSelect:u.a,BButton:c.a},props:{id:{type:String,default:null}},data:function(){return{roles:[],organizations:[],groups:[],form:{name:"",roles:[]},selectedGroups:[],selectedOrganizations:[]}},created:function(){this.loadRoles(),this.loadGroups(),this.loadOrganizations(),this.loadForm()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data})).catch((function(t){console.warn(t)}))},loadGroups:function(){var t=this;this.axios.get("/api/groups?page[number]=1&page[size]=100").then((function(e){t.groups=e.data.items})).catch((function(t){console.warn(t)}))},loadOrganizations:function(){var t=this;this.axios.get("/api/organizations?page[number]=1&page[size]=100").then((function(e){t.organizations=e.data.items})).catch((function(t){console.warn(t)}))},loadForm:function(){var t=this;this.axios.get("/api/users/".concat(this.id),this.form).then((function(e){t.form=e.data,t.form&&t.form.groups&&(t.selectedGroups=t.form.groups.map((function(t){return t.name}))),t.form&&t.form.organizations&&(t.selectedOrganizations=t.form.organizations.map((function(t){return t.name})))})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.selectedGroups.length>0?this.form.groups=this.groups.filter((function(t){return-1!==e.selectedGroups.indexOf(t.name)})).map((function(t){return{id:t.id,name:t.name}})):this.form.groups=[],this.selectedOrganizations.length>0?this.form.organizations=this.organizations.filter((function(t){return-1!==e.selectedOrganizations.indexOf(t.name)})).map((function(t){return{id:t.id,name:t.name}})):this.form.organizations=[],this.axios.put("/api/users/".concat(this.id),this.form).then((function(t){e.$router.push({name:"AdminUsers"})})).catch((function(t){console.warn(t)}))}},computed:{availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))},availableGroups:function(){var t=this;return this.groups.map((function(t){return t.name})).filter((function(e){return!t.form||!t.selectedGroups||-1===t.selectedGroups.indexOf(e)}))},availableOrganizations:function(){var t=this;return this.organizations.map((function(t){return t.name})).filter((function(e){return!t.form||!t.selectedOrganizations||-1===t.selectedOrganizations.indexOf(e)}))}}},d=n("KHd+"),f=Object(d.a)(m,a,[],!1,null,null,null);f.options.__file="src/views/AdminUserUpdate.vue";e.default=f.exports},F5n6:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.linkGenerator?n("b-pagination-nav",{attrs:{"number-of-pages":t.pagination.totalPages>0?t.pagination.totalPages:1,"link-gen":t.linkGenerator,"use-router":"",size:"md","hide-goto-end-buttons":"",align:"center"}}):n("b-pagination",{attrs:{"total-rows":t.pagination.totalItems,"per-page":t.pagination.size,size:"md","hide-goto-end-buttons":"",align:"center"},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1)};a._withStripped=!0;var i=n("N1fq"),o=n("JtJI"),s={components:{BPaginationNav:i.a,BPagination:o.a},props:{pagination:{type:Object,default:null},linkGenerator:{type:Function,default:null}}},r=n("KHd+"),l=Object(r.a)(s,a,[],!1,null,null,null);l.options.__file="src/components/Pagination.vue";e.a=l.exports},"GaE+":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Update client")]),t._v(" "),n("b-form-group",{attrs:{id:"name-group",label:"Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name for the client"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"roles-group",label:"Roles:","label-for":"roles"}},[n("b-form-tags",{attrs:{"input-id":"roles","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,o=e.inputHandlers,s=e.disabled,r=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:s,variant:"info"},on:{remove:function(t){return r(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:s||0===t.availableRoles.length,options:t.availableRoles},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                Choose a role...\n              ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),o))]}}]),model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("\n      Update\n    ")]),t._v(" "),n("b-button",{attrs:{variant:"danger",to:{name:"AdminClients"}}},[t._v("\n      Cancel\n    ")])],1)],1)};a._withStripped=!0;var i=n("Ed67"),o=n("giZP"),s=n("R5cT"),r=n("oXok"),l=n("F0nd"),u=n("g2Gq"),c=n("GUe+"),m={components:{BForm:i.a,BFormGroup:o.a,BFormInput:s.a,BFormTags:r.a,BFormTag:l.a,BFormSelect:u.a,BButton:c.a},props:{id:{type:String,default:null}},data:function(){return{roles:[],form:{name:"",roles:[]}}},created:function(){this.loadRoles(),this.loadForm()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data})).catch((function(t){console.warn(t)}))},loadForm:function(){var t=this;this.axios.get("/api/clients/".concat(this.id),this.form).then((function(e){t.form=e.data})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.axios.put("/api/clients/".concat(this.id),this.form).then((function(t){e.$router.push({name:"AdminClients"})})).catch((function(t){console.warn(t)}))}},computed:{availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))}}},d=n("KHd+"),f=Object(d.a)(m,a,[],!1,null,null,null);f.options.__file="src/views/AdminClientUpdate.vue";e.default=f.exports},KqDH:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row m-0"},[n("div",{staticClass:"col-6"},[n("b-button",{attrs:{to:{name:"AdminClientCreate"},variant:"primary"}},[t._v("\n        Create client\n      ")])],1),t._v(" "),n("div",{staticClass:"col-6 text-right"},[n("pagination-compact",{staticClass:"float-right",attrs:{pagination:t.pagination}})],1)]),t._v(" "),n("router-view"),t._v(" "),n("b-table",{attrs:{items:t.clientsProvider,fields:t.fields,"per-page":t.pagination.size,"current-page":t.pagination.page,"sort-icon-left":"","no-provider-sorting":"",striped:"",hover:"",borderless:"",stacked:"lg"},scopedSlots:t._u([{key:"cell(roles)",fn:function(e){return t._l(e.item.roles,(function(e){return n("b-badge",{key:e,staticClass:"mr-1",attrs:{variant:"info"}},[t._v("\n        "+t._s(e)+"\n      ")])}))}},{key:"cell(show_details)",fn:function(e){return[n("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:e.toggleDetails}},[t._v("\n        "+t._s(e.detailsShowing?"Hide":"Show")+" Details\n      ")]),t._v(" "),n("b-button",{staticClass:"mr-1",attrs:{size:"sm",to:{name:"AdminClientUpdate",params:{id:e.item.id}}}},[t._v("\n        Edit\n      ")])]}},{key:"row-details",fn:function(e){return[n("b-card",[n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("ID:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.id))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Active:")])]),t._v(" "),n("b-col",[t._v(t._s(!!e.item.active&&e.item.active))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Client ID:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.clientID))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Client secret:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.clientSecret))])],1)],1)]}}])}),t._v(" "),t.clients.length>0?n("pagination",{attrs:{pagination:t.pagination}}):t._e()],1)};a._withStripped=!0;var i=n("KaE5"),o=n("GUe+"),s=n("IF94"),r=n("oVt+"),l=n("sove"),u=n("6Ytq"),c=n("eU28"),m=n("F5n6"),d={components:{BTable:i.a,BButton:o.a,BCard:s.a,BRow:r.a,BCol:l.a,BBadge:u.a,PaginationCompact:c.a,Pagination:m.a},data:function(){return{clients:[],pagination:{page:1,size:100,totalPages:0,totalItems:0},fields:[{key:"name",sortable:!0},{key:"roles",sortable:!0},{key:"show_details"}]}},methods:{clientsProvider:function(t){var e=this;return this.axios.get("/api/clients?page[number]=".concat(t.currentPage,"&page[size]=").concat(t.perPage)).then((function(t){return e.clients=t.data.items,e.pagination=t.data.pagination,e.clients||[]}))}}},f=n("KHd+"),p=Object(f.a)(d,a,[],!1,null,null,null);p.options.__file="src/views/AdminClients.vue";e.default=p.exports},NW6Z:function(t,e,n){"use strict";var a=n("0Prl");n.n(a).a},YTVD:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row m-0"},[n("div",{staticClass:"col-12 text-right"},[n("pagination-compact",{staticClass:"float-right",attrs:{pagination:t.pagination}})],1)]),t._v(" "),n("b-table",{attrs:{items:t.usersProvider,fields:t.fields,"per-page":t.pagination.size,"current-page":t.pagination.page,"sort-icon-left":"","no-provider-sorting":"",striped:"",hover:"",borderless:"",stacked:"lg"},scopedSlots:t._u([{key:"cell(roles)",fn:function(e){return t._l(e.item.roles,(function(e){return n("b-badge",{key:e,staticClass:"mr-1",attrs:{variant:"info"}},[t._v("\n        "+t._s(e)+"\n      ")])}))}},{key:"cell(groups)",fn:function(e){return t._l(e.item.groups,(function(e){return n("b-badge",{key:e.name,staticClass:"mr-1",attrs:{variant:"warning"}},[t._v("\n        "+t._s(e.name)+"\n      ")])}))}},{key:"cell(organizations)",fn:function(e){return t._l(e.item.organizations,(function(e){return n("b-badge",{key:e.name,staticClass:"mr-1",attrs:{variant:"success"}},[t._v("\n        "+t._s(e.name)+"\n      ")])}))}},{key:"cell(show_details)",fn:function(e){return[n("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:e.toggleDetails}},[t._v("\n        "+t._s(e.detailsShowing?"Hide":"Show")+" Details\n      ")]),t._v(" "),n("b-button",{staticClass:"mr-1",attrs:{size:"sm",to:{name:"AdminUserUpdate",params:{id:e.item.id}}}},[t._v("\n        Edit\n      ")])]}},{key:"row-details",fn:function(e){return[n("b-card",[n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("ID:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.id))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Active:")])]),t._v(" "),n("b-col",[t._v(t._s(!!e.item.active&&e.item.active))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Identities:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.identities))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Organizations:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.organizations))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Groups:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.groups))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Preferences:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.preferences))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Current provider:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.currentProvider))])],1),t._v(" "),t.avatar(e.item)?n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Avatar:")])]),t._v(" "),n("b-col",[n("b-avatar",{staticClass:"mr-2",attrs:{src:t.avatar(e.item)}})],1)],1):t._e()],1)]}}])}),t._v(" "),t.users.length>0?n("pagination",{attrs:{pagination:t.pagination}}):t._e()],1)};a._withStripped=!0;var i=n("KaE5"),o=n("GUe+"),s=n("IF94"),r=n("oVt+"),l=n("sove"),u=n("6KOa"),c=n("6Ytq"),m=n("eU28"),d=n("F5n6"),f={components:{BTable:i.a,BButton:o.a,BCard:s.a,BRow:r.a,BCol:l.a,BAvatar:u.a,PaginationCompact:m.a,Pagination:d.a,BBadge:c.a},data:function(){var t=this;return{users:[],pagination:{page:1,size:100,totalPages:0,totalItems:0},fields:[{key:"name",sortable:!0},{key:"email",sortable:!0},{key:"roles",sortable:!0},{key:"groups",sortable:!0},{key:"organizations",sortable:!0},{key:"firstVisit",sortable:!0,formatter:function(e,n,a){return t.$options.filters.formatDatetime(e)}},{key:"lastVisit",sortable:!0,formatter:function(e,n,a){return t.$options.filters.formatDatetime(e)}},{key:"show_details"}]}},methods:{usersProvider:function(t){var e=this;return this.axios.get("/api/users?page[number]=".concat(t.currentPage,"&page[size]=").concat(t.perPage).concat("")).then((function(t){return e.users=t.data.items,e.pagination=t.data.pagination,e.users||[]}))},avatar:function(t){return t.identities&&t.identities.length>0&&t.identities[0].avatar?t.identities[0].avatar:void 0}}},p=n("KHd+"),g=Object(p.a)(f,a,[],!1,null,null,null);g.options.__file="src/views/AdminUsers.vue";e.default=g.exports},bDDd:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Update organization")]),t._v(" "),n("b-form-group",{attrs:{id:"name-group",label:"Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name for the organization"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"roles-group",label:"Roles:","label-for":"roles"}},[n("b-form-tags",{attrs:{"input-id":"roles","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,o=e.inputHandlers,s=e.disabled,r=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:s,variant:"info"},on:{remove:function(t){return r(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:s||0===t.availableRoles.length,options:t.availableRoles},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                Choose a role...\n              ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),o))]}}]),model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("\n      Update\n    ")]),t._v(" "),n("b-button",{attrs:{variant:"danger",to:{name:"AdminOrganizations"}}},[t._v("\n      Cancel\n    ")])],1)],1)};a._withStripped=!0;var i=n("Ed67"),o=n("giZP"),s=n("R5cT"),r=n("oXok"),l=n("F0nd"),u=n("g2Gq"),c=n("GUe+"),m={components:{BForm:i.a,BFormGroup:o.a,BFormInput:s.a,BFormTags:r.a,BFormTag:l.a,BFormSelect:u.a,BButton:c.a},props:{id:{type:String,default:null}},data:function(){return{roles:[],form:{name:"",roles:[]}}},created:function(){this.loadRoles(),this.loadForm()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data})).catch((function(t){console.warn(t)}))},loadForm:function(){var t=this;this.axios.get("/api/organizations/".concat(this.id),this.form).then((function(e){t.form=e.data})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.axios.put("/api/organizations/".concat(this.id),this.form).then((function(t){e.$router.push({name:"AdminOrganizations"})})).catch((function(t){console.warn(t)}))}},computed:{availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))}}},d=n("KHd+"),f=Object(d.a)(m,a,[],!1,null,null,null);f.options.__file="src/views/AdminOrganizationUpdate.vue";e.default=f.exports},eU28:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-3 compact-navigation"},[t.pagination.totalItems>0?n("span",{staticClass:"mr-2"},[t._v("\n    "+t._s(t.firstPageItem)+"-"+t._s(t.lastPageItem)+" of "+t._s(t.pagination.totalItems)+"\n  ")]):t._e(),t._v(" "),t.linkGenerator?n("b-pagination-nav",{staticClass:"d-inline-flex",attrs:{"number-of-pages":t.pagination.totalPages>0?t.pagination.totalPages:1,"link-gen":t.linkGenerator,"use-router":"",limit:"3",size:"md","hide-goto-end-buttons":"",align:"right"}}):n("b-pagination",{staticClass:"d-inline-flex",attrs:{"total-rows":t.pagination.totalItems,"per-page":t.pagination.size,limit:"3",size:"md","hide-goto-end-buttons":"",align:"right"},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1)};a._withStripped=!0;var i=n("N1fq"),o=n("JtJI"),s={components:{BPaginationNav:i.a,BPagination:o.a},props:{pagination:{type:Object,default:null},linkGenerator:{type:Function,default:null}},computed:{firstPageItem:function(){return 1+(this.pagination.page-1)*this.pagination.size},lastPageItem:function(){return this.pagination.page*this.pagination.size<this.pagination.totalItems?this.pagination.page*this.pagination.size:this.pagination.totalItems}}},r=(n("NW6Z"),n("KHd+")),l=Object(r.a)(s,a,[],!1,null,null,null);l.options.__file="src/components/PaginationCompact.vue";e.a=l.exports},h0kL:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row m-0"},[n("div",{staticClass:"col-6"},[n("b-button",{attrs:{to:{name:"AdminGroupCreate"},variant:"warning"}},[t._v("\n        Create group\n      ")])],1),t._v(" "),n("div",{staticClass:"col-6 text-right"},[n("pagination-compact",{staticClass:"float-right",attrs:{pagination:t.pagination}})],1)]),t._v(" "),n("router-view"),t._v(" "),n("b-table",{attrs:{items:t.groupsProvider,fields:t.fields,"per-page":t.pagination.size,"current-page":t.pagination.page,"sort-icon-left":"","no-provider-sorting":"",striped:"",hover:"",borderless:"",stacked:"lg"},scopedSlots:t._u([{key:"cell(roles)",fn:function(e){return t._l(e.item.roles,(function(e){return n("b-badge",{key:e,staticClass:"mr-1",attrs:{variant:"info"}},[t._v("\n        "+t._s(e)+"\n      ")])}))}},{key:"cell(organizations)",fn:function(e){return t._l(e.item.organizations,(function(e){return n("b-badge",{key:e.name,staticClass:"mr-1",attrs:{variant:"success"}},[t._v("\n        "+t._s(e.name)+"\n      ")])}))}},{key:"cell(show_details)",fn:function(e){return[n("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:e.toggleDetails}},[t._v("\n        "+t._s(e.detailsShowing?"Hide":"Show")+" Details\n      ")]),t._v(" "),n("b-button",{staticClass:"mr-1",attrs:{size:"sm",to:{name:"AdminGroupUpdate",params:{id:e.item.id}}}},[t._v("\n        Edit\n      ")])]}},{key:"row-details",fn:function(e){return[n("b-card",[n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("ID:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.id))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Identities:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.identities))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Members:")])]),t._v(" "),n("b-col",[n("admin-group-members",{attrs:{id:e.item.id}})],1)],1)],1)]}}])}),t._v(" "),t.groups.length>0?n("pagination",{attrs:{pagination:t.pagination}}):t._e()],1)};a._withStripped=!0;var i=n("KaE5"),o=n("GUe+"),s=n("IF94"),r=n("oVt+"),l=n("sove"),u=n("6Ytq"),c=n("eU28"),m=n("F5n6"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",t._l(t.members,(function(e){return n("li",{key:e.id},[t._v("\n    "+t._s(e.name)+" ("+t._s(e.email)+")\n  ")])})),0)};d._withStripped=!0;var f={props:{id:{type:String,default:null}},data:function(){return{members:[]}},created:function(){this.loadMembers()},methods:{loadMembers:function(){var t=this;return this.axios.get("/api/users?filter[group-id]=".concat(this.id,"&page[size]=100")).then((function(e){t.members=e.data.items})).catch((function(t){console.warn(t)}))}}},p=n("KHd+"),g=Object(p.a)(f,d,[],!1,null,null,null);g.options.__file="src/components/AdminGroupMembers.vue";var b=g.exports,v={components:{BTable:i.a,BButton:o.a,BCard:s.a,BRow:r.a,BCol:l.a,BBadge:u.a,PaginationCompact:c.a,Pagination:m.a,AdminGroupMembers:b},data:function(){return{groups:[],pagination:{page:1,size:100,totalPages:0,totalItems:0},fields:[{key:"name",sortable:!0},{key:"roles",sortable:!0},{key:"organizations",sortable:!0},{key:"show_details"}]}},methods:{groupsProvider:function(t){var e=this;return this.axios.get("/api/groups?page[number]=".concat(t.currentPage,"&page[size]=").concat(t.perPage)).then((function(t){return e.groups=t.data.items,e.pagination=t.data.pagination,e.groups||[]}))}}},_=Object(p.a)(v,a,[],!1,null,null,null);_.options.__file="src/views/AdminGroups.vue";e.default=_.exports},"i/Bd":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Create new organization")]),t._v(" "),n("b-form-group",{attrs:{id:"name-group",label:"Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name for the organization"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"roles-group",label:"Roles:","label-for":"roles"}},[n("b-form-tags",{attrs:{"input-id":"roles","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,o=e.inputHandlers,s=e.disabled,r=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:s,variant:"info"},on:{remove:function(t){return r(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:s||0===t.availableRoles.length,options:t.availableRoles},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                Choose a role...\n              ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),o))]}}]),model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("\n      Create\n    ")]),t._v(" "),n("b-button",{attrs:{variant:"danger",to:{name:"AdminOrganizations"}}},[t._v("\n      Cancel\n    ")])],1)],1)};a._withStripped=!0;var i=n("Ed67"),o=n("giZP"),s=n("R5cT"),r=n("oXok"),l=n("F0nd"),u=n("g2Gq"),c=n("GUe+"),m={components:{BForm:i.a,BFormGroup:o.a,BFormInput:s.a,BFormTags:r.a,BFormTag:l.a,BFormSelect:u.a,BButton:c.a},data:function(){return{roles:[],form:{name:"",roles:[]}}},created:function(){this.loadRoles()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.axios.post("/api/organizations",this.form).then((function(t){e.$router.push({name:"AdminOrganizations"})})).catch((function(t){console.warn(t)}))}},computed:{availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))}}},d=n("KHd+"),f=Object(d.a)(m,a,[],!1,null,null,null);f.options.__file="src/views/AdminOrganizationCreate.vue";e.default=f.exports},iUgf:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Create new group")]),t._v(" "),n("b-form-group",{attrs:{id:"name-group",label:"Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name for the group"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"roles-group",label:"Roles:","label-for":"roles"}},[n("b-form-tags",{attrs:{"input-id":"roles","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,o=e.inputHandlers,s=e.disabled,r=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:s,variant:"info"},on:{remove:function(t){return r(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:s||0===t.availableRoles.length,options:t.availableRoles},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                Choose a role...\n              ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),o))]}}]),model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"organizations-group",label:"Organizations:","label-for":"organizations"}},[n("b-form-tags",{attrs:{"input-id":"organizations","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,o=e.inputHandlers,s=e.disabled,r=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:s,variant:"success"},on:{remove:function(t){return r(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:s||0===t.availableOrganizations.length,options:t.availableOrganizations},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                Choose an organization...\n              ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),o))]}}]),model:{value:t.selectedOrganizations,callback:function(e){t.selectedOrganizations=e},expression:"selectedOrganizations"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("\n      Create\n    ")]),t._v(" "),n("b-button",{attrs:{variant:"danger",to:{name:"AdminGroups"}}},[t._v("\n      Cancel\n    ")])],1)],1)};a._withStripped=!0;var i=n("Ed67"),o=n("giZP"),s=n("R5cT"),r=n("oXok"),l=n("F0nd"),u=n("g2Gq"),c=n("GUe+"),m={components:{BForm:i.a,BFormGroup:o.a,BFormInput:s.a,BFormTags:r.a,BFormTag:l.a,BFormSelect:u.a,BButton:c.a},data:function(){return{roles:[],organizations:[],form:{name:"",roles:[]},selectedOrganizations:[]}},created:function(){this.loadRoles(),this.loadOrganizations()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data})).catch((function(t){console.warn(t)}))},loadOrganizations:function(){var t=this;this.axios.get("/api/organizations?page[number]=1&page[size]=100").then((function(e){t.organizations=e.data.items})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.selectedOrganizations.length>0?this.form.organizations=this.organizations.filter((function(t){return-1!==e.selectedOrganizations.indexOf(t.name)})).map((function(t){return{id:t.id,name:t.name}})):this.form.organizations=[],this.axios.post("/api/groups",this.form).then((function(t){e.$router.push({name:"AdminGroups"})})).catch((function(t){console.warn(t)}))}},computed:{availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))},availableOrganizations:function(){var t=this;return this.organizations.map((function(t){return t.name})).filter((function(e){return!t.form||!t.selectedOrganizations||-1===t.selectedOrganizations.indexOf(e)}))}}},d=n("KHd+"),f=Object(d.a)(m,a,[],!1,null,null,null);f.options.__file="src/views/AdminGroupCreate.vue";e.default=f.exports},nyiG:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row m-0"},[n("div",{staticClass:"col-6"},[n("b-button",{attrs:{to:{name:"AdminOrganizationCreate"},variant:"success"}},[t._v("\n        Create organization\n      ")])],1),t._v(" "),n("div",{staticClass:"col-6 text-right"},[n("pagination-compact",{staticClass:"float-right",attrs:{pagination:t.pagination}})],1)]),t._v(" "),n("router-view"),t._v(" "),n("b-table",{attrs:{items:t.organizationsProvider,fields:t.fields,"per-page":t.pagination.size,"current-page":t.pagination.page,"sort-icon-left":"","no-provider-sorting":"",striped:"",hover:"",borderless:"",stacked:"lg"},scopedSlots:t._u([{key:"cell(roles)",fn:function(e){return t._l(e.item.roles,(function(e){return n("b-badge",{key:e,staticClass:"mr-1",attrs:{variant:"info"}},[t._v("\n        "+t._s(e)+"\n      ")])}))}},{key:"cell(show_details)",fn:function(e){return[n("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:e.toggleDetails}},[t._v("\n        "+t._s(e.detailsShowing?"Hide":"Show")+" Details\n      ")]),t._v(" "),n("b-button",{staticClass:"mr-1",attrs:{size:"sm",to:{name:"AdminOrganizationUpdate",params:{id:e.item.id}}}},[t._v("\n        Edit\n      ")])]}},{key:"row-details",fn:function(e){return[n("b-card",[n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("ID:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.id))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Identities:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.identities))])],1)],1)]}}])}),t._v(" "),t.organizations.length>0?n("pagination",{attrs:{pagination:t.pagination}}):t._e()],1)};a._withStripped=!0;var i=n("KaE5"),o=n("GUe+"),s=n("IF94"),r=n("oVt+"),l=n("sove"),u=n("6Ytq"),c=n("eU28"),m=n("F5n6"),d={components:{BTable:i.a,BButton:o.a,BCard:s.a,BRow:r.a,BCol:l.a,BBadge:u.a,PaginationCompact:c.a,Pagination:m.a},data:function(){return{organizations:[],pagination:{page:1,size:100,totalPages:0,totalItems:0},fields:[{key:"name",sortable:!0},{key:"roles",sortable:!0},{key:"show_details"}]}},methods:{organizationsProvider:function(t){var e=this;return this.axios.get("/api/organizations?page[number]=".concat(t.currentPage,"&page[size]=").concat(t.perPage)).then((function(t){return e.organizations=t.data.items,e.pagination=t.data.pagination,e.organizations||[]}))}}},f=n("KHd+"),p=Object(f.a)(d,a,[],!1,null,null,null);p.options.__file="src/views/AdminOrganizations.vue";e.default=p.exports},s3SF:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Update group")]),t._v(" "),n("b-form-group",{attrs:{id:"name-group",label:"Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name for the group"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"roles-group",label:"Roles:","label-for":"roles"}},[n("b-form-tags",{attrs:{"input-id":"roles","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,o=e.inputHandlers,s=e.disabled,r=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:s,variant:"info"},on:{remove:function(t){return r(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:s||0===t.availableRoles.length,options:t.availableRoles},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                Choose a role...\n              ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),o))]}}]),model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"organizations-group",label:"Organizations:","label-for":"organizations"}},[n("b-form-tags",{attrs:{"input-id":"organizations","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.tags,i=e.inputAttrs,o=e.inputHandlers,s=e.disabled,r=e.removeTag;return[a.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(a,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:s,variant:"success"},on:{remove:function(t){return r(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:s||0===t.availableOrganizations.length,options:t.availableOrganizations},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                Choose an organization...\n              ")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),o))]}}]),model:{value:t.selectedOrganizations,callback:function(e){t.selectedOrganizations=e},expression:"selectedOrganizations"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("\n      Update\n    ")]),t._v(" "),n("b-button",{attrs:{variant:"danger",to:{name:"AdminGroups"}}},[t._v("\n      Cancel\n    ")])],1)],1)};a._withStripped=!0;var i=n("Ed67"),o=n("giZP"),s=n("R5cT"),r=n("oXok"),l=n("F0nd"),u=n("g2Gq"),c=n("GUe+"),m={components:{BForm:i.a,BFormGroup:o.a,BFormInput:s.a,BFormTags:r.a,BFormTag:l.a,BFormSelect:u.a,BButton:c.a},props:{id:{type:String,default:null}},data:function(){return{roles:[],organizations:[],form:{name:"",roles:[]},selectedOrganizations:[]}},created:function(){this.loadRoles(),this.loadOrganizations(),this.loadForm()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data})).catch((function(t){console.warn(t)}))},loadOrganizations:function(){var t=this;this.axios.get("/api/organizations?page[number]=1&page[size]=100").then((function(e){t.organizations=e.data.items})).catch((function(t){console.warn(t)}))},loadForm:function(){var t=this;this.axios.get("/api/groups/".concat(this.id),this.form).then((function(e){t.form=e.data,t.form&&t.form.organizations&&(t.selectedOrganizations=t.form.organizations.map((function(t){return t.name})))})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.selectedOrganizations.length>0?this.form.organizations=this.organizations.filter((function(t){return-1!==e.selectedOrganizations.indexOf(t.name)})).map((function(t){return{id:t.id,name:t.name}})):this.form.organizations=[],this.axios.put("/api/groups/".concat(this.id),this.form).then((function(t){e.$router.push({name:"AdminGroups"})})).catch((function(t){console.warn(t)}))}},computed:{availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))},availableOrganizations:function(){var t=this;return this.organizations.map((function(t){return t.name})).filter((function(e){return!t.form||!t.selectedOrganizations||-1===t.selectedOrganizations.indexOf(e)}))}}},d=n("KHd+"),f=Object(d.a)(m,a,[],!1,null,null,null);f.options.__file="src/views/AdminGroupUpdate.vue";e.default=f.exports}}]);