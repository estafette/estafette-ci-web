(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"+jG/":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{attrs:{title:e.repo.repoSource+"/"+e.repo.repoOwner+"/"+e.repo.repoName}},[i("span",{staticClass:"repo-source-and-owner"},[e._v(e._s(e.repo.repoSource)+"/"+e._s(e.repo.repoOwner)+"/")]),i("strong",[e._v(e._s(e.repo.repoName))])])};s._withStripped=!0;var n={props:{repo:{type:Object,default:null}}},a=i("KHd+"),r=Object(a.a)(n,s,[],!1,null,null,null);r.options.__file="src/components/RepositoryTitle.vue";t.a=r.exports},"0Prl":function(e,t,i){},"10Jb":function(e,t,i){"use strict";function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t.a={methods:{queryGenerator:function(e){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),n.forEach((function(t){s(e,t,i[t])}))}return e}({},this.$route.query,e)}}}},"14Sm":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b-form-group",{staticClass:"m-3",attrs:{description:"Estafette uses a lot of sane defaults to keep your manifest small and readable."}},[i("b-form-checkbox",{model:{value:e.showDefaults,callback:function(t){e.showDefaults=t},expression:"showDefaults"}},[e._v("\n      Show defaults\n    ")])],1),e._v(" "),e.showDefaults?i("pre",{staticClass:"bg-light m-3 p-3"},[e._v(e._s(e.build.manifestWithDefaults))]):i("pre",{staticClass:"bg-light m-3 p-3"},[e._v(e._s(e.build.manifest))])],1)};s._withStripped=!0;var n=i("w+YJ"),a=i("giZP"),r={components:{BFormCheckbox:n.a,BFormGroup:a.a},props:{build:{type:Object,default:null}},data:function(){return{showDefaults:!1}}},o=i("KHd+"),l=Object(o.a)(r,s,[],!1,null,null,null);l.options.__file="src/views/PipelineBuildManifest.vue";t.default=l.exports},"3/MV":function(e,t,i){"use strict";var s=function(){var e=this.$createElement;return(this._self._c||e)("a",{class:["text-body"],attrs:{href:this.commitURL(),target:"_blank"},on:{click:function(e){e.stopPropagation()}}},[this._v("\n  "+this._s(this._f("gitHash")(this.build.repoRevision))+"\n")])};s._withStripped=!0;var n={props:{build:{type:Object,default:null}},methods:{commitURL:function(){switch(this.build.repoSource){case"github.com":return"https://github.com/".concat(this.build.repoOwner,"/").concat(this.build.repoName,"/commit/").concat(this.build.repoRevision);case"bitbucket.org":return"https://bitbucket.org/".concat(this.build.repoOwner,"/").concat(this.build.repoName,"/commits/").concat(this.build.repoRevision)}return"#"}}},a=i("KHd+"),r=Object(a.a)(n,s,[],!1,null,null,null);r.options.__file="src/components/CommitLink.vue";t.a=r.exports},"32f3":function(e,t,i){"use strict";var s=i("qvBu");i.n(s).a},"4dYK":function(e,t,i){},"4eZq":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.matchingReleases.length>0?i("div",{class:["btn-light","btn btn-sm mr-1"]},[e._v("\n  "+e._s(e.releaseTarget.name)),e._l(e.matchingReleases,(function(t){return i("router-link",{key:t.id,staticClass:"badge ml-1 mb-1 d-block d-md-inline-block",class:e._f("bootstrapClass")(t.releaseStatus,"badge"),attrs:{to:{name:"PipelineReleaseLogs",params:{repoSource:t.repoSource,repoOwner:t.repoOwner,repoName:t.repoName,releaseID:t.id}},exact:"",tag:"span",title:t.action}},[t.action?i("span",[e._v("\n      "+e._s(t.action)+":\n    ")]):e._e(),e._v(e._s(t.releaseStatus)+"\n  ")])}))],2):e._e()};s._withStripped=!0;var n={props:{releaseTarget:{type:Object,default:null},build:{type:Object,default:null}},computed:{matchingReleases:function(){var e=this;return this.build&&this.build.buildStatus&&"succeeded"===this.build.buildStatus&&this.releaseTarget&&this.releaseTarget.activeReleases?this.releaseTarget.activeReleases.filter((function(t){return t.releaseVersion===e.build.buildVersion})):[]}}},a=i("KHd+"),r=Object(a.a)(n,s,[],!1,null,null,null);r.options.__file="src/components/ReleaseBadgeForBuild.vue";t.a=r.exports},"5t7D":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-button-group",{staticClass:"mb-3 bg-white"},[i("b-input-group-prepend",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{"is-text":"",title:"Filter pipelines based on it's build status"}},[i("font-awesome-icon",{attrs:{icon:"check-circle"}})],1),e._v(" "),i("b-button",{class:["all"===e.filter.status?"active":"border-btn-group"],attrs:{to:{query:e.queryGenerator({status:"all",page:1})},"active-class":"router-link-active",variant:"outline-primary",title:"All"},on:{click:function(e){return e.target.blur()}}},[i("font-awesome-icon",{staticClass:"d-md-none",attrs:{icon:"check-double"}}),e._v(" "),i("span",{staticClass:"d-none d-md-inline"},[e._v("\n      All\n    ")])],1),e._v(" "),i("b-button",{class:["succeeded"===e.filter.status?"active":"border-btn-group"],attrs:{to:{query:e.queryGenerator({status:"succeeded",page:1})},"active-class":"router-link-active",variant:"outline-success",title:"Succeeded"},on:{click:function(e){return e.target.blur()}}},[i("font-awesome-icon",{staticClass:"d-md-none",attrs:{icon:"heart"}}),e._v(" "),i("span",{staticClass:"d-none d-md-inline"},[e._v("\n      Succeeded\n    ")])],1),e._v(" "),i("b-button",{class:["failed"===e.filter.status?"active":"border-btn-group"],attrs:{to:{query:e.queryGenerator({status:"failed",page:1})},"active-class":"router-link-active",variant:"outline-danger",title:"Failed"},on:{click:function(e){return e.target.blur()}}},[i("font-awesome-icon",{staticClass:"d-md-none",attrs:{icon:"heart-broken"}}),e._v(" "),i("span",{staticClass:"d-none d-md-inline"},[e._v("\n      Failed\n    ")])],1),e._v(" "),i("b-button",{class:["running"===e.filter.status?"active":"border-btn-group"],attrs:{to:{query:e.queryGenerator({status:"running",page:1})},"active-class":"router-link-active",variant:"outline-warning",title:"Running"},on:{click:function(e){return e.target.blur()}}},[i("font-awesome-icon",{staticClass:"d-md-none",attrs:{icon:"running"}}),e._v(" "),i("span",{staticClass:"d-none d-md-inline"},[e._v("\n      Running\n    ")])],1),e._v(" "),i("b-button",{class:["canceled"===e.filter.status?"active":"border-btn-group"],attrs:{to:{query:e.queryGenerator({status:"canceled",page:1})},"active-class":"router-link-active",variant:"outline-secondary",title:"Canceled"},on:{click:function(e){return e.target.blur()}}},[i("font-awesome-icon",{staticClass:"d-md-none",attrs:{icon:"ban"}}),e._v(" "),i("span",{staticClass:"d-none d-md-inline"},[e._v("\n      Canceled\n    ")])],1)],1)};s._withStripped=!0;var n=i("EqoQ"),a=i("GUe+"),r=i("NlY+"),o=i("10Jb"),l=i("7O5W"),c=i("wHSu"),u=i("rT2p");l.c.add(c.g,c.h,c.J,c.v,c.w,c.a);var p={components:{BButtonGroup:n.a,BButton:a.a,BInputGroupPrepend:r.a,FontAwesomeIcon:u.a},mixins:[o.a],props:{filter:{type:Object,default:null}}},d=i("KHd+"),f=Object(d.a)(p,s,[],!1,null,null,null);f.options.__file="src/components/StatusFilter.vue";t.a=f.exports},"8noG":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.allowedToRebuild()?i("b-input-group",{staticStyle:{width:"auto"}},[i("b-input-group-text",{staticClass:"border border-warning text-warning bg-white",attrs:{slot:"prepend"},on:{click:function(e){e.stopPropagation()}},slot:"prepend"},[i("font-awesome-icon",{attrs:{icon:"redo"}})],1),e._v(" "),i("b-button",{attrs:{variant:"outline-warning",size:"sm"},on:{click:function(t){return t.stopPropagation(),e.rebuild(t)}}},[e._v("\n    Rebuild\n  ")])],1):e._e()};s._withStripped=!0;var n=i("L2JU"),a=i("XhI9"),r=i("GUe+"),o=i("0ZAa"),l=i("7O5W"),c=i("wHSu"),u=i("rT2p");function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}l.c.add(c.I);var d={components:{BInputGroup:a.a,BButton:r.a,BInputGroupText:o.a,FontAwesomeIcon:u.a},props:{build:{type:Object,default:null},builds:{type:Array,default:null}},data:function(){return{clicked:!1}},methods:{allowedToRebuild:function(){var e=this;return!(!this.user.active||!this.build||"failed"!==this.build.buildStatus&&"canceled"!==this.build.buildStatus)&&(!(this.builds&&this.builds.length>0)||!this.builds.some((function(t){return t.buildVersion===e.build.buildVersion&&"succeeded"===t.buildStatus})))},rebuild:function(e){var t=this;this.user.active&&this.axios.post("/api/pipelines/".concat(this.build.repoSource,"/").concat(this.build.repoOwner,"/").concat(this.build.repoName,"/builds"),this.build).then((function(e){t.builds.unshift(e.data),t.builds.shift()})).catch((function(e){console.warn(e)}))}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),s.forEach((function(t){p(e,t,i[t])}))}return e}({},Object(n.b)("user",{user:"me"}))},f=i("KHd+"),m=Object(f.a)(d,s,[],!1,null,null,null);m.options.__file="src/components/RebuildButton.vue";t.a=m.exports},"8wxw":function(e,t,i){},"9Jms":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.user.active&&(e.build&&("pending"===e.build.buildStatus||"running"===e.build.buildStatus||"canceling"===e.build.buildStatus)||e.release&&("pending"===e.release.releaseStatus||"running"===e.release.releaseStatus||"canceling"===e.release.releaseStatus))?i("b-input-group",{staticStyle:{width:"auto"}},[i("b-input-group-text",{staticClass:"border border-danger text-danger bg-white",attrs:{slot:"prepend"},on:{click:function(e){e.stopPropagation()}},slot:"prepend"},[i("font-awesome-icon",{attrs:{icon:"ban"}})],1),e._v(" "),i("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:function(t){return t.stopPropagation(),e.cancel(t)}}},[e._v("\n    Cancel\n  ")])],1):e._e()};s._withStripped=!0;var n=i("XhI9"),a=i("0ZAa"),r=i("GUe+"),o=i("L2JU"),l=i("7O5W"),c=i("wHSu"),u=i("rT2p");function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}l.c.add(c.a);var d={components:{BInputGroup:n.a,BInputGroupText:a.a,BButton:r.a,FontAwesomeIcon:u.a},props:{build:{type:Object,default:null},release:{type:Object,default:null}},data:function(){return{clicked:!1}},methods:{cancel:function(e){var t=this;this.user.active&&(!this.build||"pending"!==this.build.buildStatus&&"running"!==this.build.buildStatus&&"canceling"!==this.build.buildStatus?!this.release||"pending"!==this.release.releaseStatus&&"running"!==this.release.releaseStatus&&"canceling"!==this.release.releaseStatus||this.axios.delete("/api/pipelines/".concat(this.release.repoSource,"/").concat(this.release.repoOwner,"/").concat(this.release.repoName,"/releases/").concat(this.release.id)).then((function(e){t.release.releaseStatus="canceling"})).catch((function(e){console.warn(e)})):this.axios.delete("/api/pipelines/".concat(this.build.repoSource,"/").concat(this.build.repoOwner,"/").concat(this.build.repoName,"/builds/").concat(this.build.id)).then((function(e){t.build.buildStatus="canceling"})).catch((function(e){console.warn(e)})))}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),s.forEach((function(t){p(e,t,i[t])}))}return e}({},Object(o.b)("user",{user:"me"}))},f=i("KHd+"),m=Object(f.a)(d,s,[],!1,null,null,null);m.options.__file="src/components/CancelButton.vue";t.a=m.exports},"A/P7":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.user&&e.user.active&&e.pipeline.releaseTargets&&e.pipeline.releaseTargets.length>0&&"succeeded"===e.build.buildStatus?i("b-input-group",{staticStyle:{width:"auto"}},[i("b-input-group-text",{staticClass:"border border-secondary text-secondary bg-white",attrs:{slot:"prepend"},on:{click:function(e){e.stopPropagation()}},slot:"prepend"},[i("font-awesome-icon",{attrs:{icon:"upload"}})],1),e._v(" "),i("b-dropdown",{attrs:{size:"sm",id:"releaseAction",text:"Release to...",variant:"outline-secondary"}},e._l(e.pipeline.releaseTargets,(function(t){return i("div",{key:t.name},[e.hasActions(t)?i("div",{attrs:{role:"group","aria-labelledby":t.name}},[i("b-dropdown-header",{attrs:{id:t.name}},[e._v("\n          "+e._s(t.name)+":\n        ")]),e._v(" "),e._l(t.actions,(function(s){return i("b-dropdown-item-button",{key:t.name+"-"+s.name,attrs:{disabled:e.releaseTargetDisabled(t),"aria-describedby":t.name},on:{click:function(i){return i.stopPropagation(),e.startRelease(t,s,i)}}},[e._v("\n          - "+e._s(s.name)+"\n        ")])}))],2):e._e(),e._v(" "),e.hasActions(t)?e._e():i("b-dropdown-item-button",{key:t.name,attrs:{disabled:e.releaseTargetDisabled(t)},on:{click:function(i){return i.stopPropagation(),e.startRelease(t,null,i)}}},[e._v("\n        "+e._s(t.name)+"\n      ")])],1)})),0)],1):e._e()};s._withStripped=!0;var n=i("L2JU"),a=i("3Zo4"),r=i("Y9Uf"),o=i("aGWC"),l=i("XhI9"),c=i("0ZAa"),u=i("7O5W"),p=i("wHSu"),d=i("rT2p");function f(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}u.c.add(p.R);var m={components:{BDropdown:a.a,BDropdownHeader:r.a,BDropdownItemButton:o.a,BInputGroup:l.a,BInputGroupText:c.a,FontAwesomeIcon:d.a},props:{pipeline:{type:Object,default:null},build:{type:Object,default:null}},data:function(){return{clicked:!1}},methods:{releaseTargetDisabled:function(e){return this.pipeline&&this.pipeline.releaseTargets&&this.pipeline.releaseTargets.length>0&&this.pipeline.releaseTargets.some((function(t){return t.name===e.name&&t.activeReleases&&t.activeReleases.some((function(e){return e&&"running"===e.releaseStatus}))}))},startRelease:function(e,t,i){var s=this;if(this.user.active){var n={name:e.name,action:t?t.name:"",repoSource:this.build.repoSource,repoOwner:this.build.repoOwner,repoName:this.build.repoName,releaseVersion:this.build.buildVersion,releaseStatus:"pending"};this.updateRelease(n),this.axios.post("/api/pipelines/".concat(this.build.repoSource,"/").concat(this.build.repoOwner,"/").concat(this.build.repoName,"/releases"),n).then((function(e){n=e.data,s.updateRelease(n)})).catch((function(e){console.warn(e)}))}},updateRelease:function(e){var t=this.pipeline.releaseTargets.find((function(t){return t.name===e.name}));if(t)if(t.activeReleases){var i=!1,s=t.activeReleases.map((function(t){return t.action?e.action&&t.action===e.action?(i=!0,e):t:(i=!0,e)}));i||s.push(e),t.activeReleases=s}else t.activeReleases=[e]},hasActions:function(e){return e&&e.actions&&e.actions.length>0}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),s.forEach((function(t){f(e,t,i[t])}))}return e}({},Object(n.b)("user",{user:"me"}))},h=(i("DCz3"),i("KHd+")),b=Object(h.a)(m,s,[],!1,null,"a329acce",null);b.options.__file="src/components/ReleaseButton.vue";t.a=b.exports},Byn1:function(e,t,i){"use strict";var s=i("4dYK");i.n(s).a},CUMe:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._l(e.limitCommits,(function(t){return i("div",{key:t.message,staticClass:"text-truncate"},[e._v("\n    "+e._s(t.message)+" / "+e._s(t.author.name)+"\n  ")])})),0)};s._withStripped=!0;var n={props:{commits:{type:Array,default:null},limit:{type:Number,default:3}},computed:{limitCommits:function(){return this.commits?this.commits.length<=this.limit?this.commits:this.commits.slice(0,this.limit):[]}}},a=i("KHd+"),r=Object(a.a)(n,s,[],!1,null,null,null);r.options.__file="src/components/Commits.vue";t.a=r.exports},D8w6:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.duration&&e.duration>0?i("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"d-none d-sm-inline",attrs:{title:e.title}},[e._v("\n  in "),i("span",{class:e.$options.filters.colorDurationClass(e.duration)},[e._v(e._s(e._f("formatDuration")(e.duration)))])]):e._e()};s._withStripped=!0;var n={props:{duration:{type:Number,default:null},pendingDuration:{type:Number,default:null}},computed:{title:function(){return this.pendingDuration>0?"Started after ".concat(this.$options.filters.formatDuration(this.pendingDuration)):""}}},a=i("KHd+"),r=Object(a.a)(n,s,[],!1,null,null,null);r.options.__file="src/components/DurationLabel.vue";t.a=r.exports},DCz3:function(e,t,i){"use strict";var s=i("8wxw");i.n(s).a},EdYc:function(e,t,i){},F5n6:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.linkGenerator?i("b-pagination-nav",{attrs:{"number-of-pages":e.pagination.totalPages>0?e.pagination.totalPages:1,"link-gen":e.linkGenerator,"use-router":"",size:"md","hide-goto-end-buttons":"",align:"center"}}):i("b-pagination",{attrs:{"total-rows":e.pagination.totalItems,"per-page":e.pagination.size,size:"md","hide-goto-end-buttons":"",align:"center"},model:{value:e.pagination.page,callback:function(t){e.$set(e.pagination,"page",t)},expression:"pagination.page"}})],1)};s._withStripped=!0;var n=i("N1fq"),a=i("JtJI"),r={components:{BPaginationNav:n.a,BPagination:a.a},props:{pagination:{type:Object,default:null},linkGenerator:{type:Function,default:null}}},o=i("KHd+"),l=Object(o.a)(r,s,[],!1,null,null,null);l.options.__file="src/components/Pagination.vue";t.a=l.exports},FXci:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.steps&&e.steps.length>0?i("div",{staticClass:"accordion m-3"},[i("b-form-group",{staticClass:"m-3",attrs:{description:"Estafette injects stages for handling cross-cutting concerns. Check to see the injected stages."}},[i("b-form-checkbox",{model:{value:e.showInjectedStages,callback:function(t){e.showInjectedStages=t},expression:"showInjectedStages"}},[e._v("\n      Show injected stages\n    ")])],1),e._v(" "),e._m(0),e._v(" "),i("div",{attrs:{role:"tablist"}},e._l(e.filteredSteps,(function(t){return i("b-card",{key:t.step+"-"+t.runIndex,staticClass:"log-stage-block",attrs:{"no-body":""}},[i("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"accordion-"+t.step+"-"+t.runIndex,expression:"'accordion-'+step.step + '-' + step.runIndex"}],staticClass:"row m-0 pt-3 pr-2 pb-3 pl-2 clickable border-0 rounded-0",attrs:{role:"tab"}},[i("property-block",{staticClass:"col-xxxl-1 text-xxxl-center",attrs:{label:"Status"}},[i("span",{staticClass:"badge mt-2",class:e._f("bootstrapClass")(t.status,"badge")},[e._v("\n            "+e._s(t.status)+"\n          ")])]),e._v(" "),i("property-block",{staticClass:"col-xxxl-4",attrs:{label:"Stage","value-css-class":"h4"}},[e._v("\n          "+e._s(t.step)+"\n          "),t.autoInjected?i("span",{staticClass:"small text-muted",attrs:{title:"This step is automatically injected by Estafette CI"}},[e._v("\n            (injected)\n          ")]):e._e()]),e._v(" "),i("property-block",{staticClass:"col-xxxl-3",attrs:{label:"Image"}},[t.image&&t.image.name?i("span",[e._v("\n            "+e._s(t.image.name)+":"+e._s(t.image.tag)+"\n            "),t.image.isTrusted?i("font-awesome-icon",{staticClass:"small text-muted",attrs:{icon:"shield-alt",title:"This image is configured as trusted by Estafette CI"}}):e._e()],1):i("span",[e._v("\n            -\n          ")])]),e._v(" "),i("property-block",{staticClass:"d-none d-xxxl-block col-xxxl-1 text-xxxl-right",attrs:{label:"Image size"}},[t.image&&t.image.name&&("RUNNING"==t.status||"SUCCEEDED"==t.status||"FAILED"==t.status)?i("span",[t.image&&t.image.imageSize?i("span",[e._v("\n              "+e._s(e._f("formatBytes")(t.image.imageSize))+"\n            ")]):i("em",{staticClass:"text-muted"},[e._v("\n              (cached)\n            ")])]):i("span",[e._v("\n            -\n          ")])]),e._v(" "),i("property-block",{staticClass:"d-none d-xxxl-block col-xxxl-1 text-xxxl-right",attrs:{label:"Pull time"}},[t.image&&t.image.name&&("RUNNING"==t.status||"SUCCEEDED"==t.status||"FAILED"==t.status)?i("span",[t.image.pullDuration&&t.image.pullDuration>0?i("span",[e._v("\n              "+e._s(e._f("formatDuration")(t.image.pullDuration))+"\n            ")]):i("em",{staticClass:"text-muted"},[e._v("\n              (cached)\n            ")])]):i("span",[e._v("\n            -\n          ")])]),e._v(" "),i("property-block",{staticClass:"d-none d-xxxl-block col-xxxl-1 text-xxxl-right",attrs:{label:"Execution time"}},[!t.duration||"SUCCEEDED"!=t.status&&"FAILED"!=t.status?i("span",[e._v("\n            -\n          ")]):i("span",[e._v("\n            "+e._s(e._f("formatDuration")(t.duration))+"\n          ")])]),e._v(" "),i("property-block",{staticClass:"col-xxxl-1 text-xxxl-right",attrs:{label:"Total time"}},[!t.image||"RUNNING"!=t.status&&"SUCCEEDED"!=t.status&&"FAILED"!=t.status?i("span",[e._v("\n            -\n          ")]):i("span",[e._v("\n            "+e._s(e._f("formatDuration")((t.image?t.image.pullDuration:0)+t.duration))+"\n          ")])])],1),e._v(" "),t.services&&t.services.length>0?i("b-card-header",{staticClass:"row m-0 p-2 border-0 rounded-0 justify-content-center",attrs:{role:"tab"}},[i("property-block",{attrs:{label:"Service containers",wide:"","label-css-class":"d-xxxl-block"}},e._l(t.services,(function(s){return i("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"accordion-"+t.step+"-"+t.runIndex+"-service-"+s.step,expression:"'accordion-'+step.step + '-' + step.runIndex + '-service-' +service.step"}],key:s.step,staticClass:"mr-2 mb-1",attrs:{variant:e._f("bootstrapVariant")(s.status,!0)}},[e._v("\n            "+e._s(s.step)+"\n            "),i("span",[e._v("\n              "+e._s(e._f("formatDuration")((s.image?s.image.pullDuration:0)+s.duration))+"\n            ")])])})),1)],1):e._e(),e._v(" "),t.nestedSteps&&t.nestedSteps.length>0?i("b-card-header",{staticClass:"row m-0 p-2 border-0 rounded-0 justify-content-center",attrs:{role:"tab"}},[i("property-block",{attrs:{label:"Parallel stages",wide:"","label-css-class":"d-xxxl-block"}},e._l(t.nestedSteps,(function(s){return i("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"accordion-"+t.step+"-"+t.runIndex+"-"+s.step,expression:"'accordion-'+step.step + '-' + step.runIndex + '-' +nestedStep.step"}],key:s.step,staticClass:"mr-2 mb-1",attrs:{variant:e._f("bootstrapVariant")(s.status,!0)}},[e._v("\n            "+e._s(s.step)+"\n            "),i("span",[e._v("\n              "+e._s(e._f("formatDuration")((s.image?s.image.pullDuration:0)+s.duration))+"\n            ")])])})),1)],1):e._e(),e._v(" "),i("b-collapse",{staticClass:"container-fluid collapse p-0 rounded-bottom",attrs:{id:"accordion-"+t.step+"-"+t.runIndex,visible:"RUNNING"===t.status||"FAILED"===t.status,accordion:"log-steps-accordion",role:"tabpanel"}},[t.logLines&&t.logLines.length>0?i("div",{staticClass:"text-light text-monospace bg-dark m-0 p-3"},e._l(t.logLines,(function(t,s){return i("div",{key:t.line?t.line:s,staticClass:"row no-gutters"},[i("div",{staticClass:"col-1 log-timestamp text-white-50 d-none d-xl-flex"},[e._v("\n              "+e._s(e._f("moment")(t.timestamp,"YYYY-MM-DD HH:mm:ss"))+"\n            ")]),e._v(" "),i("div",{staticClass:"col log-text",domProps:{innerHTML:e._s(e.formatLog(t.text))}})])})),0):e._e()]),e._v(" "),e._l(t.services,(function(s){return i("b-collapse",{key:s.step,staticClass:"container-fluid collapse p-0 rounded-bottom",attrs:{id:"accordion-"+t.step+"-"+t.runIndex+"-service-"+s.step,accordion:"log-steps-accordion",role:"tabpanel"}},[i("div",{staticClass:"row m-0 pt-3 pr-2 pb-3 pl-2 border-0 rounded-0 bg-light"},[i("div",{staticClass:"col-4 col-md-2 col-xl-1 text-center"}),e._v(" "),i("div",{staticClass:"col-8 col-lg-5 col-xl-4 text-truncate h4",attrs:{title:s.step}}),e._v(" "),i("div",{staticClass:"col-4 col-xl-3 d-none d-lg-flex text-truncate"},[s.image&&s.image.name?i("span",[e._v("\n              "+e._s(s.image.name)+":"+e._s(s.image.tag)+"\n              "),s.image.isTrusted?i("font-awesome-icon",{staticClass:"small text-muted",attrs:{icon:"shield-alt",title:"This image is configured as trusted by Estafette CI"}}):e._e()],1):e._e()]),e._v(" "),i("div",{staticClass:"col-1 text-right d-none d-xl-flex"},[s.image&&s.image.name&&("RUNNING"==s.status||"SUCCEEDED"==s.status||"FAILED"==s.status)?i("span",[s.image&&s.image.imageSize?i("span",[e._v("\n                "+e._s(e._f("formatBytes")(s.image.imageSize))+"\n              ")]):i("em",{staticClass:"text-muted"},[e._v("\n                (cached)\n              ")])]):e._e()]),e._v(" "),i("div",{staticClass:"col-1 text-right d-none d-xl-flex"},[s.image&&s.image.name&&("RUNNING"==s.status||"SUCCEEDED"==s.status||"FAILED"==s.status)?i("span",[s.image.pullDuration&&s.image.pullDuration>0?i("span",[e._v("\n                "+e._s(e._f("formatDuration")(s.image.pullDuration))+"\n              ")]):i("em",{staticClass:"text-muted"},[e._v("\n                (cached)\n              ")])]):e._e()]),e._v(" "),i("div",{staticClass:"col-1 text-right d-none d-xl-flex"},[!s.duration||"SUCCEEDED"!=s.status&&"FAILED"!=s.status?e._e():i("span",[e._v("\n              "+e._s(e._f("formatDuration")(s.duration))+"\n            ")])]),e._v(" "),i("div",{staticClass:"col-2 col-lg-1 text-right d-none d-md-flex"},[!s.image||"RUNNING"!=s.status&&"SUCCEEDED"!=s.status&&"FAILED"!=s.status?e._e():i("span",[e._v("\n              "+e._s(e._f("formatDuration")((s.image?s.image.pullDuration:0)+s.duration))+"\n            ")])])]),e._v(" "),s.logLines&&s.logLines.length>0?i("div",{staticClass:"text-light text-monospace bg-dark m-0 p-3"},e._l(s.logLines,(function(t,s){return i("div",{key:t.line?t.line:s,staticClass:"row no-gutters"},[i("div",{staticClass:"col-1 log-timestamp text-white-50 d-none d-xl-flex"},[e._v("\n              "+e._s(e._f("moment")(t.timestamp,"YYYY-MM-DD HH:mm:ss"))+"\n            ")]),e._v(" "),i("div",{staticClass:"col log-text",domProps:{innerHTML:e._s(e.formatLog(t.text))}})])})),0):e._e()])})),e._v(" "),e._l(t.nestedSteps,(function(s){return i("b-collapse",{key:s.step,staticClass:"container-fluid collapse p-0 rounded-bottom",attrs:{id:"accordion-"+t.step+"-"+t.runIndex+"-"+s.step,accordion:"log-steps-accordion",role:"tabpanel"}},[i("div",{staticClass:"row m-0 pt-3 pr-2 pb-3 pl-2 border-0 rounded-0 bg-light"},[i("div",{staticClass:"col-4 col-md-2 col-xl-1 text-center"}),e._v(" "),i("div",{staticClass:"col-8 col-lg-5 col-xl-4 text-truncate h4",attrs:{title:s.step}}),e._v(" "),i("div",{staticClass:"col-4 col-xl-3 d-none d-lg-flex text-truncate"},[s.image&&s.image.name?i("span",[e._v("\n              "+e._s(s.image.name)+":"+e._s(s.image.tag)+"\n              "),s.image.isTrusted?i("font-awesome-icon",{staticClass:"small text-muted mb-1",attrs:{icon:"shield-alt",title:"This image is configured as trusted by Estafette CI"}}):e._e()],1):e._e()]),e._v(" "),i("div",{staticClass:"col-1 text-right d-none d-xl-flex"},[s.image&&s.image.name&&("RUNNING"==s.status||"SUCCEEDED"==s.status||"FAILED"==s.status)?i("span",[s.image&&s.image.imageSize?i("span",[e._v("\n                "+e._s(e._f("formatBytes")(s.image.imageSize))+"\n              ")]):i("em",{staticClass:"text-muted"},[e._v("\n                (cached)\n              ")])]):e._e()]),e._v(" "),i("div",{staticClass:"col-1 text-right d-none d-xl-flex"},[s.image&&s.image.name&&("RUNNING"==s.status||"SUCCEEDED"==s.status||"FAILED"==s.status)?i("span",[s.image.pullDuration&&s.image.pullDuration>0?i("span",[e._v("\n                "+e._s(e._f("formatDuration")(s.image.pullDuration))+"\n              ")]):i("em",{staticClass:"text-muted"},[e._v("\n                (cached)\n              ")])]):e._e()]),e._v(" "),i("div",{staticClass:"col-1 text-right d-none d-xl-flex"},[!s.duration||"SUCCEEDED"!=s.status&&"FAILED"!=s.status?e._e():i("span",[e._v("\n              "+e._s(e._f("formatDuration")(s.duration))+"\n            ")])]),e._v(" "),i("div",{staticClass:"col-2 col-lg-1 text-right d-none d-md-flex"},[!s.image||"RUNNING"!=s.status&&"SUCCEEDED"!=s.status&&"FAILED"!=s.status?e._e():i("span",[e._v("\n              "+e._s(e._f("formatDuration")((s.image?s.image.pullDuration:0)+s.duration))+"\n            ")])])]),e._v(" "),s.logLines&&s.logLines.length>0?i("div",{staticClass:"text-light text-monospace bg-dark m-0 p-3"},e._l(s.logLines,(function(t,s){return i("div",{key:t.line?t.line:s,staticClass:"row no-gutters"},[i("div",{staticClass:"col-1 log-timestamp text-white-50 d-none d-xl-flex"},[e._v("\n              "+e._s(e._f("moment")(t.timestamp,"YYYY-MM-DD HH:mm:ss"))+"\n            ")]),e._v(" "),i("div",{staticClass:"col log-text",domProps:{innerHTML:e._s(e.formatLog(t.text))}})])})),0):e._e()])}))],2)})),1),e._v(" "),i("div",{staticClass:"log-summary-block"},[i("property-block",{staticClass:"col-xxxl-1 text-xxxl-center",attrs:{label:"Status"}},[i("span",{staticClass:"badge",class:e._f("bootstrapClass")(e.totalStatus,"badge")},[e._v("\n        "+e._s(e.totalStatus)+"\n      ")])]),e._v(" "),i("div",{staticClass:"property-block col-xxxl-4"}),e._v(" "),i("div",{staticClass:"property-block col-xxxl-3"}),e._v(" "),i("property-block",{staticClass:"d-none d-xxxl-block col-xxxl-1 text-xxxl-right",attrs:{label:"Total image size"}},[e._v("\n      "+e._s(e._f("formatBytes")(e.totalImageSize))+"\n    ")]),e._v(" "),i("property-block",{staticClass:"d-none d-xxxl-block col-xxxl-1 text-xxxl-right",attrs:{label:"Total pull time"}},[e._v("\n      "+e._s(e._f("formatDuration")(e.totalPullDuration))+"\n    ")]),e._v(" "),i("property-block",{staticClass:"d-none d-xxxl-block col-xxxl-1 text-xxxl-right",attrs:{label:"Total execution time"}},[e._v("\n      "+e._s(e._f("formatDuration")(e.totalDuration))+"\n    ")]),e._v(" "),i("property-block",{staticClass:"col-xxxl-1 text-xxxl-right",attrs:{label:"Total time"}},[e._v("\n      "+e._s(e._f("formatDuration")(e.totalPullDuration+e.totalDuration))+"\n    ")])],1),e._v(" "),i("div",{staticClass:"log-buttons"},[i("b-nav",{attrs:{vertical:""}},[i("b-nav-item",{on:{click:e.scrollUp}},[i("font-awesome-icon",{staticClass:"sidebar-icon",attrs:{icon:"chevron-up"}})],1),e._v(" "),e.isTailing()?i("b-nav-item",{on:{click:e.scrollToggle}},[i("font-awesome-icon",{staticClass:"sidebar-icon",attrs:{icon:e.scrollEnabled?"eye-slash":"eye"}})],1):e._e(),e._v(" "),i("b-nav-item",{on:{click:e.scrollDown}},[i("font-awesome-icon",{staticClass:"sidebar-icon",attrs:{icon:"chevron-down"}})],1)],1)],1)],1):i("div",{staticClass:"m-3"},[e._v("\n  Hold on, we're waiting for the logs to come in!\n")])};s._withStripped=!0;var n=i("sEfC"),a=i.n(n),r=i("E4Z0"),o=i.n(r),l=i("GUe+"),c=i("IF94"),u=i("uIXr"),p=i("WEOK"),d=i("w+YJ"),f=i("giZP"),m=i("Wfsh"),h=i("RxEo"),b=i("Obrr"),v=i("JWTo"),g=i("7O5W"),_=i("wHSu"),y=i("rT2p");g.c.add(_.K,_.q,_.r,_.j,_.i);var w={components:{BButton:l.a,BCard:c.a,BCardHeader:u.a,BCollapse:p.a,BFormCheckbox:d.a,BFormGroup:f.a,PropertyBlock:v.a,FontAwesomeIcon:y.a,BNav:m.a,BNavItem:h.a},directives:{"b-toggle":b.e},props:{logUrl:{type:String,default:null},status:{type:String,default:null}},data:function(){return{steps:[],refresh:!0,tailedSteps:[],showInjectedStages:!1,scrollEnabled:!0}},computed:{filteredSteps:function(){var e=this;return this.steps?this.steps.filter((function(t){return!t.autoInjected||e.showInjectedStages||"PENDING"===t.status||"RUNNING"===t.status||"FAILED"===t.status})):[]},totalImageSize:function(){return this.steps?this.steps.reduce((function(e,t){return e+(t.image&&t.image.imageSize?t.image.imageSize:0)}),0):0},totalPullDuration:function(){return this.steps?this.steps.reduce((function(e,t){return e+(t.image&&t.image.pullDuration?t.image.pullDuration:0)}),0):0},totalDuration:function(){return this.steps?this.steps.reduce((function(e,t){return e+(t.duration?t.duration:0)}),0):0},totalStatus:function(){return this.steps?this.steps.reduce((function(e,t){return"CANCELED"===e||"CANCELED"===t.status?"CANCELED":"FAILED"===e||"FAILED"===t.status?"FAILED":"PENDING"===t.status||"RUNNING"===t.status?"RUNNING":"SUCCEEDED"}),"SUCCEEDED"):""}},created:function(){this.tailLogs()},methods:{formatLog:function(e){return e?(new o.a).ansi_to_html(e):e},loadLogs:function(){var e=this;"succeeded"===this.status||"failed"===this.status||"canceled"===this.status?(this.tailedSteps=[],this.axios.get(this.logUrl).then((function(t){t.data.steps?e.steps=t.data.steps:e.steps=t.data})).catch((function(t){e.periodicallyRefreshLogs(15)}))):this.periodicallyRefreshLogs(5)},periodicallyRefreshLogs:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,s=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadLogs,s))},isTailing:function(){return"pending"===this.status||"running"===this.status||"canceling"===this.status},tailLogs:function(){var e=this;this.isTailing()?(this.es=new EventSource("".concat(this.logUrl,".stream")),this.es.addEventListener("log",(function(t){if("pending"!==e.status&&"running"!==e.status&&"canceling"!==e.status)return e.es.close(),document.getElementById("main").scrollIntoView(!0),void e.loadLogs();var i=JSON.parse(t.data),s="stage";if(i.type&&(s=i.type),!i.type&&(!i.depth||0===i.depth)||i.type&&"stage"===s&&!i.parentStage){var n=e.tailedSteps.findIndex((function(e){return e===i.step})),a=n>-1?e.steps[n]:null;if(-1===n){var r="RUNNING";i.status&&(r=i.status),a={step:i.step,logLines:[],nestedSteps:[],services:[],exitCode:0,status:r,autoInjected:i.autoInjected,duration:0,lastLineNumber:0},e.tailedSteps.push(i.step),e.steps.push(a),n=e.steps.length-1}if(n!==e.tailedSteps.length-1)return;i.image&&(a.image=i.image),i.status&&(a.status=i.status),i.exitCode&&(a.exitCode=i.exitCode),i.duration&&(a.duration=i.duration),i.logLine&&i.logLine.line>a.lastLineNumber&&(a.logLines.push(i.logLine),a.lastLineNumber=i.logLine.line,i.logLine.line>10&&a.logLines.shift())}else if(e.steps.length>0){var o=e.steps[e.steps.length-1];if(i.parentStage&&(n=e.tailedSteps.findIndex((function(e){return e===i.parentStage})))>-1&&(o=e.steps[n]),"service"===s){var l=o.services.findIndex((function(e){return e.step===i.step})),c=l>-1?o.services[l]:null;-1===l&&(r="RUNNING",i.status&&(r=i.status),c={step:i.step,logLines:[],exitCode:0,status:r,autoInjected:!1,duration:0,lastLineNumber:0},o.services.push(c))}else c=(l=o.nestedSteps.findIndex((function(e){return e.step===i.step})))>-1?o.nestedSteps[l]:null,-1===l&&(r="RUNNING",i.status&&(r=i.status),c={step:i.step,logLines:[],exitCode:0,status:r,autoInjected:!1,duration:0,lastLineNumber:0},o.nestedSteps.push(c));i.image&&(c.image=i.image),i.status&&(c.status=i.status),i.exitCode&&(c.exitCode=i.exitCode),i.duration&&(c.duration=i.duration),i.logLine&&i.logLine.line>c.lastLineNumber&&(c.logLines.push(i.logLine),c.lastLineNumber=i.logLine.line,i.logLine.line>10&&c.logLines.shift())}e.scrollToLogTail()}),!1),this.es.addEventListener("close",(function(t){e.es.close(),document.getElementById("main").scrollIntoView(!0),e.loadLogs()}),!1),this.es.onerror=function(e){console.warn(e)}):this.loadLogs()},scrollToLogTail:a()((function(){this.scrollEnabled&&this.$el.scrollIntoView(!1)}),1e3,{maxWait:5e3}),scrollToggle:function(){this.scrollEnabled=!this.scrollEnabled},scrollUp:function(){this.scrollEnabled=!1,window.scrollTo(0,0)},scrollDown:function(){this.scrollEnabled=!1,window.scrollTo(0,document.body.scrollHeight)}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout),this.es&&this.es.close()}},x=(i("wRJ2"),i("KHd+")),S=Object(x.a)(w,s,[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row-header"},[i("div",{staticClass:"col-1 text-center"},[e._v("\n      Status\n    ")]),e._v(" "),i("div",{staticClass:"col-4"},[e._v("\n      Stage\n    ")]),e._v(" "),i("div",{staticClass:"col-3"},[e._v("\n      Image\n    ")]),e._v(" "),i("div",{staticClass:"col-1 text-right"},[e._v("\n      Image size\n    ")]),e._v(" "),i("div",{staticClass:"col-1 text-right"},[e._v("\n      Pull time\n    ")]),e._v(" "),i("div",{staticClass:"col-1 text-right"},[e._v("\n      Execution time\n    ")]),e._v(" "),i("div",{staticClass:"col-1 text-right"},[e._v("\n      Total time\n    ")])])}],!1,null,"5023e914",null);S.options.__file="src/components/LogViewer.vue";t.a=S.exports},HECz:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("section-header",{attrs:{"section-route-name":"Pipelines"}}),e._v(" "),i("b-breadcrumb",{staticClass:"m-3 rounded",attrs:{items:e.breadcrumbs}}),e._v(" "),e.pipeline?i("pipeline-header",{attrs:{pipeline:e.pipeline}}):e._e(),e._v(" "),i("inner-navigation-tabs",{attrs:{"section-route-name":"Pipelines"}}),e._v(" "),e.pipeline?i("router-view",{staticClass:"m-3",attrs:{pipeline:e.pipeline}}):e._e()],1)};s._withStripped=!0;var n=i("L2JU"),a=i("4jWJ"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"header-block"},[i("property-block",{attrs:{label:"Pipeline",variant:"success",title:""}},[i("repository-title",{attrs:{repo:e.pipeline}})],1),e._v(" "),e.showLabels?i("property-block",{attrs:{label:"Labels",wide:""}},[i("labels",{attrs:{labels:e.pipeline.labels}})],1):e._e(),e._v(" "),e.showReleases?i("property-block",{attrs:{label:"Releases",wide:""}},e._l(e.pipeline.releaseTargets,(function(t){return i("release-badge",{key:t.name,attrs:{"release-target":t,pipeline:e.pipeline}})})),1):e._e()],1)};r._withStripped=!0;var o=i("sSrk"),l=i("JWTo"),c=i("+jG/"),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",e._l(e.sortedLabels,(function(t){return i("router-link",{key:t.key,staticClass:"btn btn-light btn-sm mr-1 mb-1",attrs:{to:{name:"Pipelines",query:e.queryGenerator({labels:t.key+"="+t.value})},exact:""}},[e._v("\n    "+e._s(t.key)+"="+e._s(t.value)+"\n  ")])})),1)};u._withStripped=!0;var p=i("10Jb"),d={props:{labels:{type:Array,default:function(){return[]}}},mixins:[p.a],computed:{sortedLabels:function(){return this.labels?this.labels.slice().sort((function(e,t){return e.key>t.key})):[]}}},f=i("KHd+"),m=Object(f.a)(d,u,[],!1,null,null,null);m.options.__file="src/components/Labels.vue";var h=m.exports,b={components:{ReleaseBadge:o.a,PropertyBlock:l.a,RepositoryTitle:c.a,Labels:h},props:{pipeline:{type:Object,default:null},filter:{type:Object,default:null}},computed:{showReleases:function(){return this.pipeline.releaseTargets&&this.pipeline.releaseTargets.length>0},showLabels:function(){return this.pipeline.labels&&this.pipeline.labels.length>0},showTriggers:function(){return this.pipeline.triggerEvents&&this.pipeline.triggerEvents.length>0}}},v=Object(f.a)(b,r,[],!1,null,null,null);v.options.__file="src/components/PipelineHeader.vue";var g=v.exports,_=i("TXNy"),y=i("Qg33");function w(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var x={components:{BBreadcrumb:a.a,SectionHeader:_.a,PipelineHeader:g,InnerNavigationTabs:y.a},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null}},data:function(){return{pipeline:null,refresh:!0,breadcrumbs:[{text:"Builds & releases",to:{name:"Pipelines"}},{text:"".concat(this.repoName),to:{name:"PipelineOverview",params:{repoSource:this.repoSource,repoOwner:this.repoOwner,repoName:this.repoName}},active:!0}]}},created:function(){this.loadPipeline()},methods:{loadPipeline:function(){var e=this;this.axios.get("/api/pipelines/".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName)).then((function(t){e.pipeline=t.data,e.periodicallyRefreshPipeline(5)})).catch((function(t){e.periodicallyRefreshPipeline(30)}))},periodicallyRefreshPipeline:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,s=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadPipeline,s))},sortLabels:function(e){return e?e.slice().sort((function(e,t){return e.key>t.key})):e}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),s.forEach((function(t){w(e,t,i[t])}))}return e}({},Object(n.b)("user",{user:"me"})),beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},S=Object(f.a)(x,s,[],!1,null,null,null);S.options.__file="src/views/PipelineDetails.vue";t.default=S.exports},I3XD:function(e,t,i){"use strict";var s=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"spinner-border estafette-spinner",class:this._f("bootstrapClass")(this.color,"text"),attrs:{role:"status"}},[t("span",{staticClass:"sr-only"},[this._v("Loading...")])])};s._withStripped=!0;var n={props:{color:{type:String,default:null}}},a=i("KHd+"),r=Object(a.a)(n,s,[],!1,null,null,null);r.options.__file="src/components/Spinner.vue";t.a=r.exports},JWTo:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.cssClass},[i("property-label",{class:e.labelCssClass,attrs:{text:e.label}}),e._v(" "),i("property-value",{class:e.valueCssClass},[e._t("default",[e._v(e._s(e.value))])],2)],1)};s._withStripped=!0;var n=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"property-label"},[this._v("\n  "+this._s(this.text)+"\n")])};n._withStripped=!0;var a={props:{text:{type:String,default:""}}},r=i("KHd+"),o=Object(r.a)(a,n,[],!1,null,null,null);o.options.__file="src/components/PropertyLabel.vue";var l=o.exports,c=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"property-value"},[this._t("default",[this._v(this._s(this.text))])],2)};c._withStripped=!0;var u={props:{text:{type:String,default:""}}},p=Object(r.a)(u,c,[],!1,null,null,null);p.options.__file="src/components/PropertyValue.vue";var d={components:{PropertyLabel:l,PropertyValue:p.exports},props:{label:{type:String,default:""},value:{type:String,default:""},variant:{type:String,default:"primary",validator:function(e){return-1!==["primary","secondary","success","danger","warning","info","light","dark"].indexOf(e)}},labelCssClass:{type:String,default:""},valueCssClass:{type:String,default:""},title:{type:Boolean,default:!1},wide:{type:Boolean,default:!1},noTruncate:{type:Boolean,default:!1}},computed:{cssClass:function(){return this.title?"property-block-title variant-".concat(this.variant):this.wide?"property-block-wide":this.noTruncate?"property-block-no-truncate":"property-block"}}},f=Object(r.a)(d,s,[],!1,null,null,null);f.options.__file="src/components/PropertyBlock.vue";t.a=f.exports},K4Xp:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("section-header"),e._v(" "),i("div",{staticClass:"row m-0"},[i("div",{staticClass:"col-12 col-lg-6"},[i("status-filter",{attrs:{filter:e.filter}})],1),e._v(" "),i("div",{staticClass:"col-12 col-lg-6 col-xxl-2"},[i("pipeline-filter",{attrs:{model:e.filter.search,"on-input":e.setSearch}})],1),e._v(" "),i("div",{staticClass:"col-12 col-lg-6 col-xxl-2"},[i("frequent-labels",{attrs:{filter:e.filter}})],1),e._v(" "),i("div",{staticClass:"col-12 col-lg-6 col-xxl-2 text-right"},[i("since-selector",{attrs:{model:e.filter.since,"on-change":e.setSince}})],1)]),e._v(" "),i("div",{staticClass:"row m-0"},[i("div",{staticClass:"col-12 col-lg-9"},[i("user-filter",{attrs:{filter:e.filter}}),e._v(" "),i("label-filter",{attrs:{filter:e.filter}})],1),e._v(" "),i("div",{staticClass:"d-none d-lg-block col-12 col-lg-3 text-right"},[i("pagination-compact",{staticClass:"float-right",attrs:{pagination:e.pagination,"link-generator":e.paginationLinkGenerator}})],1)]),e._v(" "),e._m(0),e._v(" "),e.pipelines.length>0?i("transition-group",{staticClass:"ml-3 mr-3",attrs:{name:"list-complete",tag:"div"}},e._l(e.pipelines,(function(t){return i("pipeline-row",{key:t.repoSource+"/"+t.repoOwner+"/"+t.repoName,attrs:{pipeline:t,filter:e.filter}})})),1):e.loaded?i("div",{staticClass:"alert alert-warning text-center p-5 m-3"},[e._v("\n    There are no pipelines for the current filters. Please increase the time range or remove some filters!\n  ")]):i("div",[i("spinner",{attrs:{color:"primary"}})],1),e._v(" "),e.pipelines.length>0?i("pagination",{attrs:{pagination:e.pagination,"link-generator":e.paginationLinkGenerator}}):e._e()],1)};s._withStripped=!0;var n=i("L2JU"),a=i("sEfC"),r=i.n(a),o=i("TXNy"),l=i("I3XD"),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("router-link",{staticClass:"row-block list-complete-item",attrs:{to:{name:"PipelineOverview",params:{repoSource:e.pipeline.repoSource,repoOwner:e.pipeline.repoOwner,repoName:e.pipeline.repoName}},tag:"div"}},[i("property-block",{staticClass:"col-xxxl-3",attrs:{label:"Pipeline"}},[i("repository-title",{attrs:{repo:e.pipeline}})],1),e._v(" "),i("property-block",{staticClass:"col-xxxl-1",attrs:{label:"Version",value:e.pipeline.buildVersion}}),e._v(" "),i("property-block",{staticClass:"col-xxxl-1",attrs:{label:"Status"}},[i("router-link",{attrs:{to:{name:"PipelineBuildLogs",params:{repoSource:e.pipeline.repoSource,repoOwner:e.pipeline.repoOwner,repoName:e.pipeline.repoName,id:e.pipeline.id}}}},[i("b-progress",{attrs:{value:100,variant:e.$options.filters.bootstrapVariant(e.pipeline.buildStatus),animated:e.$options.filters.animatedProgressBar(e.pipeline.buildStatus)}})],1)],1),e._v(" "),i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Built at"}},[e._v("\n    "+e._s(e._f("formatDatetime")(e.pipeline.insertedAt))+"\n    "),i("duration-label",{attrs:{duration:e.pipeline.duration,"pending-duration":e.pipeline.pendingDuration}})],1),e._v(" "),i("property-block",{staticClass:"col-xxxl-1",attrs:{label:"Branch",value:e.pipeline.repoBranch}}),e._v(" "),i("property-block",{staticClass:"col-xxxl-1",attrs:{label:"Revision"}},[i("commit-link",{attrs:{build:e.pipeline}})],1),e._v(" "),i("property-block",{staticClass:"col-xxxl-3",attrs:{label:"Commit(s)"}},[i("commits",{attrs:{commits:e.pipeline.commits,limit:1}})],1),e._v(" "),e.showReleases?i("div",{staticClass:"block-divider"},[i("div")]):e._e(),e._v(" "),e.showReleases?i("property-block",{attrs:{label:"Releases",wide:""}},e._l(e.pipeline.releaseTargets,(function(t){return i("release-badge",{key:t.name,attrs:{"release-target":t,pipeline:e.pipeline}})})),1):e._e()],1)};c._withStripped=!0;var u=i("SfWM"),p=i("3/MV"),d=i("sSrk"),f=i("JWTo"),m=i("+jG/"),h=i("D8w6"),b=i("CUMe"),v={components:{BProgress:u.a,CommitLink:p.a,ReleaseBadge:d.a,PropertyBlock:f.a,RepositoryTitle:m.a,DurationLabel:h.a,Commits:b.a},props:{pipeline:{type:Object,default:null}},computed:{showReleases:function(){return this.pipeline.releaseTargets&&this.pipeline.releaseTargets.length>0}}},g=i("KHd+"),_=Object(g.a)(v,c,[],!1,null,null,null);_.options.__file="src/components/PipelineRow.vue";var y=_.exports,w=i("5t7D"),x=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.user&&e.user.active?i("b-button-group",{staticClass:"mb-3 bg-white"},[i("b-input-group-prepend",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{"is-text":"",title:"Filter pipelines you recently committed to or released"}},[i("font-awesome-icon",{attrs:{icon:"user"}})],1),e._v(" "),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],class:["false"===e.filter.recentCommitter&&"false"===e.filter.recentReleaser?"active":"border-btn-group"],attrs:{to:{query:e.queryGenerator({recentCommitter:"false",recentReleaser:"false",page:1})},"active-class":"router-link-active",variant:"light",title:"Everyone's pipelines"},on:{click:function(e){return e.target.blur()}}},[i("font-awesome-icon",{attrs:{icon:"users"}})],1),e._v(" "),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],class:["true"===e.filter.recentCommitter?"active":"border-btn-group"],attrs:{to:{query:e.queryGenerator({recentCommitter:"true",recentReleaser:"false",page:1})},"active-class":"router-link-active",variant:"light",title:"Pipelines you recently committed to"},on:{click:function(e){return e.target.blur()}}},[i("font-awesome-icon",{attrs:{icon:"tools"}})],1),e._v(" "),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],class:["true"===e.filter.recentReleaser?"active":"border-btn-group"],attrs:{to:{query:e.queryGenerator({recentCommitter:"false",recentReleaser:"true",page:1})},"active-class":"router-link-active",variant:"light",title:"Pipelines you recently released"},on:{click:function(e){return e.target.blur()}}},[i("font-awesome-icon",{attrs:{icon:"upload"}})],1)],1):e._e()};x._withStripped=!0;var S=i("EqoQ"),C=i("GUe+"),O=i("NlY+"),k=i("10Jb"),T=i("7O5W"),P=i("wHSu"),j=i("rT2p");function R(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}T.c.add(P.S,P.V,P.Q,P.R);var D={components:{BButtonGroup:S.a,BButton:C.a,BInputGroupPrepend:O.a,FontAwesomeIcon:j.a},mixins:[k.a],props:{filter:{type:Object,default:null}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),s.forEach((function(t){R(e,t,i[t])}))}return e}({},Object(n.b)("user",{user:"me"}))},N=Object(g.a)(D,x,[],!1,null,null,null);N.options.__file="src/components/UserFilter.vue";var E=N.exports,B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.splitLabels.length>0?i("b-button-group",{staticClass:"mb-3 mr-2 bg-white"},[i("b-input-group-prepend",{attrs:{"is-text":""}},[i("font-awesome-icon",{attrs:{icon:"tag"}})],1),e._v(" "),e._l(e.splitLabels,(function(t){return i("b-button",{key:t,staticClass:"border-btn-group bg-white text-nowrap",attrs:{variant:"outline-primary"}},[e._v("\n    "+e._s(t)+" "),i("router-link",{staticClass:"badge badge-primary",attrs:{to:{query:e.queryGenerator({labels:e.labelLinkGenerator(t)})},"active-class":"router-link-active"}},[e._v("\n      ×\n    ")])],1)}))],2):e._e()};B._withStripped=!0,T.c.add(P.O);var I={components:{BButtonGroup:S.a,BButton:C.a,BInputGroupPrepend:O.a,FontAwesomeIcon:j.a},mixins:[k.a],props:{filter:{type:Object,default:null}},methods:{labelLinkGenerator:function(e){if(!this.filter||!this.filter.labels||0===this.filter.labels.length)return"";var t=[];return this.filter&&this.filter.labels&&(t=this.filter.labels.split(",")),t.filter((function(t){return t!==e})).join(",")}},computed:{splitLabels:function(){return this.filter.labels&&0!==this.filter.labels.length?this.filter.labels.split(","):[]}}},L=Object(g.a)(I,B,[],!1,null,null,null);L.options.__file="src/components/LabelFilter.vue";var $=L.exports,F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.filteredLabels.length>1?i("b-input-group",{staticClass:"mb-3 d-inline-flex"},[i("b-input-group-prepend",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{"is-text":"",title:"Filter pipelines on frequently used labels"}},[i("font-awesome-icon",{attrs:{icon:"tags"}})],1),e._v(" "),i("b-form-select",{staticClass:"d-inline-flex",attrs:{options:e.filteredLabels},on:{change:e.onChange},model:{value:e.mutableModel,callback:function(t){e.mutableModel=t},expression:"mutableModel"}})],1):e._e()};F._withStripped=!0;var A=i("XhI9"),G=i("g2Gq");T.c.add(P.P);var H={components:{BInputGroup:A.a,BInputGroupPrepend:O.a,BFormSelect:G.a,FontAwesomeIcon:j.a},props:{filter:{type:Object,default:null}},mixins:[k.a],data:function(){return{labels:[],pagination:{page:1,size:15},refresh:!0,mutableModel:null}},created:function(){this.loadFrequentLabels()},methods:{loadFrequentLabels:function(){var e=this,t="";this.filter&&this.filter.labels&&this.filter.labels.length>0&&(t=this.filter.labels.split(",").join("&filter[labels]="));var i="filter[status]=".concat(this.filter.status);"running"===this.filter.status&&(i+="&filter[status]=pending&filter[status]=canceling"),this.axios.get("/api/labels/frequent?".concat(i,"&filter[since]=").concat(this.filter.since,"&filter[search]=").concat(this.filter.search,"&filter[labels]=").concat(t,"&page[number]=").concat(this.pagination.page,"&page[size]=").concat(this.pagination.size)).then((function(t){e.labels=t.data.items,e.periodicallyRefreshFrequentLabels(5)})).catch((function(t){e.periodicallyRefreshFrequentLabels(30)}))},periodicallyRefreshFrequentLabels:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,s=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadFrequentLabels,s))},labelLinkGenerator:function(e){return this.filter&&this.filter.labels&&0!==this.filter.labels.length?this.filter.labels+","+e:e},onChange:function(e){this.$router.push({query:this.queryGenerator({labels:this.labelLinkGenerator(e),page:1})}),this.mutableModel=null}},computed:{filteredLabels:function(){if(!this.labels)return[];var e=[];return this.filter&&this.filter.labels&&(e=this.filter.labels.split(",")),[{value:null,text:"Frequent labels"}].concat(this.labels.filter((function(t){return-1===e.indexOf("".concat(t.key,"=").concat(t.value))})).map((function(e){return{value:"".concat(e.key,"=").concat(e.value),text:"".concat(e.key,"=").concat(e.value," (").concat(e.pipelinescount,")")}})))}},watch:{filter:{handler:function(e,t){this.loadFrequentLabels()},deep:!0}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},U=Object(g.a)(H,F,[],!1,null,null,null);U.options.__file="src/components/FrequentLabels.vue";var M=U.exports,q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-input-group",{staticClass:"mb-3"},[i("b-input-group-prepend",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{"is-text":"",title:"Search on pipeline name"}},[i("font-awesome-icon",{attrs:{icon:"filter"}})],1),e._v(" "),i("b-form-input",{attrs:{type:"text",autocomplete:"off"},on:{input:e.onInput},model:{value:e.mutableModel,callback:function(t){e.mutableModel=t},expression:"mutableModel"}})],1)};q._withStripped=!0;var V=i("R5cT");T.c.add(P.s);var W={components:{BFormInput:V.a,BInputGroup:A.a,BInputGroupPrepend:O.a,FontAwesomeIcon:j.a},props:{model:{type:String,default:null},onInput:{type:Function,default:null}},watch:{model:{handler:function(e,t){this.mutableModel=e},deep:!0}},data:function(){return{mutableModel:this.model}}},z=Object(g.a)(W,q,[],!1,null,null,null);z.options.__file="src/components/PipelineFilter.vue";var J=z.exports,K=i("K5sy"),Q=i("eU28"),X=i("F5n6");function Y(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),s.forEach((function(t){Z(e,t,i[t])}))}return e}function Z(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var ee={components:{SectionHeader:o.a,Spinner:l.a,PipelineRow:y,StatusFilter:w.a,UserFilter:E,LabelFilter:$,FrequentLabels:M,PipelineFilter:J,SinceSelector:K.a,PaginationCompact:Q.a,Pagination:X.a},props:{query:{type:Object,default:null}},data:function(){return{pipelines:[],pagination:{page:1,size:12,totalPages:0,totalItems:0},filter:{status:"all",since:"1d",labels:"",search:"",recentCommitter:"false",recentReleaser:"false"},loaded:!1,refresh:!0}},created:function(){this.filterDefaults=Y({},this.filter),this.setDataFromQueryParams(this.query),this.loadPipelines()},methods:{paginationLinkGenerator:function(e){var t=this.getPipelinesQueryParams();return e>1?t.page=e:t.page&&delete t.page,{query:t}},setDataFromQueryParams:function(e){this.pagination.page=e&&e.page?Number.parseInt(e.page,10):1,this.filter.status=e&&e.status?e.status:this.filterDefaults.status,this.filter.since=e&&e.since?e.since:this.filterDefaults.since,this.filter.labels=e&&e.labels?e.labels:this.filterDefaults.labels,this.filter.search=e&&e.search?e.search:this.filterDefaults.search,this.filter.recentCommitter=e&&e.recentCommitter?e.recentCommitter:this.filterDefaults.recentCommitter,this.filter.recentReleaser=e&&e.recentReleaser?e.recentReleaser:this.filterDefaults.recentReleaser},getPipelinesQueryParams:function(){var e=Y({},this.$route.query);return this.filter&&this.filter.status&&this.filter.status!==this.filterDefaults.status&&""!==this.filter.status?e.status=this.filter.status:e.status&&delete e.status,this.filter&&this.filter.since&&this.filter.since!==this.filterDefaults.since&&""!==this.filter.since?e.since=this.filter.since:e.since&&delete e.since,this.filter&&this.filter.search&&this.filter.search!==this.filterDefaults.search&&""!==this.filter.search?e.search=this.filter.search:e.search&&delete e.search,this.filter&&this.filter.labels&&this.filter.labels!==this.filterDefaults.labels&&""!==this.filter.labels?e.labels=this.filter.labels:e.labels&&delete e.labels,this.pagination&&this.pagination.page&&this.pagination.page>1?e.page=this.pagination.page:e.page&&delete e.page,this.recentCommitter&&this.filter.recentCommitter&&this.filter.recentCommitter!==this.filterDefaults.recentCommitter&&""!==this.filterDefaults.recentCommitter?e.recentCommitter=this.filter.recentCommitter:e.recentCommitter&&delete e.recentCommitter,this.recentReleaser&&this.filter.recentReleaser&&this.filter.recentReleaser!==this.filterDefaults.recentReleaser&&""!==this.filterDefaults.recentReleaser?e.recentReleaser=this.filter.recentReleaser:e.recentReleaser&&delete e.recentReleaser,e},updateQueryParams:function(){this.$router.push({query:this.getPipelinesQueryParams()})},loadPipelines:function(){var e=this,t="";this.filter&&this.filter.labels&&this.filter.labels.length>0&&(t=this.filter.labels.split(",").join("&filter[labels]="));var i="filter[status]=".concat(this.filter.status);"running"===this.filter.status&&(i+="&filter[status]=pending&filter[status]=canceling");var s="",n="";this.user&&this.user.active&&this.filter&&"true"===this.filter.recentCommitter&&(n="&filter[recent-committer]=".concat(this.user.email),s="&sort=-last_updated_at,repo_source,repo_owner,repo_name");var a="";this.user&&this.user.active&&this.filter&&"true"===this.filter.recentReleaser&&(a="&filter[recent-releaser]=".concat(this.user.email),s="&sort=-last_updated_at,repo_source,repo_owner,repo_name"),this.axios.get("/api/pipelines?".concat(i).concat(n).concat(a,"&filter[since]=").concat(this.filter.since,"&filter[search]=").concat(this.filter.search,"&filter[labels]=").concat(t,"&page[number]=").concat(this.pagination.page,"&page[size]=").concat(this.pagination.size).concat(s)).then((function(t){e.pipelines=t.data.items,e.pagination=t.data.pagination,e.loaded=!0,e.periodicallyRefreshPipelines(5)})).catch((function(t){e.periodicallyRefreshPipelines(30)}))},periodicallyRefreshPipelines:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,s=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadPipelines,s))},setSince:function(e){this.filter.since=e,this.pagination.page=1,this.updateQueryParams()},setSearch:r()((function(e){this.filter.search=e,this.pagination.page=1,this.updateQueryParams()}),500)},computed:Y({},Object(n.b)("user",{user:"me"})),watch:{$route:function(e,t){this.setDataFromQueryParams(e.query),this.loadPipelines()}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},te=Object(g.a)(ee,s,[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row-header ml-3 mr-3"},[i("div",{staticClass:"col-3"},[e._v("\n      Pipeline\n    ")]),e._v(" "),i("div",{staticClass:"col-1"},[e._v("\n      Version\n    ")]),e._v(" "),i("div",{staticClass:"col-1"},[e._v("\n      Status\n    ")]),e._v(" "),i("div",{staticClass:"col-2"},[e._v("\n      Built\n    ")]),e._v(" "),i("div",{staticClass:"col-1"},[e._v("\n      Branch\n    ")]),e._v(" "),i("div",{staticClass:"col-1"},[e._v("\n      Revision\n    ")]),e._v(" "),i("div",{staticClass:"col-3"},[e._v("\n      Commit(s)\n    ")])])}],!1,null,null,null);te.options.__file="src/views/Pipelines.vue";t.default=te.exports},K5sy:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-input-group",{staticClass:"mb-3"},[i("b-input-group-prepend",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{"is-text":"",title:"Filter pipelines based on when they're last built or released"}},[i("font-awesome-icon",{attrs:{icon:"clock"}})],1),e._v(" "),i("b-form-select",{attrs:{options:e.sinceOptions},on:{change:e.onChange},model:{value:e.mutableModel,callback:function(t){e.mutableModel=t},expression:"mutableModel"}})],1)};s._withStripped=!0;var n=i("g2Gq"),a=i("XhI9"),r=i("NlY+"),o=i("7O5W"),l=i("wHSu"),c=i("rT2p");o.c.add(l.l);var u={components:{BFormSelect:n.a,BInputGroup:a.a,BInputGroupPrepend:r.a,FontAwesomeIcon:c.a},props:{model:{type:String,default:null},onChange:{type:Function,default:null}},data:function(){return{sinceOptions:[{value:"1h",text:"Since 1 hour ago"},{value:"1d",text:"Since 1 day ago"},{value:"1w",text:"Since 1 week ago"},{value:"1m",text:"Since 1 month ago"},{value:"1y",text:"Since 1 year ago"},{value:"eternity",text:"Since dawn of mankind"}],mutableModel:this.model}}},p=i("KHd+"),d=Object(p.a)(u,s,[],!1,null,null,null);d.options.__file="src/components/SinceSelector.vue";t.a=d.exports},LMxC:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"m-3"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 text-center"},[i("status-filter",{attrs:{filter:e.filter}}),e._v(" "),i("pagination-compact",{staticClass:"float-right",attrs:{pagination:e.pagination,"link-generator":e.paginationLinkGenerator}})],1)]),e._v(" "),i("div",{staticClass:"row-header"},[i("div",{staticClass:"col-2"},[e._v("\n      Version\n    ")]),e._v(" "),i("div",{staticClass:"col-1"},[e._v("\n      Status\n    ")]),e._v(" "),i("div",{staticClass:"col-2"},[e._v("\n      Built at\n    ")]),e._v(" "),i("div",{staticClass:"col-1"},[e._v("\n      Branch\n    ")]),e._v(" "),i("div",{staticClass:"col-1"},[e._v("\n      Revision\n    ")]),e._v(" "),i("div",{staticClass:"col-3"},[e._v("\n      Commit(s)\n    ")]),e._v(" "),e.user&&e.user.active?i("div",{staticClass:"col-2"},[e._v("\n      Actions\n    ")]):e._e()]),e._v(" "),e.builds.length>0?i("transition-group",{attrs:{name:"list-complete",tag:"div"}},e._l(e.builds,(function(t){return i("build-row",{key:t.id,attrs:{build:t,builds:e.builds,pipeline:e.pipeline}})})),1):e.loaded?i("div",{staticClass:"alert alert-warning text-center p-5"},[e._v("\n    There are no builds for the current filters. Please change your filters!\n  ")]):i("div",[i("spinner",{attrs:{color:"primary"}})],1),e._v(" "),e.builds.length>0?i("pagination",{attrs:{pagination:e.pagination,"link-generator":e.paginationLinkGenerator}}):e._e()],1)};s._withStripped=!0;var n=i("L2JU"),a=i("I3XD"),r=i("5t7D"),o=i("eU28"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("router-link",{staticClass:"row-block list-complete-item",attrs:{to:{name:"PipelineBuildLogs",params:{repoSource:e.build.repoSource,repoOwner:e.build.repoOwner,repoName:e.build.repoName,id:e.build.id}},tag:"div"}},[i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Version",value:e.build.buildVersion}}),e._v(" "),i("property-block",{staticClass:"col-xxxl-1",attrs:{label:"Status"}},[i("b-progress",{attrs:{value:100,variant:e.$options.filters.bootstrapVariant(e.build.buildStatus),animated:e.$options.filters.animatedProgressBar(e.build.buildStatus)}})],1),e._v(" "),i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Built at"}},[e._v("\n    "+e._s(e._f("formatDatetime")(e.build.insertedAt))+"\n    "),i("duration-label",{attrs:{duration:e.build.duration,"pending-duration":e.build.pendingDuration}})],1),e._v(" "),i("property-block",{staticClass:"col-xxxl-1",attrs:{label:"Branch",value:e.build.repoBranch}}),e._v(" "),i("property-block",{staticClass:"col-xxxl-1",attrs:{label:"Revision"}},[i("commit-link",{attrs:{build:e.build}})],1),e._v(" "),i("property-block",{staticClass:"col-xxxl-3",attrs:{label:"Commit(s)"}},[i("commits",{attrs:{commits:e.build.commits}})],1),e._v(" "),e.showActions?i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Actions","no-truncate":""}},[i("release-button",{attrs:{pipeline:e.pipeline,build:e.build}}),e._v(" "),i("rebuild-button",{attrs:{build:e.build,builds:e.builds}}),e._v(" "),i("cancel-button",{attrs:{build:e.build}})],1):e._e(),e._v(" "),e.showReleases?i("div",{staticClass:"block-divider"},[i("div")]):e._e(),e._v(" "),e.showReleases?i("property-block",{attrs:{label:"Releases",wide:""}},e._l(e.pipeline.releaseTargets,(function(t){return i("release-badge-for-build",{key:t.name,attrs:{"release-target":t,build:e.build}})})),1):e._e()],1)};l._withStripped=!0;var c=i("SfWM"),u=i("3/MV"),p=i("A/P7"),d=i("8noG"),f=i("9Jms"),m=i("4eZq"),h=i("JWTo"),b=i("D8w6"),v=i("CUMe");function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var _={components:{BProgress:c.a,CommitLink:u.a,ReleaseButton:p.a,RebuildButton:d.a,CancelButton:f.a,ReleaseBadgeForBuild:m.a,PropertyBlock:h.a,DurationLabel:b.a,Commits:v.a},props:{build:{type:Object,default:null},builds:{type:Array,default:null},pipeline:{type:Object,default:null}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),s.forEach((function(t){g(e,t,i[t])}))}return e}({},Object(n.b)("user",{user:"me"}),{showReleases:function(){var e=this;return!!(this.pipeline&&this.pipeline.releaseTargets&&this.pipeline.releaseTargets.length>0)&&this.pipeline.releaseTargets.some((function(t){return t.activeReleases&&t.activeReleases.some((function(t){return t.releaseVersion===e.build.buildVersion}))}))},showActions:function(){return this.user&&this.user.active&&this.build&&("failed"===this.build.buildStatus||"pending"===this.build.buildStatus||"running"===this.build.buildStatus||"canceled"===this.build.buildStatus||"canceling"===this.build.buildStatus||this.pipeline.releaseTargets&&this.pipeline.releaseTargets.length>0&&"succeeded"===this.build.buildStatus)}})},y=i("KHd+"),w=Object(y.a)(_,l,[],!1,null,null,null);w.options.__file="src/components/BuildRow.vue";var x=w.exports,S=i("F5n6");function C(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var O={components:{Spinner:a.a,StatusFilter:r.a,PaginationCompact:o.a,BuildRow:x,Pagination:S.a},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null},query:{type:Object,default:null},pipeline:{type:Object,default:null}},data:function(){return{builds:[],pagination:{page:1,size:10,totalPages:0,totalItems:0},filter:{status:"all"},loaded:!1,refresh:!0}},created:function(){this.setDataFromQueryParams(this.query),this.loadBuilds()},methods:{paginationLinkGenerator:function(e){return{query:{status:this.filter.status,page:e}}},setDataFromQueryParams:function(e){this.pagination.page=e&&e.page?Number.parseInt(e.page,10):1,this.filter.status=e&&e.status?e.status:"all"},loadBuilds:function(){var e=this,t="filter[status]=".concat(this.filter.status);"running"===this.filter.status&&(t+="&filter[status]=pending&filter[status]=canceling"),this.axios.get("/api/pipelines/".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName,"/builds?").concat(t,"&page[number]=").concat(this.pagination.page,"&page[size]=").concat(this.pagination.size)).then((function(t){e.builds=t.data.items,e.pagination=t.data.pagination,e.loaded=!0})).catch((function(t){e.periodicallyRefreshBuilds(15)}))},periodicallyRefreshBuilds:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,s=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadBuilds,s))}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),s.forEach((function(t){C(e,t,i[t])}))}return e}({},Object(n.b)("user",{user:"me"})),watch:{$route:function(e,t){this.setDataFromQueryParams(e.query),this.loadBuilds()},pipeline:{handler:function(e,t){this.loadBuilds()},deep:!0}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},k=Object(y.a)(O,s,[],!1,null,null,null);k.options.__file="src/views/PipelineBuilds.vue";t.default=k.exports},NW6Z:function(e,t,i){"use strict";var s=i("0Prl");i.n(s).a},OOkl:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this.$createElement;return(this._self._c||e)("log-viewer",{attrs:{"log-url":"/api/pipelines/"+this.repoSource+"/"+this.repoOwner+"/"+this.repoName+"/releases/"+this.releaseID+"/logs",status:this.release.releaseStatus}})};s._withStripped=!0;var n={components:{LogViewer:i("FXci").a},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null},releaseID:{type:String,default:null},release:{type:Object,default:null}}},a=i("KHd+"),r=Object(a.a)(n,s,[],!1,null,null,null);r.options.__file="src/views/PipelineReleaseLogs.vue";t.default=r.exports},Qg33:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b-nav",{staticClass:"m-3 d-none d-lg-flex",attrs:{tabs:""}},e._l(e.routes,(function(t){return i("b-nav-item",{key:t.name,class:t.meta&&t.meta.class?t.meta.class:"",attrs:{to:{name:t.name},exact:!!t.meta&&t.meta.exact}},[t.meta&&t.meta.icon?i("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:t.meta?t.meta.icon:""}}):e._e(),e._v(" "),i("span",[e._v("\n        "+e._s(t.meta&&t.meta.text?t.meta.text:t.name)+"\n      ")])],1)})),1),e._v(" "),i("b-dropdown",{staticClass:"m-3 d-lg-none",attrs:{variant:e.variant,block:"","menu-class":"w-100"},scopedSlots:e._u([{key:"button-content",fn:function(){return[e.activeRouteIcon?i("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:e.activeRouteIcon}}):e._e(),e._v("\n      "+e._s(e.activeRouteText)+"\n    ")]},proxy:!0}])},[e._v(" "),e._l(e.routes,(function(t){return i("b-dropdown-item",{key:t.name,class:t.meta&&t.meta.class?t.meta.class:"",attrs:{to:{name:t.name},exact:!!t.meta&&t.meta.exact}},[t.meta&&t.meta.icon?i("font-awesome-icon",{staticClass:"dropdown-icon",attrs:{icon:t.meta?t.meta.icon:""}}):e._e(),e._v(" "),i("span",[e._v("\n        "+e._s(t.meta&&t.meta.text?t.meta.text:t.name)+"\n      ")])],1)}))],2)],1)};s._withStripped=!0;var n=i("L2JU"),a=i("Wfsh"),r=i("RxEo"),o=i("3Zo4"),l=i("nqqA"),c=i("7O5W"),u=i("wHSu"),p=i("rT2p");function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}c.c.add(u.A,u.K,u.S,u.V,u.M,u.u,u.U,u.k,u.f,u.C,u.e,u.v,u.E,u.z,u.Q,u.R,u.H,u.B,u.U,u.G,u.c,u.D);var f={components:{BNav:a.a,BNavItem:r.a,BDropdown:o.a,BDropdownItem:l.a,FontAwesomeIcon:p.a},props:{sectionRouteName:{type:String,default:null}},methods:{isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),s.forEach((function(t){d(e,t,i[t])}))}return e}({},Object(n.b)("user",{user:"me"}),{routes:function(){var e=this,t=this.$route.matched[0].name,i=this.$router.options.routes.find((function(e){return e.name===t}));return i&&i.children?i.children.filter((function(t){return(!t.meta||!t.meta.hide)&&(!!(e.user&&e.user.active||t.meta&&t.meta.allowedWithoutAuth)&&!(t.meta&&t.meta.requiredRole&&!(e.user&&e.user.active&&e.user.roles&&e.user.roles.includes(t.meta.requiredRole))))})):[]},activeRouteText:function(){return this.$route.meta&&this.$route.meta.text?this.$route.meta.text:this.$route.name},activeRouteIcon:function(){if(this.$route.meta&&this.$route.meta.icon)return this.$route.meta.icon},section:function(){var e=this.$route.matched[0].name;return this.sectionRouteName&&(e=this.sectionRouteName),this.$router.options.routes.find((function(t){return t.name===e}))},variant:function(){var e=this.section;return e&&e.meta&&e.meta.variant?e.meta.variant:"secondary"}})},m=i("KHd+"),h=Object(m.a)(f,s,[],!1,null,null,null);h.options.__file="src/components/InnerNavigationTabs.vue";t.a=h.exports},TXNy:function(e,t,i){"use strict";var s=function(){var e=this.$createElement,t=this._self._c||e;return this.section?t("b-jumbotron",{staticClass:"section-header",attrs:{header:this.header,"bg-variant":this.bgVariant,"text-variant":this.textVariant,"header-level":"5","container-fluid":"",fluid:""}}):this._e()};s._withStripped=!0;var n=i("L2JU");function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r={components:{BJumbotron:i("+N68").a},props:{sectionRouteName:{type:String,default:null}},methods:{isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),s.forEach((function(t){a(e,t,i[t])}))}return e}({},Object(n.b)("user",{user:"me"}),{section:function(){var e=this.$route.matched[0].name;return this.sectionRouteName&&(e=this.sectionRouteName),this.$router.options.routes.find((function(t){return t.name===e}))},header:function(){var e=this.section;return e?e.meta&&e.meta.text?e.meta.text:e.name:""},bgVariant:function(){var e=this.section;return e&&e.meta&&e.meta.variant?e.meta.variant:"secondary"},textVariant:function(){var e=this.section;if(!e)return"white";if(e.meta&&e.meta.variant)switch(e.meta.variant){case"warning":return"dark"}return"white"}})},o=i("KHd+"),l=Object(o.a)(r,s,[],!1,null,null,null);l.options.__file="src/components/SectionHeader.vue";t.a=l.exports},Ukwp:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"m-3"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 text-center"},[i("status-filter",{attrs:{filter:e.filter}}),e._v(" "),i("pagination-compact",{staticClass:"float-right",attrs:{pagination:e.pagination,"link-generator":e.paginationLinkGenerator}})],1)]),e._v(" "),i("div",{staticClass:"row-header"},[i("div",{staticClass:"col-2"},[e._v("\n      Target\n    ")]),e._v(" "),i("div",{staticClass:"col-2"},[e._v("\n      Version\n    ")]),e._v(" "),i("div",{staticClass:"col-2"},[e._v("\n      Status\n    ")]),e._v(" "),i("div",{staticClass:"col-2"},[e._v("\n      Released\n    ")]),e._v(" "),i("div",{staticClass:"col-2"},[e._v("\n      Triggered by\n    ")]),e._v(" "),e.user&&e.user.active?i("div",{staticClass:"col-2"},[e._v("\n      Actions\n    ")]):e._e()]),e._v(" "),e.releases.length>0?i("transition-group",{attrs:{name:"list-complete",tag:"div"}},e._l(e.releases,(function(e){return i("release-row",{key:e.id,attrs:{release:e}})})),1):e.loaded?i("div",{staticClass:"alert alert-warning text-center p-5"},[e._v("\n    There are no releases for the current filters. Please change your filters!\n  ")]):i("div",[i("spinner",{attrs:{color:"primary"}})],1),e._v(" "),e.releases.length>0?i("pagination",{attrs:{pagination:e.pagination,"link-generator":e.paginationLinkGenerator}}):e._e()],1)};s._withStripped=!0;var n=i("L2JU"),a=i("I3XD"),r=i("F5n6"),o=i("5t7D"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("router-link",{staticClass:"row-block list-complete-item",attrs:{to:{name:"PipelineReleaseLogs",params:{repoSource:e.release.repoSource,repoOwner:e.release.repoOwner,repoName:e.release.repoName,releaseID:e.release.id}},tag:"div"}},[i("property-block",{staticClass:"col-xxxl-2",attrs:{label:e.release.action?"Target + action":"Target"}},[e._v("\n    "+e._s(e.release.name)),e.release.action?i("span",[e._v("\n      / "+e._s(e.release.action)+"\n    ")]):e._e()]),e._v(" "),i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Version",value:e.release.releaseVersion}}),e._v(" "),i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Status"}},[i("b-progress",{attrs:{value:100,variant:e.$options.filters.bootstrapVariant(e.release.releaseStatus),animated:e.$options.filters.animatedProgressBar(e.release.releaseStatus)}})],1),e._v(" "),i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Released at"}},[e._v("\n    "+e._s(e._f("formatDatetime")(e.release.insertedAt))+"\n    "),i("duration-label",{attrs:{duration:e.release.duration,"pending-duration":e.release.pendingDuration}})],1),e._v(" "),i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Triggered by"}},[i("triggered-by",{attrs:{events:e.release.triggerEvents}})],1),e._v(" "),e.showActions?i("property-block",{staticClass:"col-xxxl-2",attrs:{label:"Actions"}},[i("cancel-button",{attrs:{release:e.release}})],1):e._e()],1)};l._withStripped=!0;var c=i("SfWM"),u=i("9Jms"),p=i("n9g8"),d=i("JWTo"),f=i("D8w6");function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var h={components:{BProgress:c.a,CancelButton:u.a,TriggeredBy:p.a,PropertyBlock:d.a,DurationLabel:f.a},props:{release:{type:Object,default:null}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),s.forEach((function(t){m(e,t,i[t])}))}return e}({},Object(n.b)("user",{user:"me"}),{showActions:function(){return this.user&&this.user.active&&this.release&&("pending"===this.release.releaseStatus||"running"===this.release.releaseStatus||"canceling"===this.release.releaseStatus)}})},b=i("KHd+"),v=Object(b.a)(h,l,[],!1,null,null,null);v.options.__file="src/components/ReleaseRow.vue";var g=v.exports,_=i("eU28");function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var w={components:{Spinner:a.a,Pagination:r.a,StatusFilter:o.a,ReleaseRow:g,PaginationCompact:_.a},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null},query:{type:Object,default:null},pipeline:{type:Object,default:null}},data:function(){return{releases:[],pagination:{page:1,size:10,totalPages:0,totalItems:0},filter:{status:"all"},loaded:!1,refresh:!0}},created:function(){this.setDataFromQueryParams(this.query),this.loadReleases()},methods:{paginationLinkGenerator:function(e){return{query:{status:this.filter.status,page:e}}},setDataFromQueryParams:function(e){this.pagination.page=e&&e.page?Number.parseInt(e.page,10):1,this.filter.status=e&&e.status?e.status:"all"},loadReleases:function(){var e=this,t="filter[status]=".concat(this.filter.status);"running"===this.filter.status&&(t+="&filter[status]=pending&filter[status]=canceling"),this.axios.get("/api/pipelines/".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName,"/releases?").concat(t,"&page[number]=").concat(this.pagination.page,"&page[size]=").concat(this.pagination.size)).then((function(t){e.releases=t.data.items,e.pagination=t.data.pagination,e.loaded=!0})).catch((function(t){e.periodicallyRefreshRelease(15)}))},periodicallyRefreshRelease:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,s=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadReleases,s))}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),s.forEach((function(t){y(e,t,i[t])}))}return e}({},Object(n.b)("user",{user:"me"})),watch:{$route:function(e,t){this.setDataFromQueryParams(e.query),this.loadReleases()},pipeline:{handler:function(e,t){this.loadReleases()},deep:!0}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},x=(i("32f3"),Object(b.a)(w,s,[],!1,null,"36b13f48",null));x.options.__file="src/views/PipelineReleases.vue";t.default=x.exports},Wo8F:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this.$createElement;return(this._self._c||e)("log-viewer",{attrs:{"log-url":"/api/pipelines/"+this.repoSource+"/"+this.repoOwner+"/"+this.repoName+"/builds/"+this.id+"/logs",status:this.build.buildStatus}})};s._withStripped=!0;var n={components:{LogViewer:i("FXci").a},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null},id:{type:String,default:null},build:{type:Object,default:null}}},a=i("KHd+"),r=Object(a.a)(n,s,[],!1,null,null,null);r.options.__file="src/views/PipelineBuildLogs.vue";t.default=r.exports},Xv05:function(e,t,i){"use strict";var s=i("u8ZF");i.n(s).a},bvzo:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{},[e.pipeline?i("pipeline-warnings",{attrs:{pipeline:e.pipeline}}):e._e(),e._v(" "),i("div",{staticClass:"row m-0 mt-3 mb-3 ml-3 justify-content-center"},[i("div",{staticClass:"h5 text-center mt-3 mb-3 text-secondary"},[i("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"tools"}}),e._v("\n      Recent builds\n    ")],1)]),e._v(" "),e.builds.length>0?i("transition-group",{staticClass:"row justify-content-center m-0 mt-3 mb-3 ml-3",attrs:{name:"list-complete",tag:"div"}},e._l(e.builds,(function(t){return i("drag",{key:t.id,staticClass:"col-12 col-md-6 col-xl-4 col-xxl-3 col-xxxl-2 m-0 p-0 pr-3 pb-3 list-complete-item",attrs:{disabled:!e.user||!e.user.active||"succeeded"!==t.buildStatus,data:t}},[i("div",{class:["bg-light","rounded border align-items-center pt-3 pr-2 pb-2 pl-2 text-center bg-white"]},[i("div",{staticClass:"row mb-2"},[i("div",{staticClass:"col-6 text-truncate"},[e._v("\n            "+e._s(t.repoBranch)+"\n          ")]),e._v(" "),i("div",{staticClass:"col-6"},[i("commit-link",{attrs:{build:t}})],1)]),e._v(" "),i("b-button",{staticClass:"mr-1 mb-1 text-truncate",attrs:{to:{name:"PipelineBuildLogs",params:{repoSource:e.pipeline.repoSource,repoOwner:e.pipeline.repoOwner,repoName:e.pipeline.repoName,id:t.id}},exact:"",variant:e.$options.filters.bootstrapVariant(t.buildStatus),size:"sm",block:""}},[t.buildVersion?i("span",[e._v("\n            "+e._s(t.buildVersion)+"\n          ")]):i("span",[e._v("\n            -\n          ")])]),e._v(" "),i("div",{staticClass:"row mt-2"},[t.commits&&t.commits.length>0?i("div",{staticClass:"col-12 text-muted text-truncate"},[e._v("\n            "+e._s(t.commits[0].message)+"\n          ")]):e._e()])],1)])})),1):e.loaded?i("div",{staticClass:"row m-0 mt-3 mb-3 ml-3 alert alert-warning text-center p-5"},[e._v("\n    There are no recent builds for the current pipeline.\n  ")]):i("div",{staticClass:"row m-0 mt-3 mb-3 ml-3"},[i("spinner",{attrs:{color:"primary"}})],1),e._v(" "),e.pipeline.releaseTargets&&e.pipeline.releaseTargets.length>0?i("div",{staticClass:"row m-0 mt-3 mb-3 ml-3 justify-content-center"},[i("div",{staticClass:"h5 text-center mt-3 mb-3 text-secondary"},[i("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"upload"}}),e._v("\n      Releases\n      "),i("div",{staticClass:"small text-muted mt-2"},[e._v("\n        (drag and drop a build on a release)\n      ")])],1)]):e._e(),e._v(" "),i("div",{staticClass:"row m-0 mt-3 mb-3 ml-3 justify-content-center"},e._l(e.pipeline.releaseTargets,(function(t){return i("div",{key:t.name,staticClass:"col-12 col-md-6 col-xl-4 col-xxl-3 col-xxxl-2 m-0 p-0 pr-3 pb-3"},[i("div",{class:["bg-light","rounded border align-items-center pt-3 pr-2 pb-2 pl-2 text-center bg-white"]},[i("h6",{staticClass:"text-truncate"},[e._v("\n          "+e._s(t.name)+"\n        ")]),e._v(" "),e._l(e.mergedActionsAndActiveReleases(t),(function(s,n){return i("drop",{key:n,on:{drop:function(i){return e.releaseBuildToTargetAction(i,t,s)}}},[s&&s.id?i("b-button",{staticClass:"mr-1 mb-1 text-truncate",attrs:{to:{name:"PipelineReleaseLogs",params:{repoSource:e.pipeline.repoSource,repoOwner:e.pipeline.repoOwner,repoName:e.pipeline.repoName,releaseID:s.id}},exact:"",variant:e.$options.filters.bootstrapVariant(s.releaseStatus),size:"sm",block:""}},[s.action?i("span",[e._v("\n              "+e._s(s.action)+":\n            ")]):e._e(),e._v(e._s(e._f("defaultValue")(s.releaseVersion,"-"))+"\n\n            "),e.releaseIsUpToDate(s)?i("font-awesome-icon",{attrs:{icon:"fire"}}):e._e()],1):s?i("button",{class:["btn btn-sm btn-block mr-1 mb-1 text-truncate",e.$options.filters.bootstrapClass(s.releaseStatus,"btn")],attrs:{disabled:"disabled"}},[s.action?i("span",[e._v("\n              "+e._s(s.action)+":\n            ")]):e._e(),e._v(e._s(e._f("defaultValue")(s.releaseVersion,"-"))+"\n          ")]):e._e()],1)}))],2)])})),0)],1)};s._withStripped=!0;var n=function(){var e=this.$createElement,t=this._self._c||e;return this.warnings&&this.warnings.length>0?t("div",{staticClass:"col m-0 mt-3"},[t("div",{staticClass:"row m-0 mt-3 mb-3 ml-3 justify-content-center"},[t("div",{staticClass:"h5 text-center mt-3 mb-3 text-secondary"},[t("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:"exclamation-triangle"}}),this._v("\n      Warnings\n    ")],1)]),this._v(" "),this._l(this.warnings,(function(e,i){return t("warning",{key:i,attrs:{warning:e}})}))],2):this._e()};n._withStripped=!0;var a=i("ofw2"),r=i("7O5W"),o=i("wHSu"),l=i("rT2p");r.c.add(o.o);var c={components:{Warning:a.a,FontAwesomeIcon:l.a},props:{pipeline:{type:Object,default:null}},data:function(){return{warnings:[],refresh:!0}},created:function(){this.loadPipelineWarnings()},methods:{loadPipelineWarnings:function(){var e=this;this.axios.get("/api/pipelines/".concat(this.pipeline.repoSource,"/").concat(this.pipeline.repoOwner,"/").concat(this.pipeline.repoName,"/warnings")).then((function(t){e.warnings=t.data.warnings})).catch((function(t){e.periodicallyRefresh(30)}))},periodicallyRefresh:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,s=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadPipelineWarnings,s))}},watch:{pipeline:{handler:function(e,t){this.loadPipelineWarnings()},deep:!0}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},u=i("KHd+"),p=Object(u.a)(c,n,[],!1,null,null,null);p.options.__file="src/components/PipelineWarnings.vue";var d=p.exports,f=i("L2JU"),m=i("GUe+"),h=i("I3XD"),b=i("3/MV"),v=i("/cvO");function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}r.c.add(o.t,o.Q,o.R);var _={components:{PipelineWarnings:d,BButton:m.a,Spinner:h.a,CommitLink:b.a,Drag:v.a,Drop:v.b,FontAwesomeIcon:l.a},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null},pipeline:{type:Object,default:null}},data:function(){return{builds:[],loaded:!1,refresh:!0}},created:function(){this.loadRecentBuilds()},methods:{releaseBuildToTargetAction:function(e,t,i){if(!this.releaseTargetDisabled(t)){var s="";i.action&&(s=i.action);var n=e.data;this.startRelease(n,t,s)}},startRelease:function(e,t,i){var s=this;if(this.user.active){var n={name:t.name,action:i,repoSource:e.repoSource,repoOwner:e.repoOwner,repoName:e.repoName,releaseVersion:e.buildVersion,releaseStatus:"pending"};this.updateRelease(n),this.axios.post("/api/pipelines/".concat(e.repoSource,"/").concat(e.repoOwner,"/").concat(e.repoName,"/releases"),n).then((function(e){n=e.data,s.updateRelease(n)})).catch((function(e){console.warn(e)}))}},updateRelease:function(e){var t=this.pipeline.releaseTargets.find((function(t){return t.name===e.name}));if(t)if(t.activeReleases){var i=!1,s=t.activeReleases.map((function(t){return t.action?e.action&&t.action===e.action?(i=!0,e):t:(i=!0,e)}));i||s.push(e),t.activeReleases=s}else t.activeReleases=[e]},releaseIsUpToDate:function(e){return this.pipeline&&this.pipeline.buildStatus&&"succeeded"===this.pipeline.buildStatus&&this.pipeline.buildVersion&&e&&e.releaseStatus&&"succeeded"===e.releaseStatus&&this.pipeline.buildVersion===e.releaseVersion},loadRecentBuilds:function(){var e=this;this.axios.get("/api/pipelines/".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName,"/builds?page[size]=6")).then((function(t){e.builds=t.data.items,e.loaded=!0})).catch((function(t){e.periodicallyRefreshRecentBuilds(15)}))},periodicallyRefreshRecentBuilds:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,s=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadRecentBuilds,s))},getActiveRelease:function(e,t){if(e)return e.find((function(e){return e.action===t}))},releaseTargetDisabled:function(e){return this.pipeline&&this.pipeline.releaseTargets&&this.pipeline.releaseTargets.length>0&&this.pipeline.releaseTargets.some((function(t){return t.name===e.name&&t.activeReleases&&t.activeReleases.some((function(e){return e&&"running"===e.releaseStatus}))}))}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),s.forEach((function(t){g(e,t,i[t])}))}return e}({},Object(f.b)("user",{user:"me"}),{mergedActionsAndActiveReleases:function(){var e=this;return function(t){if(!(t.actions&&0!==t.actions.length||t.activeReleases&&0!==t.activeReleases.length))return[{name:t.name,repoSource:e.pipeline.repoSource,repoOwner:e.pipeline.repoOwner,repoName:e.pipeline.repoName}];if(!t.actions||0===t.actions.length)return t.activeReleases;var i=[];return t.actions.forEach((function(s){var n=e.getActiveRelease(t.activeReleases,s.name);void 0!==n?i.push(n):i.push({name:t.name,action:s.name,repoSource:e.pipeline.repoSource,repoOwner:e.pipeline.repoOwner,repoName:e.pipeline.repoName})})),i}}}),watch:{$route:function(e,t){this.loadRecentBuilds()},pipeline:{handler:function(e,t){this.loadRecentBuilds()},deep:!0}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},y=(i("oP4l"),Object(u.a)(_,s,[],!1,null,null,null));y.options.__file="src/views/PipelineOverview.vue";t.default=y.exports},eU28:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mb-3 compact-navigation"},[e.pagination.totalItems>0?i("span",{staticClass:"mr-2"},[e._v("\n    "+e._s(e.firstPageItem)+"-"+e._s(e.lastPageItem)+" of "+e._s(e.pagination.totalItems)+"\n  ")]):e._e(),e._v(" "),e.linkGenerator?i("b-pagination-nav",{staticClass:"d-inline-flex",attrs:{"number-of-pages":e.pagination.totalPages>0?e.pagination.totalPages:1,"link-gen":e.linkGenerator,"use-router":"",limit:"3",size:"md","hide-goto-end-buttons":"",align:"right"}}):i("b-pagination",{staticClass:"d-inline-flex",attrs:{"total-rows":e.pagination.totalItems,"per-page":e.pagination.size,limit:"3",size:"md","hide-goto-end-buttons":"",align:"right"},model:{value:e.pagination.page,callback:function(t){e.$set(e.pagination,"page",t)},expression:"pagination.page"}})],1)};s._withStripped=!0;var n=i("N1fq"),a=i("JtJI"),r={components:{BPaginationNav:n.a,BPagination:a.a},props:{pagination:{type:Object,default:null},linkGenerator:{type:Function,default:null}},computed:{firstPageItem:function(){return 1+(this.pagination.page-1)*this.pagination.size},lastPageItem:function(){return this.pagination.page*this.pagination.size<this.pagination.totalItems?this.pagination.page*this.pagination.size:this.pagination.totalItems}}},o=(i("NW6Z"),i("KHd+")),l=Object(o.a)(r,s,[],!1,null,null,null);l.options.__file="src/components/PaginationCompact.vue";t.a=l.exports},gP8g:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("section-header",{attrs:{"section-route-name":"Pipelines"}}),e._v(" "),i("b-breadcrumb",{staticClass:"m-3 rounded",attrs:{items:e.breadcrumbs}}),e._v(" "),e.build?i("build-header",{attrs:{build:e.build,pipeline:e.build}}):e._e(),e._v(" "),e.build?i("pipeline-build-warnings",{attrs:{build:e.build}}):e._e(),e._v(" "),i("inner-navigation-tabs",{attrs:{"section-route-name":"Pipelines"}}),e._v(" "),e.build?i("router-view",{staticClass:"m-3",attrs:{build:e.build}}):e._e()],1)};s._withStripped=!0;var n=i("L2JU"),a=i("4jWJ"),r=i("TXNy"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"header-block"},[i("property-block",{attrs:{label:"Build",variant:"success",title:""}},[i("repository-title",{attrs:{repo:e.build}})],1),e._v(" "),i("property-block",{attrs:{label:"Version",value:e.build.buildVersion}}),e._v(" "),i("property-block",{attrs:{label:"Status"}},[i("b-progress",{attrs:{value:100,variant:e.$options.filters.bootstrapVariant(e.build.buildStatus),animated:e.$options.filters.animatedProgressBar(e.build.buildStatus)}})],1),e._v(" "),i("property-block",{attrs:{label:"Built at"}},[e._v("\n    "+e._s(e._f("formatDatetime")(e.build.insertedAt))+"\n    "),i("duration-label",{attrs:{duration:e.build.duration,"pending-duration":e.build.pendingDuration}})],1),e._v(" "),i("property-block",{attrs:{label:"Branch",value:e.build.repoBranch}}),e._v(" "),i("property-block",{attrs:{label:"Revision"}},[i("commit-link",{attrs:{build:e.build}})],1),e._v(" "),i("property-block",{attrs:{label:"Commit(s)"}},[i("commits",{attrs:{commits:e.build.commits}})],1),e._v(" "),e.showTriggers?i("property-block",{attrs:{label:"Triggered by"}},[i("triggered-by",{attrs:{events:e.build.triggerEvents}})],1):e._e(),e._v(" "),e.showActions?i("property-block",{attrs:{label:"Actions","no-truncate":""}},[i("release-button",{attrs:{pipeline:e.pipeline,build:e.build}}),e._v(" "),i("rebuild-button",{attrs:{build:e.build,builds:e.builds}}),e._v(" "),i("cancel-button",{attrs:{build:e.build}})],1):e._e(),e._v(" "),e.showReleases?i("div",{staticClass:"block-divider"},[i("div")]):e._e(),e._v(" "),e.showReleases?i("property-block",{attrs:{label:"Releases",wide:""}},e._l(e.pipeline.releaseTargets,(function(t){return i("release-badge-for-build",{key:t.name,attrs:{"release-target":t,build:e.build}})})),1):e._e()],1)};o._withStripped=!0;var l=i("SfWM"),c=i("3/MV"),u=i("A/P7"),p=i("8noG"),d=i("9Jms"),f=i("4eZq"),m=i("n9g8"),h=i("JWTo"),b=i("+jG/"),v=i("D8w6"),g=i("CUMe");function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var y={components:{BProgress:l.a,CommitLink:c.a,ReleaseButton:u.a,RebuildButton:p.a,CancelButton:d.a,ReleaseBadgeForBuild:f.a,TriggeredBy:m.a,PropertyBlock:h.a,RepositoryTitle:b.a,DurationLabel:v.a,Commits:g.a},props:{build:{type:Object,default:null},builds:{type:Array,default:null},pipeline:{type:Object,default:null},rowItem:{type:Boolean,default:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),s.forEach((function(t){_(e,t,i[t])}))}return e}({},Object(n.b)("user",{user:"me"}),{showReleases:function(){var e=this;return!!(this.pipeline&&this.pipeline.releaseTargets&&this.pipeline.releaseTargets.length>0)&&this.pipeline.releaseTargets.some((function(t){return t.activeReleases&&t.activeReleases.some((function(t){return t.releaseVersion===e.build.buildVersion}))}))},showActions:function(){return this.user&&this.user.active&&this.build&&("failed"===this.build.buildStatus||"pending"===this.build.buildStatus||"running"===this.build.buildStatus||"canceled"===this.build.buildStatus||"canceling"===this.build.buildStatus||this.pipeline.releaseTargets&&this.pipeline.releaseTargets.length>0&&"succeeded"===this.build.buildStatus)},showTriggers:function(){return this.build.triggerEvents&&this.build.triggerEvents.length>0}})},w=i("KHd+"),x=Object(w.a)(y,o,[],!1,null,null,null);x.options.__file="src/components/BuildHeader.vue";var S=x.exports,C=function(){var e=this.$createElement,t=this._self._c||e;return this.warnings&&this.warnings.length>0?t("div",{staticClass:"col m-0 mt-3"},this._l(this.warnings,(function(e,i){return t("warning",{key:i,attrs:{warning:e}})})),1):this._e()};C._withStripped=!0;var O={components:{Warning:i("ofw2").a},props:{build:{type:Object,default:null}},data:function(){return{warnings:[],refresh:!0}},created:function(){this.loadBuildWarnings()},methods:{loadBuildWarnings:function(){var e=this;this.axios.get("/api/pipelines/".concat(this.build.repoSource,"/").concat(this.build.repoOwner,"/").concat(this.build.repoName,"/builds/").concat(this.build.id,"/warnings")).then((function(t){e.warnings=t.data.warnings})).catch((function(t){e.periodicallyRefresh(30)}))},periodicallyRefresh:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,s=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadBuildWarnings,s))}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},k=Object(w.a)(O,C,[],!1,null,null,null);k.options.__file="src/components/PipelineBuildWarnings.vue";var T=k.exports,P=i("Qg33");function j(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var R={components:{BBreadcrumb:a.a,SectionHeader:r.a,BuildHeader:S,PipelineBuildWarnings:T,InnerNavigationTabs:P.a},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null},id:{type:String,default:null}},data:function(){return{build:null,refresh:!0,breadcrumbs:[{text:"Builds & releases",to:{name:"Pipelines"}},{text:"".concat(this.repoName),to:{name:"PipelineOverview",params:{repoSource:this.repoSource,repoOwner:this.repoOwner,repoName:this.repoName}}},{text:"builds",to:{name:"PipelineBuilds",params:{repoSource:this.repoSource,repoOwner:this.repoOwner,repoName:this.repoName}}},{text:"..."}]}},created:function(){this.loadBuild()},methods:{loadBuild:function(){var e=this;this.axios.get("/api/pipelines/".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName,"/builds/").concat(this.id)).then((function(t){e.build=t.data,e.breadcrumbs[e.breadcrumbs.length-1]={text:"".concat(e.build.buildVersion),to:{name:"PipelineBuildLogs",params:{repoSource:e.repoSource,repoOwner:e.repoOwner,repoName:e.repoName,id:e.id}},active:!0},"succeeded"!==e.build.buildStatus&&"failed"!==e.build.buildStatus?e.periodicallyRefreshBuild(5):e.periodicallyRefreshBuild(15)})).catch((function(t){e.periodicallyRefreshBuild(30)}))},periodicallyRefreshBuild:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,s=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadBuild,s))},sortLabels:function(e){return e?e.slice().sort((function(e,t){return e.key>t.key})):e}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),s.forEach((function(t){j(e,t,i[t])}))}return e}({},Object(n.b)("user",{user:"me"})),beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},D=Object(w.a)(R,s,[],!1,null,null,null);D.options.__file="src/views/PipelineBuildDetails.vue";t.default=D.exports},iOe7:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"m-3"},[i("div",{staticClass:"container-fluid text-center p-5"},[i("div",{staticClass:"row d-flex justify-content-center"},[i("div",{class:["rounded border border-warning m-3 p-4 d-inline-flex align-items-center trigger-block bg-white"]},[i("div",[i("h6",[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"code-branch"}}),e._v(" "),i("a",{staticClass:"text-body",attrs:{href:"https://"+e.pipeline.repoSource+"/"+e.pipeline.repoOwner+"/"+e.pipeline.repoName,target:"_blank"},on:{click:function(e){e.stopPropagation()}}},[e._v("\n              "+e._s(e.pipeline.repoSource)+"/"+e._s(e.pipeline.repoOwner)+"/"+e._s(e.pipeline.repoName)+" *\n            ")])],1),e._v(" "),e._m(0),e._v(" "),e._m(1)])]),e._v(" "),e._l(e.pipeline.triggers,(function(t,s){return i("div",{key:s,class:["rounded border border-warning m-3 p-4 d-inline-flex align-items-center trigger-block bg-white"]},[t.pipeline?i("div",[i("h6",[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"tools"}}),e._v("\n            "+e._s(t.pipeline.name)+"\n          ")],1),e._v(" "),i("span",{staticClass:"btn btn-light btn-sm mr-1"},[e._v("\n            branch\n            "),i("span",{staticClass:"badge badge-warning"},[e._v("\n              "+e._s(t.pipeline.branch)+"\n            ")])]),e._v(" "),i("span",{staticClass:"btn btn-light btn-sm mr-1"},[e._v("\n            event\n            "),i("span",{staticClass:"badge badge-warning"},[e._v("\n              "+e._s(t.pipeline.event)+"\n            ")])]),e._v(" "),i("span",{staticClass:"btn btn-light btn-sm mr-1"},[e._v("\n            status\n            "),i("span",{staticClass:"badge badge-warning"},[e._v("\n              "+e._s(t.pipeline.status)+"\n            ")])])]):e._e(),e._v(" "),t.release?i("div",[i("h6",[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"upload"}}),e._v("\n            "+e._s(t.release.name)+"\n          ")],1),e._v(" "),i("span",{staticClass:"btn btn-light btn-sm mr-1"},[e._v("\n            target\n            "),i("span",{staticClass:"badge badge-warning"},[e._v("\n              "+e._s(t.release.target)+"\n            ")])]),e._v(" "),i("span",{staticClass:"btn btn-light btn-sm mr-1"},[e._v("\n            event\n            "),i("span",{staticClass:"badge badge-warning"},[e._v("\n              "+e._s(t.release.event)+"\n            ")])]),e._v(" "),i("span",{staticClass:"btn btn-light btn-sm mr-1"},[e._v("\n            status\n            "),i("span",{staticClass:"badge badge-warning"},[e._v("\n              "+e._s(t.release.status)+"\n            ")])])]):e._e(),e._v(" "),t.git?i("div",[i("h6",[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"code-branch"}}),e._v(" "),i("a",{staticClass:"text-body",attrs:{href:"https://"+t.git.repository,target:"_blank"},on:{click:function(e){e.stopPropagation()}}},[e._v("\n              "+e._s(t.git.repository)+"\n            ")])],1)]):e._e(),e._v(" "),t.pubsub?i("div",[i("h6",[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"bezier-curve"}}),e._v("\n            projects/"+e._s(t.pubsub.project)+"/topics/"+e._s(t.pubsub.topic)+"\n          ")],1)]):e._e(),e._v(" "),t.docker?i("div"):e._e(),e._v(" "),t.cron?i("div",[i("h6",[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"clock"}}),e._v("\n            "+e._s(t.cron.schedule)+"\n          ")],1)]):e._e()])}))],2),e._v(" "),i("div",{staticClass:"row d-flex justify-content-center"},[i("div",{class:["rounded border border-primary m-3 p-5 d-inline-flex align-items-center pipeline-block bg-white"]},[i("div",[i("h6",[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"industry"}}),e._v("\n            "+e._s(e.pipeline.repoSource)+"/"+e._s(e.pipeline.repoOwner)+"/"+e._s(e.pipeline.repoName)+"\n          ")],1)])])]),e._v(" "),e._m(2)])])};s._withStripped=!0;var n=i("7O5W"),a=i("wHSu"),r=i("rT2p");n.c.add(a.H,a.Q,a.R,a.T,a.l,a.m,a.z,a.b);var o={components:{FontAwesomeIcon:r.a},props:{pipeline:{type:Object,default:null}}},l=(i("Byn1"),i("KHd+")),c=Object(l.a)(o,s,[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"btn btn-light btn-sm mr-1"},[this._v("\n            event\n            "),t("span",{staticClass:"badge badge-warning"},[this._v("\n              push\n            ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"btn btn-light btn-sm mr-1"},[this._v("\n            branch\n            "),t("span",{staticClass:"badge badge-warning"},[this._v("\n              any\n            ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"alert alert-light text-center m-5 p-4"},[t("div",[this._v("\n        * pipelines automatically trigger on git push; if you want to trigger on other events have a look at the "),t("a",{attrs:{href:"https://estafette.io/usage/manifest/#triggers",target:"_blank"}},[this._v("\n          documentation\n        ")]),this._v(" on how to start using triggers.\n      ")])])}],!1,null,"7b860f92",null);c.options.__file="src/views/PipelineTriggers.vue";t.default=c.exports},n9g8:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.events&&e.events.length>0?i("div",e._l(e.events,(function(t,s){return i("div",{key:s},[t.pipeline?i("div",[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"tools"}}),e._v(" "),i("router-link",{staticClass:"text-body",attrs:{to:{name:"PipelineOverview",params:{repoSource:t.pipeline.repoSource,repoOwner:t.pipeline.repoOwner,repoName:t.pipeline.repoName}}}},[e._v("\n        "+e._s(t.pipeline.repoSource)+"/"+e._s(t.pipeline.repoOwner)+"/"+e._s(t.pipeline.repoName)+"\n      ")])],1):e._e(),e._v(" "),t.release?i("div",[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"upload"}}),e._v(" "),i("router-link",{staticClass:"text-body",attrs:{to:{name:"PipelineReleases",params:{repoSource:t.release.repoSource,repoOwner:t.release.repoOwner,repoName:t.release.repoName}}}},[e._v("\n        "+e._s(t.release.repoSource)+"/"+e._s(t.release.repoOwner)+"/"+e._s(t.release.repoName)+"\n      ")])],1):e._e(),e._v(" "),t.git?i("div",[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"code-branch"}}),e._v(" "),i("a",{staticClass:"text-body",attrs:{href:"https://"+t.git.repository,target:"_blank"},on:{click:function(e){e.stopPropagation()}}},[e._v("\n        "+e._s(t.git.repository)+"\n      ")])],1):e._e(),e._v(" "),t.pubsub?i("div",[i("h6",[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"bezier-curve"}}),e._v("\n        projects/"+e._s(t.pubsub.project)+"/topics/"+e._s(t.pubsub.topic)+"\n      ")],1)]):e._e(),e._v(" "),t.docker?i("div"):e._e(),e._v(" "),t.cron?i("div",[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"clock"}}),e._v("\n      "+e._s(t.cron.time)+"\n    ")],1):e._e(),e._v(" "),t.manual?i("div",[i("font-awesome-icon",{staticClass:"triggered-by-icon",attrs:{icon:"user-circle"}}),e._v("\n      "+e._s(t.manual.userID)+"\n    ")],1):e._e()])})),0):e._e()};s._withStripped=!0;var n=i("7O5W"),a=i("wHSu"),r=i("rT2p");n.c.add(a.Q,a.R,a.T,a.l,a.m,a.b);var o={components:{FontAwesomeIcon:r.a},props:{events:{type:Array,default:null}}},l=i("KHd+"),c=Object(l.a)(o,s,[],!1,null,null,null);c.options.__file="src/components/TriggeredBy.vue";t.a=c.exports},oP4l:function(e,t,i){"use strict";var s=i("osqO");i.n(s).a},ofw2:function(e,t,i){"use strict";var s=function(){var e=this.$createElement,t=this._self._c||e;return t("b-alert",{staticClass:"d-flex flex-row h-100",attrs:{variant:this.$options.filters.bootstrapVariant(this.warning.status),show:""}},[t("mark-down",[this._v(this._s(this.warning.message))])],1)};s._withStripped=!0;var n={components:{BAlert:i("X9p1").a,MarkDown:function(){return Promise.all([i.e(23),i.e(12)]).then(i.bind(null,"VTm/"))}},props:{warning:{type:Object,default:null}}},a=i("KHd+"),r=Object(a.a)(n,s,[],!1,null,null,null);r.options.__file="src/components/Warning.vue";t.a=r.exports},osqO:function(e,t,i){},qvBu:function(e,t,i){},sSrk:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.releaseTarget?i("span",[e.releaseTarget.activeReleases&&e.releaseTarget.activeReleases.length>0?i("div",{staticClass:"btn-light btn btn-sm mr-1 mb-1"},[e._v("\n    "+e._s(e.releaseTarget.name)),e._l(e.mergedActionsAndActiveReleases(e.releaseTarget),(function(t,s){return i("router-link",{key:s,class:[e.$options.filters.bootstrapClass(t.releaseStatus,"badge"),"badge ml-1 mb-1 d-block d-md-inline-block"],attrs:{to:{name:"PipelineReleaseLogs",params:{repoSource:t.repoSource,repoOwner:t.repoOwner,repoName:t.repoName,releaseID:t.id}},exact:"",tag:"span",title:t.action}},[t.action?i("span",[e._v("\n        "+e._s(t.action)+":\n      ")]):e._e(),e._v(e._s(e._f("defaultValue")(t.releaseVersion,"-"))+"\n\n      "),e.releaseIsUpToDate(t)?i("font-awesome-icon",{attrs:{icon:"fire"}}):e._e()],1)}))],2):i("div",{class:["btn-light","btn btn-sm mr-1 mb-1"]},[e._v("\n    "+e._s(e.releaseTarget.name)),i("span",{class:["badge ml-1"]},[e._v("\n      -\n    ")])])]):e._e()};s._withStripped=!0;var n=i("7O5W"),a=i("wHSu"),r=i("rT2p");n.c.add(a.t);var o={components:{FontAwesomeIcon:r.a},props:{releaseTarget:{type:Object,default:null},pipeline:{type:Object,default:null}},methods:{releaseIsUpToDate:function(e){return this.pipeline&&this.pipeline.buildStatus&&"succeeded"===this.pipeline.buildStatus&&this.pipeline.buildVersion&&e&&e.releaseStatus&&"succeeded"===e.releaseStatus&&this.pipeline.buildVersion===e.releaseVersion},getActiveRelease:function(e,t){if(e)return e.find((function(e){return e.action===t}))}},computed:{mergedActionsAndActiveReleases:function(){var e=this;return function(t){if(!(t.actions&&0!==t.actions.length||t.activeReleases&&0!==t.activeReleases.length))return[{name:t.name,repoSource:e.pipeline.repoSource,repoOwner:e.pipeline.repoOwner,repoName:e.pipeline.repoName}];if(!t.actions||0===t.actions.length)return t.activeReleases;var i=[];return t.actions.forEach((function(s){var n=e.getActiveRelease(t.activeReleases,s.name);void 0!==n?i.push(n):i.push({name:t.name,action:s.name,repoSource:e.pipeline.repoSource,repoOwner:e.pipeline.repoOwner,repoName:e.pipeline.repoName})})),i}}}},l=i("KHd+"),c=Object(l.a)(o,s,[],!1,null,null,null);c.options.__file="src/components/ReleaseBadge.vue";t.a=c.exports},sv8Y:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("b-form",{staticClass:"rounded border bg-white p-3",attrs:{autocomplete:"off"},on:{submit:e.onSubmit}},[i("b-form-group",{attrs:{description:"Required for use as a Kubernetes secret."}},[i("b-form-checkbox",{attrs:{id:"base64"},model:{value:e.form.base64,callback:function(t){e.$set(e.form,"base64",t)},expression:"form.base64"}},[e._v("\n        Base64 encode\n      ")])],1),e._v(" "),e.showDoubleEncrypt?i("b-form-group",{attrs:{description:"To encrypt the secret envelope a second time for injecting it into Estafette's configmap."}},[i("b-form-checkbox",{attrs:{id:"double"},model:{value:e.form.double,callback:function(t){e.$set(e.form,"double",t)},expression:"form.double"}},[e._v("\n        Double encrypt\n      ")])],1):e._e(),e._v(" "),i("b-form-group",{attrs:{label:"Pipeline restriction regex","label-for":"pipelineWhitelist",description:"The pipeline to restrict decryption of the secret for."}},[i("b-form-input",{attrs:{id:"pipelineWhitelist",readonly:e.pipelineWhitelistReadonly,type:"text"},model:{value:e.form.pipelineWhitelist,callback:function(t){e.$set(e.form,"pipelineWhitelist",t)},expression:"form.pipelineWhitelist"}})],1),e._v(" "),i("b-form-group",{attrs:{label:"Value to encrypt","label-for":"value",description:"The encrypted secret works only for this Estafette CI installation. Try to avoid newlines, this can cause errors during pipeline execution."}},[i("b-form-textarea",{staticClass:"border bg-light",attrs:{id:"value",placeholder:"Paste your value to be encrypted",rows:5},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1),e._v(" "),i("b-button",{staticClass:"mt-3",attrs:{type:"submit",variant:"primary"}},[e._v("\n      Encrypt\n    ")])],1),e._v(" "),e.encrypting?i("div",[i("spinner",{attrs:{color:"secondary"}})],1):e._e(),e._v(" "),e.secret?i("div",{staticClass:"mt-4"},[i("h5",[e._v("Use this in your manifest to hide secrets in plain sight!")]),e._v(" "),i("div",{staticClass:"pre-wrapper"},[i("pre",{staticClass:"bg-light p-3"},[i("code",[e._v(e._s(e.secret))])]),e._v(" "),i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.click",modifiers:{click:!0}}],staticClass:"btn-clipboard",attrs:{title:"Copied!"},on:{click:e.copy}},[e._v("\n        Copy\n      ")])],1)]):e._e()],1)};s._withStripped=!0;var n=i("I3XD"),a=i("Ed67"),r=i("w+YJ"),o=i("R5cT"),l=i("nH37"),c=i("giZP"),u=i("GUe+"),p=i("tK4P"),d={components:{spinner:n.a,BForm:a.a,BFormCheckbox:r.a,BFormInput:o.a,BFormTextarea:l.a,BFormGroup:c.a,BButton:u.a},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null}},directives:{BTooltip:p.a},data:function(){return{form:{base64:!1,double:!1,pipelineWhitelist:null!==this.repoSource&&null!==this.repoOwner&&null!==this.repoName?"".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName):".*",value:null},pipelineWhitelistReadonly:"AdminSecretEncrypter"!==this.$route.name,showDoubleEncrypt:"AdminSecretEncrypter"===this.$route.name,encrypting:!1,secret:null}},methods:{onSubmit:function(e){var t=this;e.preventDefault(),this.encrypting=!0,this.axios.post("/api/manifest/encrypt",this.form).then((function(e){t.encrypting=!1,t.secret=e.data.secret,window.scrollTo(0,document.body.scrollHeight)})).catch((function(e){t.encrypting=!1,console.warn(e)}))},copy:function(){var e=document.createElement("textarea");e.value=this.secret,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}},f=(i("Xv05"),i("KHd+")),m=Object(f.a)(d,s,[],!1,null,"3db098b8",null);m.options.__file="src/views/SecretEncrypter.vue";t.default=m.exports},u8ZF:function(e,t,i){},wRJ2:function(e,t,i){"use strict";var s=i("EdYc");i.n(s).a},ze2c:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"m-3"},[i("div",{staticClass:"row mt-0 mr-0 ml-0"},[i("div",{staticClass:"col-12 col-sm-8 col-lg"}),e._v(" "),i("div",{staticClass:"col-12 col-sm-4 col-lg-2 p-0 text-right"},[i("b-input-group",{staticClass:"mb-3"},[i("b-input-group-prepend",{attrs:{"is-text":""}},[i("font-awesome-icon",{attrs:{icon:"history"}})],1),e._v(" "),i("b-form-select",{attrs:{options:e.lastOptions},on:{change:e.setLast},model:{value:e.filter.last,callback:function(t){e.$set(e.filter,"last",t)},expression:"filter.last"}})],1)],1)]),e._v(" "),i("div",{staticClass:"mt-0 mr-3 mb-3 ml-3 row"},[i("div",{staticClass:"col-12 col-lg-6 col-xxl-4 col-xxxl-3"},[i("pipeline-stats-timeline",{staticClass:"mb-3",attrs:{pipeline:e.pipeline,filter:e.filter,type:"builds",status:"primary"}})],1),e._v(" "),e.pipeline.releaseTargets&&e.pipeline.releaseTargets.length>0?i("div",{staticClass:"col-12 col-lg-6 col-xxl-4 col-xxxl-3"},[i("pipeline-stats-timeline",{staticClass:"mb-3",attrs:{pipeline:e.pipeline,filter:e.filter,type:"releases",status:"success"}})],1):e._e(),e._v(" "),i("div",{staticClass:"col-12 col-lg-6 col-xxl-4 col-xxxl-3"},[i("pipeline-stats-cpu",{staticClass:"mb-3",attrs:{pipeline:e.pipeline,filter:e.filter,type:"builds",status:"primary"}})],1),e._v(" "),e.pipeline.releaseTargets&&e.pipeline.releaseTargets.length>0?i("div",{staticClass:"col-12 col-lg-6 col-xxl-4 col-xxxl-3"},[i("pipeline-stats-cpu",{staticClass:"mb-3",attrs:{pipeline:e.pipeline,filter:e.filter,type:"releases",status:"success"}})],1):e._e(),e._v(" "),i("div",{staticClass:"col-12 col-lg-6 col-xxl-4 col-xxxl-3"},[i("pipeline-stats-memory",{staticClass:"mb-3",attrs:{pipeline:e.pipeline,filter:e.filter,type:"builds",status:"primary"}})],1),e._v(" "),e.pipeline.releaseTargets&&e.pipeline.releaseTargets.length>0?i("div",{staticClass:"col-12 col-lg-6 col-xxl-4 col-xxxl-3"},[i("pipeline-stats-memory",{staticClass:"mb-3",attrs:{pipeline:e.pipeline,filter:e.filter,type:"releases",status:"success"}})],1):e._e()])])};s._withStripped=!0;var n=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"p-0 graph bg-white"},[t("div",{staticClass:"rounded border"},[0==this.series.length?t("spinner",{attrs:{color:this.status}}):this._e(),this._v(" "),t("apexcharts",{attrs:{width:"100%",type:this.options.type,options:this.options,series:this.series}})],1)])};n._withStripped=!0;var a=i("I3XD"),r=i("gQMU"),o=i.n(r),l={components:{Spinner:a.a,apexcharts:function(){return i.e(26).then(i.t.bind(null,"EyHm",7))}},props:{type:{type:String,default:null},status:{type:String,default:null},pipeline:{type:Object,default:null},filter:{type:Object,default:null}},data:function(){var e=this;return{options:{chart:{id:"".concat(this.type,"-duration-timeline"),animations:{enabled:!0,easing:"easeinout",dynamicAnimation:{enabled:!0,speed:500}},toolbar:{show:!1}},markers:{size:0,hover:{size:6}},title:{text:o()(this.type)+" duration",align:"center",style:{fontSize:"24px",color:this.getColor(this.status)}},type:"line",stroke:{curve:"smooth"},xaxis:{type:"datetime"},yaxis:{min:0,title:{text:"duration"},labels:{formatter:function(t){return void 0!==t?e.$options.filters.formatDuration(t):t}}},colors:this.getColors(this.status),grid:{show:!0,yaxis:{lines:{show:!1,animate:!1}}},tooltip:{shared:!0,intersect:!1,y:{formatter:function(t){return void 0!==t?e.$options.filters.formatDuration(t):t}}}},series:[],refresh:!0}},created:function(){this.loadStat()},methods:{getColor:function(e){switch(e){case"primary":return"#007bff";case"success":return"#28a745"}return"#212529"},getColors:function(e){var t=["#007bff","#28a745","#dc3545","#ffc107","#17a2b8"],i=this.getColor(this.status),s=[i];for(var n in t){var a=t[n];a!==i&&s.push(a)}return s},loadStat:function(){var e=this;this.axios.get("/api/pipelines/".concat(this.pipeline.repoSource,"/").concat(this.pipeline.repoOwner,"/").concat(this.pipeline.repoName,"/stats/").concat(this.type,"durations?filter[last]=").concat(this.filter.last)).then((function(t){e.updateSeries(t.data.durations),e.periodicallyRefreshStat(60)})).catch((function(t){e.periodicallyRefreshStat(120)}))},periodicallyRefreshStat:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,s=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadStat,s))},updateSeries:function(e){var t={};for(var i in e.forEach((function(e){i="duration",e.name&&(i=e.name,e.action&&""!==e.action&&(i+=" / "+e.action)),t[i]||(t[i]=[]),t[i].push({x:e.insertedAt,y:e.duration})})),t){var s=this.series.find((function(e){return e.name===i}));s||(s={name:i,data:[]},this.series.push(s)),s.data=this.filterOutliers(t[i])}},filterOutliers:function(e){return e.length<10?e.sort((function(e,t){return new Date(e.x)-new Date(t.x)})):((t=e.slice().sort((function(e,t){return e.y-t.y}))).length/4%1==0?(i=.5*(t[t.length/4].y+t[t.length/4+1].y),s=.5*(t[t.length*(3/4)].y+t[t.length*(3/4)+1].y)):(i=t[Math.floor(t.length/4+1)].y,s=t[Math.ceil(t.length*(3/4)+1)].y),((r=i-1.5*(n=s-i))>=(a=s+1.5*n)?t.filter((function(e){return e.y>=a&&e.y<=r})):t.filter((function(e){return e.y>=r&&e.y<=a}))).sort((function(e,t){return new Date(e.x)-new Date(t.x)})));var t,i,s,n,a,r}},watch:{filter:{handler:function(e,t){this.loadStat()},deep:!0}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},c=i("KHd+"),u=Object(c.a)(l,n,[],!1,null,null,null);u.options.__file="src/components/PipelineStatsTimeline.vue";var p=u.exports,d=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"p-0 graph bg-white"},[t("div",{staticClass:"rounded border"},[0==this.series.length?t("spinner",{attrs:{color:this.status}}):this._e(),this._v(" "),t("apexcharts",{attrs:{width:"100%",type:this.options.type,options:this.options,series:this.series}})],1)])};d._withStripped=!0;var f={components:{Spinner:a.a,apexcharts:function(){return i.e(26).then(i.t.bind(null,"EyHm",7))}},props:{type:{type:String,default:null},status:{type:String,default:null},pipeline:{type:Object,default:null},filter:{type:Object,default:null}},data:function(){var e=this;return{options:{chart:{id:"".concat(this.type,"-cpu-timeline"),animations:{enabled:!0,easing:"easeinout",dynamicAnimation:{enabled:!0,speed:500}},toolbar:{show:!1}},markers:{size:0,hover:{size:6}},title:{text:o()(this.type)+" max CPU",align:"center",style:{fontSize:"24px",color:this.getColor(this.status)}},type:"line",stroke:{curve:"smooth"},xaxis:{type:"datetime"},yaxis:{min:0,title:{text:"cpu cores"},labels:{formatter:function(t){return void 0!==t?e.$options.filters.formatNumber(t):t}}},colors:this.getColors(this.status),grid:{show:!0,yaxis:{lines:{show:!1,animate:!1}}},tooltip:{shared:!0,intersect:!1,y:{formatter:function(t){return void 0!==t?e.$options.filters.formatNumber(t):t}}}},series:[],refresh:!0}},created:function(){this.loadStat()},methods:{getColor:function(e){switch(e){case"primary":return"#007bff";case"success":return"#28a745"}return"#212529"},getColors:function(e){var t=["#007bff","#28a745","#dc3545","#ffc107","#17a2b8"],i=this.getColor(this.status),s=[i];for(var n in t){var a=t[n];a!==i&&s.push(a)}return s},loadStat:function(){var e=this;this.axios.get("/api/pipelines/".concat(this.pipeline.repoSource,"/").concat(this.pipeline.repoOwner,"/").concat(this.pipeline.repoName,"/stats/").concat(this.type,"cpu?filter[last]=").concat(this.filter.last)).then((function(t){e.updateSeries(t.data.measurements),e.periodicallyRefreshStat(60)})).catch((function(t){e.periodicallyRefreshStat(120)}))},periodicallyRefreshStat:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,s=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadStat,s))},updateSeries:function(e){var t={};for(var i in e.forEach((function(e){i="cpu",e.name&&(i=e.name,e.action&&""!==e.action&&(i+=" / "+e.action)),t[i]||(t[i]=[]),t[i].push({x:e.insertedAt,y:e.cpuMaxUsage})})),t){var s=this.series.find((function(e){return e.name===i}));s||(s={name:i,data:[]},this.series.push(s)),s.data=t[i]}}},watch:{filter:{handler:function(e,t){this.loadStat()},deep:!0}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},m=Object(c.a)(f,d,[],!1,null,null,null);m.options.__file="src/components/PipelineStatsCpu.vue";var h=m.exports,b=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"p-0 graph bg-white"},[t("div",{staticClass:"rounded border"},[0==this.series.length?t("spinner",{attrs:{color:this.status}}):this._e(),this._v(" "),t("apexcharts",{attrs:{width:"100%",type:this.options.type,options:this.options,series:this.series}})],1)])};b._withStripped=!0;var v={components:{Spinner:a.a,apexcharts:function(){return i.e(26).then(i.t.bind(null,"EyHm",7))}},props:{type:{type:String,default:null},status:{type:String,default:null},pipeline:{type:Object,default:null},filter:{type:Object,default:null}},data:function(){var e=this;return{options:{chart:{id:"".concat(this.type,"-memory-timeline"),animations:{enabled:!0,easing:"easeinout",dynamicAnimation:{enabled:!0,speed:500}},toolbar:{show:!1}},markers:{size:0,hover:{size:6}},title:{text:o()(this.type)+" max memory",align:"center",style:{fontSize:"24px",color:this.getColor(this.status)}},type:"line",stroke:{curve:"smooth"},xaxis:{type:"datetime"},yaxis:{min:0,title:{text:"duration"},labels:{formatter:function(t){return void 0!==t?e.$options.filters.formatBytes(t):t}}},colors:this.getColors(this.status),grid:{show:!0,yaxis:{lines:{show:!1,animate:!1}}},tooltip:{shared:!0,intersect:!1,y:{formatter:function(t){return void 0!==t?e.$options.filters.formatBytes(t):t}}}},series:[],refresh:!0}},created:function(){this.loadStat()},methods:{getColor:function(e){switch(e){case"primary":return"#007bff";case"success":return"#28a745"}return"#212529"},getColors:function(e){var t=["#007bff","#28a745","#dc3545","#ffc107","#17a2b8"],i=this.getColor(this.status),s=[i];for(var n in t){var a=t[n];a!==i&&s.push(a)}return s},loadStat:function(){var e=this;this.axios.get("/api/pipelines/".concat(this.pipeline.repoSource,"/").concat(this.pipeline.repoOwner,"/").concat(this.pipeline.repoName,"/stats/").concat(this.type,"memory?filter[last]=").concat(this.filter.last)).then((function(t){e.updateSeries(t.data.measurements),e.periodicallyRefreshStat(60)})).catch((function(t){e.periodicallyRefreshStat(120)}))},periodicallyRefreshStat:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,s=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadStat,s))},updateSeries:function(e){var t={};for(var i in e.forEach((function(e){i="memory",e.name&&(i=e.name,e.action&&""!==e.action&&(i+=" / "+e.action)),t[i]||(t[i]=[]),t[i].push({x:e.insertedAt,y:e.memoryMaxUsage})})),t){var s=this.series.find((function(e){return e.name===i}));s||(s={name:i,data:[]},this.series.push(s)),s.data=t[i]}}},watch:{filter:{handler:function(e,t){this.loadStat()},deep:!0}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},g=Object(c.a)(v,b,[],!1,null,null,null);g.options.__file="src/components/PipelineStatsMemory.vue";var _=g.exports,y=i("g2Gq"),w=i("XhI9"),x=i("NlY+"),S=i("7O5W"),C=i("wHSu"),O=i("rT2p");S.c.add(C.e,C.x);var k={components:{PipelineStatsTimeline:p,PipelineStatsCpu:h,PipelineStatsMemory:_,BFormSelect:y.a,BInputGroup:w.a,BInputGroupPrepend:x.a,FontAwesomeIcon:O.a},props:{query:{type:Object,default:null},pipeline:{type:Object,default:null}},data:function(){return{filter:{last:"100"},lastOptions:[{value:"25",text:"Last 25 builds/releases"},{value:"100",text:"Last 100 builds/releases"},{value:"250",text:"Last 250 builds/releases"},{value:"1000",text:"Last 1000 builds/releases"},{value:"25000",text:"All builds/releases"}]}},created:function(){this.setDataFromQueryParams(this.query)},methods:{setDataFromQueryParams:function(e){this.filter.last=e&&e.last?e.last:"100"},updateQueryParams:function(){this.$router.push({query:{last:this.filter.last}})},setLast:function(e){this.filter.last=e,this.updateQueryParams()}}},T=Object(c.a)(k,s,[],!1,null,null,null);T.options.__file="src/views/PipelineStatistics.vue";t.default=T.exports},zrtL:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("section-header",{attrs:{"section-route-name":"Pipelines"}}),e._v(" "),i("b-breadcrumb",{staticClass:"m-3 rounded",attrs:{items:e.breadcrumbs}}),e._v(" "),e.release?i("release-header",{attrs:{release:e.release}}):e._e(),e._v(" "),i("inner-navigation-tabs",{attrs:{"section-route-name":"Pipelines"}}),e._v(" "),e.release?i("router-view",{staticClass:"m-3",attrs:{release:e.release}}):e._e()],1)};s._withStripped=!0;var n=i("L2JU"),a=i("4jWJ"),r=i("TXNy"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"header-block"},[i("property-block",{attrs:{label:"Release",variant:"success",title:""}},[i("repository-title",{attrs:{repo:e.release}})],1),e._v(" "),i("property-block",{attrs:{label:e.release.action?"Target + action":"Target"}},[e._v("\n    "+e._s(e.release.name)),e.release.action?i("span",[e._v("\n      / "+e._s(e.release.action)+"\n    ")]):e._e()]),e._v(" "),i("property-block",{attrs:{label:"Version",value:e.release.releaseVersion}}),e._v(" "),i("property-block",{attrs:{label:"Status"}},[i("b-progress",{attrs:{value:100,variant:e.$options.filters.bootstrapVariant(e.release.releaseStatus),animated:e.$options.filters.animatedProgressBar(e.release.releaseStatus)}})],1),e._v(" "),i("property-block",{attrs:{label:"Released at"}},[e._v("\n    "+e._s(e._f("formatDatetime")(e.release.insertedAt))+"\n    "),i("duration-label",{attrs:{duration:e.release.duration,"pending-duration":e.release.pendingDuration}})],1),e._v(" "),i("property-block",{attrs:{label:"Triggered by"}},[i("triggered-by",{attrs:{events:e.release.triggerEvents}})],1),e._v(" "),e.showActions?i("property-block",{attrs:{label:"Actions"}},[i("cancel-button",{attrs:{release:e.release}})],1):e._e()],1)};o._withStripped=!0;var l=i("SfWM"),c=i("9Jms"),u=i("n9g8"),p=i("JWTo"),d=i("+jG/"),f=i("D8w6");function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var h={components:{BProgress:l.a,CancelButton:c.a,TriggeredBy:u.a,PropertyBlock:p.a,RepositoryTitle:d.a,DurationLabel:f.a},props:{release:{type:Object,default:null}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),s.forEach((function(t){m(e,t,i[t])}))}return e}({},Object(n.b)("user",{user:"me"}),{showActions:function(){return this.user&&this.user.active&&this.release&&("pending"===this.release.releaseStatus||"running"===this.release.releaseStatus||"canceling"===this.release.releaseStatus)}})},b=i("KHd+"),v=Object(b.a)(h,o,[],!1,null,null,null);v.options.__file="src/components/ReleaseHeader.vue";var g=v.exports,_=i("Qg33");function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var w={components:{BBreadcrumb:a.a,SectionHeader:r.a,ReleaseHeader:g,InnerNavigationTabs:_.a},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null},releaseID:{type:String,default:null}},data:function(){return{release:null,refresh:!0,breadcrumbs:[{text:"Builds & releases",to:{name:"Pipelines"}},{text:"".concat(this.repoName),to:{name:"PipelineOverview",params:{repoSource:this.repoSource,repoOwner:this.repoOwner,repoName:this.repoName}}},{text:"releases",to:{name:"PipelineReleases",params:{repoSource:this.repoSource,repoOwner:this.repoOwner,repoName:this.repoName}}},{text:"..."}]}},created:function(){this.loadRelease()},methods:{loadRelease:function(){var e=this;this.axios.get("/api/pipelines/".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName,"/releases/").concat(this.releaseID)).then((function(t){e.release=t.data,e.breadcrumbs[e.breadcrumbs.length-1]={text:"".concat(e.release.releaseVersion," to ").concat(e.release.name)+(e.release.action?" (".concat(e.release.action,")"):""),to:{name:"PipelineReleaseLogs",params:{repoSource:e.repoSource,repoOwner:e.repoOwner,repoName:e.repoName,releaseID:e.releaseID}},active:!0},"succeeded"!==e.release.releaseStatus&&"failed"!==e.release.releaseStatus?e.periodicallyRefreshRelease(5):e.periodicallyRefreshRelease(15)})).catch((function(t){e.periodicallyRefreshRelease(30)}))},periodicallyRefreshRelease:function(e){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var t=1e3*e*.75,i=1e3*e*1.25,s=Math.floor(Math.random()*(t-i+1)+i);this.refresh&&(this.refreshTimeout=setTimeout(this.loadRelease,s))},sortLabels:function(e){return e?e.slice().sort((function(e,t){return e.key>t.key})):e}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),s.forEach((function(t){y(e,t,i[t])}))}return e}({},Object(n.b)("user",{user:"me"})),beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},x=Object(b.a)(w,s,[],!1,null,null,null);x.options.__file="src/views/PipelineReleaseDetails.vue";t.default=x.exports}}]);