(self.webpackChunkestafette_ci_web=self.webpackChunkestafette_ci_web||[]).push([[328],{605:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-dropdown",{attrs:{text:"Update groups",variant:"warning",disabled:!t.ready||0===t.selected.length}},[n("b-dropdown-form",[t._l(t.groups,(function(e){return n("b-form-checkbox",{key:e.id,class:t.cssClass(e),attrs:{value:"checked:"+e.id,"unchecked-value":"unchecked:"+e.id,indeterminate:t.indeterminateGroups[e.id]},on:{change:t.toggleGroup},model:{value:t.checkedGroups[e.id],callback:function(n){t.$set(t.checkedGroups,e.id,n)},expression:"checkedGroups[g.id]"}},[t._v("\n      "+t._s(e.name)+"\n    ")])})),t._v(" "),n("b-button",{staticClass:"mb-1",attrs:{size:"sm",variant:"primary",disabled:0===t.groupsToAdd.length&&0===t.groupsToRemove.length},on:{click:t.applyGroups}},[t._v("\n      Apply\n    ")]),t._v(" "),n("b-button",{staticClass:"mb-1",attrs:{size:"sm"},on:{click:t.updateGroupsDropdown}},[t._v("\n      Reset\n    ")])],2)],1)};i._withStripped=!0;var o=n(5835),a=n(4424),r=n(4951),s=n(5193),l={components:{BDropdown:o.R,BDropdownForm:a.N,BFormCheckbox:r.l,BButton:s.T},props:{selected:{type:Array,default:function(){return[]}},selectableItems:{type:Array,default:function(){return[]}},type:{type:String,default:null},applyDoneFunc:{type:Function,default:function(){}},selectableIdFunc:{type:Function,default:function(t){return t.id}}},data:function(){return{checkedGroups:{},indeterminateGroups:{},groupsToAdd:[],groupsToRemove:[],groups:[],loaded:{groups:!1}}},created:function(){this.loadGroups()},methods:{loadGroups:function(){var t=this;this.axios.get("/api/groups?page[number]=1&page[size]=100").then((function(e){t.groups=e.data.items,t.loaded.groups=!0})).catch((function(t){console.warn(t)}))},updateGroupsDropdown:function(){var t=this;this.groupsToAdd=[],this.groupsToRemove=[];var e=this.selectableItems.filter((function(e){return t.selected.includes(t.selectableIdFunc(e))}));this.checkedGroups=this.groups.map((function(t){return t.id})).reduce((function(t,n){var i=e.length>0&&e.every((function(t){return t.groups&&t.groups.some((function(t){return t.id===n}))}));return t[n]=i?"checked:"+n:"unchecked:"+n,t}),{}),this.indeterminateGroups=this.groups.map((function(t){return t.id})).reduce((function(t,n){return t[n]=e.length>0&&!e.every((function(t){return t.groups&&t.groups.some((function(t){return t.id===n}))}))&&e.some((function(t){return t.groups&&t.groups.some((function(t){return t.id===n}))})),t}),{})},toggleGroup:function(t){var e="";t.startsWith("checked:")?e="checked:":t.startsWith("unchecked:")&&(e="unchecked:");var n=t.slice(e.length);this.indeterminateGroups[n]=!1,"checked:"===e?(this.groupsToAdd.push(n),this.groupsToRemove=this.groupsToRemove.filter((function(t){return t!==n}))):"unchecked:"===e&&(this.groupsToRemove.push(n),this.groupsToAdd=this.groupsToAdd.filter((function(t){return t!==n})))},applyGroups:function(){var t=this,e={groupsToAdd:this.groups.map((function(t){return{id:t.id,name:t.name}})).filter((function(e){return t.groupsToAdd.includes(e.id)})),groupsToRemove:this.groups.map((function(t){return{id:t.id,name:t.name}})).filter((function(e){return t.groupsToRemove.includes(e.id)}))};e[this.type]=this.selected,this.axios.post("/api/admin/batch/".concat(this.type),e).then((function(e){t.applyDoneFunc()})).catch((function(e){t.updateGroupsDropdown(),console.warn(e)}))},cssClass:function(t){return this.groupsToAdd.includes(t.id)||this.groupsToRemove.includes(t.id)?"text-warning":""}},computed:{ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}},watch:{selected:function(){this.updateGroupsDropdown()}}},c=(0,n(1900).Z)(l,i,[],!1,null,null,null);c.options.__file="src/components/BatchGroupsDropdown.vue";var u=c.exports},1726:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-dropdown",{attrs:{text:"Update organizations",variant:"success",disabled:!t.ready||0===t.selected.length}},[n("b-dropdown-form",[t._l(t.organizations,(function(e){return n("b-form-checkbox",{key:e.id,class:t.cssClass(e),attrs:{value:"checked:"+e.id,"unchecked-value":"unchecked:"+e.id,indeterminate:t.indeterminateOrganizations[e.id]},on:{change:t.toggleOrganization},model:{value:t.checkedOrganizations[e.id],callback:function(n){t.$set(t.checkedOrganizations,e.id,n)},expression:"checkedOrganizations[o.id]"}},[t._v("\n      "+t._s(e.name)+"\n    ")])})),t._v(" "),n("b-button",{staticClass:"mb-1",attrs:{size:"sm",variant:"primary",disabled:0===t.organizationsToAdd.length&&0===t.organizationsToRemove.length},on:{click:t.applyOrganizations}},[t._v("\n      Apply\n    ")]),t._v(" "),n("b-button",{staticClass:"mb-1",attrs:{size:"sm"},on:{click:t.updateOrganizationsDropdown}},[t._v("\n      Reset\n    ")])],2)],1)};i._withStripped=!0;var o=n(5835),a=n(4424),r=n(4951),s=n(5193),l={components:{BDropdown:o.R,BDropdownForm:a.N,BFormCheckbox:r.l,BButton:s.T},props:{selected:{type:Array,default:function(){return[]}},selectableItems:{type:Array,default:function(){return[]}},type:{type:String,default:null},applyDoneFunc:{type:Function,default:function(){}},selectableIdFunc:{type:Function,default:function(t){return t.id}}},data:function(){return{checkedOrganizations:{},indeterminateOrganizations:{},organizationsToAdd:[],organizationsToRemove:[],organizations:[],loaded:{organizations:!1}}},created:function(){this.loadOrganizations()},methods:{loadOrganizations:function(){var t=this;this.axios.get("/api/organizations?page[number]=1&page[size]=100").then((function(e){t.organizations=e.data.items,t.loaded.organizations=!0})).catch((function(t){console.warn(t)}))},updateOrganizationsDropdown:function(){var t=this;this.organizationsToAdd=[],this.organizationsToRemove=[];var e=this.selectableItems.filter((function(e){return t.selected.includes(t.selectableIdFunc(e))}));this.checkedOrganizations=this.organizations.map((function(t){return t.id})).reduce((function(t,n){var i=e.length>0&&e.every((function(t){return t.organizations&&t.organizations.some((function(t){return t.id===n}))}));return t[n]=i?"checked:"+n:"unchecked:"+n,t}),{}),this.indeterminateOrganizations=this.organizations.map((function(t){return t.id})).reduce((function(t,n){return t[n]=e.length>0&&!e.every((function(t){return t.organizations&&t.organizations.some((function(t){return t.id===n}))}))&&e.some((function(t){return t.organizations&&t.organizations.some((function(t){return t.id===n}))})),t}),{})},toggleOrganization:function(t){var e="";t.startsWith("checked:")?e="checked:":t.startsWith("unchecked:")&&(e="unchecked:");var n=t.slice(e.length);this.indeterminateOrganizations[n]=!1,"checked:"===e?(this.organizationsToAdd.push(n),this.organizationsToRemove=this.organizationsToRemove.filter((function(t){return t!==n}))):"unchecked:"===e&&(this.organizationsToRemove.push(n),this.organizationsToAdd=this.organizationsToAdd.filter((function(t){return t!==n})))},applyOrganizations:function(){var t=this,e={organizationsToAdd:this.organizations.map((function(t){return{id:t.id,name:t.name}})).filter((function(e){return t.organizationsToAdd.includes(e.id)})),organizationsToRemove:this.organizations.map((function(t){return{id:t.id,name:t.name}})).filter((function(e){return t.organizationsToRemove.includes(e.id)}))};e[this.type]=this.selected,this.axios.post("/api/admin/batch/".concat(this.type),e).then((function(e){t.applyDoneFunc()})).catch((function(e){t.updateOrganizationsDropdown(),console.warn(e)}))},cssClass:function(t){return this.organizationsToAdd.includes(t.id)||this.organizationsToRemove.includes(t.id)?"text-success":""}},computed:{ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}},watch:{selected:function(){this.updateOrganizationsDropdown()}}},c=(0,n(1900).Z)(l,i,[],!1,null,null,null);c.options.__file="src/components/BatchOrganizationsDropdown.vue";var u=c.exports},8544:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-dropdown",{attrs:{text:"Update roles",variant:"info",disabled:!t.ready||0===t.selected.length}},[n("b-dropdown-form",[t._l(t.roles,(function(e){return n("b-form-checkbox",{key:e,class:t.cssClass(e),attrs:{value:"checked:"+e,"unchecked-value":"unchecked:"+e,indeterminate:t.indeterminateRoles[e]},on:{change:t.toggleRole},model:{value:t.checkedRoles[e],callback:function(n){t.$set(t.checkedRoles,e,n)},expression:"checkedRoles[r]"}},[t._v("\n      "+t._s(e)+"\n    ")])})),t._v(" "),n("b-button",{staticClass:"mb-1",attrs:{size:"sm",variant:"primary",disabled:0===t.rolesToAdd.length&&0===t.rolesToRemove.length},on:{click:t.applyRoles}},[t._v("\n      Apply\n    ")]),t._v(" "),n("b-button",{staticClass:"mb-1",attrs:{size:"sm"},on:{click:t.updateRolesDropdown}},[t._v("\n      Reset\n    ")])],2)],1)};i._withStripped=!0;var o=n(5835),a=n(4424),r=n(4951),s=n(5193),l={components:{BDropdown:o.R,BDropdownForm:a.N,BFormCheckbox:r.l,BButton:s.T},props:{selected:{type:Array,default:function(){return[]}},selectableItems:{type:Array,default:function(){return[]}},type:{type:String,default:null},applyDoneFunc:{type:Function,default:function(){}},selectableIdFunc:{type:Function,default:function(t){return t.id}}},data:function(){return{checkedRoles:{},indeterminateRoles:{},rolesToAdd:[],rolesToRemove:[],roles:[],loaded:{roles:!1}}},created:function(){this.loadRoles()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data,t.loaded.roles=!0})).catch((function(t){console.warn(t)}))},updateRolesDropdown:function(){var t=this;this.rolesToAdd=[],this.rolesToRemove=[];var e=this.selectableItems.filter((function(e){return t.selected.includes(t.selectableIdFunc(e))}));this.checkedRoles=this.roles.reduce((function(t,n){var i=e.length>0&&e.every((function(t){return t.roles&&t.roles.some((function(t){return t===n}))}));return t[n]=i?"checked:"+n:"unchecked:"+n,t}),{}),this.indeterminateRoles=this.roles.reduce((function(t,n){return t[n]=e.length>0&&!e.every((function(t){return t.roles&&t.roles.some((function(t){return t===n}))}))&&e.some((function(t){return t.roles&&t.roles.some((function(t){return t===n}))})),t}),{})},toggleRole:function(t){var e="";t.startsWith("checked:")?e="checked:":t.startsWith("unchecked:")&&(e="unchecked:");var n=t.slice(e.length);this.indeterminateRoles[n]=!1,"checked:"===e?(this.rolesToAdd.push(n),this.rolesToRemove=this.rolesToRemove.filter((function(t){return t!==n}))):"unchecked:"===e&&(this.rolesToRemove.push(n),this.rolesToAdd=this.rolesToAdd.filter((function(t){return t!==n})))},applyRoles:function(){var t=this,e={rolesToAdd:this.rolesToAdd,rolesToRemove:this.rolesToRemove};e[this.type]=this.selected,this.axios.post("/api/admin/batch/".concat(this.type),e).then((function(e){t.applyDoneFunc()})).catch((function(e){t.updateRolesDropdown(),console.warn(e)}))},cssClass:function(t){return this.rolesToAdd.includes(t)||this.rolesToRemove.includes(t)?"text-info":""}},computed:{ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}},watch:{selected:function(){this.updateRolesDropdown()}}},c=(0,n(1900).Z)(l,i,[],!1,null,null,null);c.options.__file="src/components/BatchRolesDropdown.vue";var u=c.exports},1006:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("a",{class:["text-body"],attrs:{href:t.commitURL(),target:"_blank",title:t._f("gitHash")(t.build.repoRevision)},on:{click:function(t){t.stopPropagation()}}},[t._v("\n  "+t._s(t._f("gitHash")(t.build.repoRevision))+"\n")])};i._withStripped=!0;var o={props:{build:{type:Object,default:null}},methods:{commitURL:function(){switch(this.build.repoSource){case"github.com":return"https://github.com/".concat(this.build.repoOwner,"/").concat(this.build.repoName,"/commit/").concat(this.build.repoRevision);case"bitbucket.org":return"https://bitbucket.org/".concat(this.build.repoOwner,"/").concat(this.build.repoName,"/commits/").concat(this.build.repoRevision)}return"#"}}},a=(0,n(1900).Z)(o,i,[],!1,null,null,null);a.options.__file="src/components/CommitLink.vue";var r=a.exports},7322:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.limitCommits,(function(e){return n("div",{key:e.message,staticClass:"text-truncate",attrs:{title:e.message+" / "+e.author.name}},[t._v("\n    "+t._s(e.message)+" / "+t._s(e.author.name)+"\n  ")])})),0)};i._withStripped=!0;var o={props:{commits:{type:Array,default:null},limit:{type:Number,default:3}},computed:{limitCommits:function(){return this.commits?this.commits.length<=this.limit?this.commits:this.commits.slice(0,this.limit):[]}}},a=(0,n(1900).Z)(o,i,[],!1,null,null,null);a.options.__file="src/components/Commits.vue";var r=a.exports},7651:function(t,e,n){"use strict";n.d(e,{Z:function(){return f}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.splitLabels.length>0?n("b-button-group",{staticClass:"mb-3 mr-2 bg-white"},[n("b-input-group-prepend",{attrs:{"is-text":""}},[n("font-awesome-icon",{attrs:{icon:"tag"}})],1),t._v(" "),t._l(t.splitLabels,(function(e){return n("b-button",{key:e,staticClass:"border-btn-group bg-white text-nowrap",attrs:{variant:"outline-primary"}},[t._v("\n    "+t._s(e)+" "),n("router-link",{staticClass:"badge badge-primary",attrs:{to:{query:t.queryGenerator({labels:t.labelLinkGenerator(e)})},"active-class":"router-link-active"}},[t._v("\n      Ã—\n    ")])],1)}))],2):t._e()};i._withStripped=!0;var o=n(5969),a=n(5193),r=n(7754),s=n(648),l=n(8947),c=n(1436),u=n(7810);l.vI.add(c.LEN);var d={components:{BButtonGroup:o.a,BButton:a.T,BInputGroupPrepend:r.P,FontAwesomeIcon:u.GN},mixins:[s.Z],props:{filter:{type:Object,default:null}},methods:{labelLinkGenerator:function(t){if(!this.filter||!this.filter.labels||0===this.filter.labels.length)return"";var e=[];return this.filter&&this.filter.labels&&(e=this.filter.labels.split(",")),e.filter((function(e){return e!==t})).join(",")}},computed:{splitLabels:function(){return this.filter.labels&&0!==this.filter.labels.length?this.filter.labels.split(","):[]}}},p=(0,n(1900).Z)(d,i,[],!1,null,null,null);p.options.__file="src/components/LabelFilter.vue";var f=p.exports},6856:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return f}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Create new client")]),t._v(" "),n("b-form-group",{attrs:{id:"name-group",label:"Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name for the client"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"roles-group",label:"Roles:","label-for":"roles"}},[n("b-form-tags",{attrs:{"input-id":"roles","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.tags,o=e.inputAttrs,a=e.inputHandlers,r=e.disabled,s=e.removeTag;return[i.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(i,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:r,variant:"info"},on:{remove:function(t){return s(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:r||0===t.availableRoles.length,options:t.availableRoles},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                Choose a role...\n              ")])]},proxy:!0}],null,!0)},"b-form-select",o,!1),a))]}}]),model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"organizations-group",label:"Organizations:","label-for":"organizations"}},[n("b-form-tags",{attrs:{"input-id":"organizations","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.tags,o=e.inputAttrs,a=e.inputHandlers,r=e.disabled,s=e.removeTag;return[i.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(i,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:r,variant:"success"},on:{remove:function(t){return s(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:r||0===t.availableOrganizations.length,options:t.availableOrganizations},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                Choose an organization...\n              ")])]},proxy:!0}],null,!0)},"b-form-select",o,!1),a))]}}]),model:{value:t.selectedOrganizations,callback:function(e){t.selectedOrganizations=e},expression:"selectedOrganizations"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary",disabled:!t.ready}},[t._v("\n      Create\n    ")]),t._v(" "),n("b-button",{attrs:{variant:"danger",to:{name:"AdminClients"}}},[t._v("\n      Cancel\n    ")])],1)],1)};i._withStripped=!0;var o=n(4909),a=n(4058),r=n(2183),s=n(1605),l=n(1909),c=n(6982),u=n(5193),d={components:{BForm:o.e,BFormGroup:a.x,BFormInput:r.e,BFormTags:s.D,BFormTag:l.d,BFormSelect:c.K,BButton:u.T},data:function(){return{roles:[],organizations:[],form:{name:"",roles:[]},selectedOrganizations:[],loaded:{roles:!1,organizations:!1}}},created:function(){this.loadRoles(),this.loadOrganizations()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data,t.loaded.roles=!0})).catch((function(t){console.warn(t)}))},loadOrganizations:function(){var t=this;this.axios.get("/api/organizations?page[number]=1&page[size]=100").then((function(e){t.organizations=e.data.items,t.loaded.organizations=!0})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.selectedOrganizations.length>0?this.form.organizations=this.organizations.filter((function(t){return-1!==e.selectedOrganizations.indexOf(t.name)})).map((function(t){return{id:t.id,name:t.name}})):this.form.organizations=[],this.axios.post("/api/clients",this.form).then((function(t){e.$router.push({name:"AdminClients"})})).catch((function(t){console.warn(t)}))}},computed:{availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))},availableOrganizations:function(){var t=this;return this.organizations.map((function(t){return t.name})).filter((function(e){return!t.form||!t.selectedOrganizations||-1===t.selectedOrganizations.indexOf(e)}))},ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},p=(0,n(1900).Z)(d,i,[],!1,null,null,null);p.options.__file="src/views/AdminClientCreate.vue";var f=p.exports},4919:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return f}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Update client")]),t._v(" "),n("b-form-group",{attrs:{id:"name-group",label:"Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name for the client"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"roles-group",label:"Roles:","label-for":"roles"}},[n("b-form-tags",{attrs:{"input-id":"roles","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.tags,o=e.inputAttrs,a=e.inputHandlers,r=e.disabled,s=e.removeTag;return[i.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(i,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:r,variant:"info"},on:{remove:function(t){return s(e)}}},[t._v("\n                  "+t._s(e)+"\n                ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:r||0===t.availableRoles.length,options:t.availableRoles},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                  Choose a role...\n                ")])]},proxy:!0}],null,!0)},"b-form-select",o,!1),a))]}}]),model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"organizations-group",label:"Organizations:","label-for":"organizations"}},[n("b-form-tags",{attrs:{"input-id":"organizations","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.tags,o=e.inputAttrs,a=e.inputHandlers,r=e.disabled,s=e.removeTag;return[i.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(i,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:r,variant:"success"},on:{remove:function(t){return s(e)}}},[t._v("\n                  "+t._s(e)+"\n                ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:r||0===t.availableOrganizations.length,options:t.availableOrganizations},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                  Choose an organization...\n                ")])]},proxy:!0}],null,!0)},"b-form-select",o,!1),a))]}}]),model:{value:t.selectedOrganizations,callback:function(e){t.selectedOrganizations=e},expression:"selectedOrganizations"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary",disabled:!t.ready}},[t._v("\n        Update\n      ")]),t._v(" "),n("b-button",{attrs:{variant:"light",to:{name:"AdminClients"}}},[t._v("\n        Cancel\n      ")])],1)],1),t._v(" "),n("div",{staticClass:"rounded border border-danger bg-white p-3 mt-3"},[n("div",{staticClass:"d-flex justify-content-between"},[t._m(0),t._v(" "),n("div",{staticClass:"align-self-center"},[n("b-button",{attrs:{variant:"danger"},on:{click:t.onDelete}},[t._v("\n          Delete this client\n        ")])],1)])])])};i._withStripped=!0;var o=n(4909),a=n(4058),r=n(2183),s=n(1605),l=n(1909),c=n(6982),u=n(5193),d={components:{BForm:o.e,BFormGroup:a.x,BFormInput:r.e,BFormTags:s.D,BFormTag:l.d,BFormSelect:c.K,BButton:u.T},props:{id:{type:String,default:null}},data:function(){return{roles:[],organizations:[],form:{name:"",roles:[]},selectedOrganizations:[],loaded:{roles:!1,organizations:!1,client:!1}}},created:function(){this.loadRoles(),this.loadOrganizations(),this.loadForm()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data,t.loaded.roles=!0})).catch((function(t){console.warn(t)}))},loadOrganizations:function(){var t=this;this.axios.get("/api/organizations?page[number]=1&page[size]=100").then((function(e){t.organizations=e.data.items,t.loaded.organizations=!0})).catch((function(t){console.warn(t)}))},loadForm:function(){var t=this;this.axios.get("/api/clients/".concat(this.id)).then((function(e){t.form=e.data,t.form&&t.form.organizations&&(t.selectedOrganizations=t.form.organizations.map((function(t){return t.name}))),t.loaded.client=!0})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.selectedOrganizations.length>0?this.form.organizations=this.organizations.filter((function(t){return-1!==e.selectedOrganizations.indexOf(t.name)})).map((function(t){return{id:t.id,name:t.name}})):this.form.organizations=[],this.axios.put("/api/clients/".concat(this.id),this.form).then((function(t){e.$router.push({name:"AdminClients"})})).catch((function(t){console.warn(t)}))},onDelete:function(t){var e=this;t.preventDefault(),this.axios.delete("/api/clients/".concat(this.id)).then((function(t){e.$router.push({name:"AdminClients"})})).catch((function(t){console.warn(t)}))}},computed:{availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))},availableOrganizations:function(){var t=this;return this.organizations.map((function(t){return t.name})).filter((function(e){return!t.form||!t.selectedOrganizations||-1===t.selectedOrganizations.indexOf(e)}))},ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},p=(0,n(1900).Z)(d,i,[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h6",[t._v("Delete this client")]),t._v(" "),n("p",{staticClass:"align-self-end"},[t._v("\n          Once you delete a client, there is no going back. Please be certain.\n        ")])])}],!1,null,null,null);p.options.__file="src/views/AdminClientUpdate.vue";var f=p.exports},4617:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return v}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("b-button",{attrs:{to:{name:"AdminClientCreate"},variant:"success"}},[t._v("\n        Create client\n      ")])],1),t._v(" "),n("div",{staticClass:"col-6 text-right"},[n("pagination-compact",{staticClass:"float-right",attrs:{pagination:t.pagination}})],1)]),t._v(" "),n("router-view"),t._v(" "),n("b-table",{ref:"clients",attrs:{items:t.clientsProvider,fields:t.fields,"per-page":t.pagination.size,"current-page":t.pagination.page,"sort-icon-left":"","no-provider-sorting":"",striped:"",hover:"",borderless:"",stacked:"lg"},scopedSlots:t._u([{key:"head(checkbox)",fn:function(){return[n("b-form-checkbox",{attrs:{id:"toggle-all",checked:t.clients.length>0&&t.clients.length===t.selected.length,indeterminate:t.selected.length>0&&t.selected.length<t.clients.length,disabled:!t.ready},on:{change:t.toggleAll}})]},proxy:!0},{key:"top-row",fn:function(){return[n("b-td",{attrs:{colspan:"2"}}),t._v(" "),n("b-td",[n("batch-roles-dropdown",{attrs:{selected:t.selected,"selectable-items":t.clients,type:"clients","apply-done-func":t.applyDone}})],1),t._v(" "),n("b-td",[n("batch-organizations-dropdown",{attrs:{selected:t.selected,"selectable-items":t.clients,type:"clients","apply-done-func":t.applyDone}})],1),t._v(" "),n("b-td",{attrs:{colspan:"1"}})]},proxy:!0},{key:"cell(checkbox)",fn:function(e){return[n("b-form-checkbox",{attrs:{value:e.item.id},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})]}},{key:"cell(roles)",fn:function(e){return t._l(e.item.roles,(function(e){return n("b-badge",{key:e,staticClass:"mr-1",attrs:{variant:"info"}},[t._v("\n        "+t._s(e)+"\n      ")])}))}},{key:"cell(organizations)",fn:function(e){return t._l(e.item.organizations,(function(e){return n("b-badge",{key:e.name,staticClass:"mr-1",attrs:{variant:"success"}},[t._v("\n        "+t._s(e.name)+"\n      ")])}))}},{key:"cell(actions)",fn:function(e){return[n("b-button",{staticClass:"mr-1 mb-1",attrs:{size:"sm"},on:{click:e.toggleDetails}},[t._v("\n        "+t._s(e.detailsShowing?"Hide":"Details")+"\n      ")]),t._v(" "),n("b-button",{staticClass:"mr-1 mb-1",attrs:{size:"sm",to:{name:"AdminClientUpdate",params:{id:e.item.id}}}},[t._v("\n        Edit\n      ")])]}},{key:"row-details",fn:function(e){return[n("b-card",[n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("ID:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.id))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Active:")])]),t._v(" "),n("b-col",[t._v(t._s(!!e.item.active&&e.item.active))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Client ID:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.clientID))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Client secret:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.clientSecret))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Organizations:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.organizations))])],1)],1)]}}])}),t._v(" "),t.clients.length>0?n("pagination",{attrs:{pagination:t.pagination}}):t._e()],1)};i._withStripped=!0;var o=n(4140),a=n(6456),r=n(5193),s=n(9952),l=n(6253),c=n(725),u=n(6034),d=n(4951),p=n(8544),f=n(1726),m=n(2352),g=n(9090),h={components:{BTable:o.h,BTd:a.S,BButton:r.T,BCard:s._,BRow:l.T,BCol:c.l,BBadge:u.k,BFormCheckbox:d.l,BatchRolesDropdown:p.Z,BatchOrganizationsDropdown:f.Z,PaginationCompact:m.Z,Pagination:g.Z},data:function(){return{selected:[],clients:[],pagination:{page:1,size:100,totalPages:0,totalItems:0},fields:[{key:"checkbox",label:"",class:"text-center"},{key:"name",sortable:!0},{key:"roles",sortable:!0},{key:"organizations",sortable:!0},{key:"actions"}],loaded:{clients:!1}}},methods:{clientsProvider:function(t){var e=this;return this.axios.get("/api/clients?page[number]=".concat(t.currentPage,"&page[size]=").concat(t.perPage)).then((function(t){return e.clients=t.data.items,e.pagination=t.data.pagination,e.loaded.clients=!0,e.selected=[],e.clients||[]}))},toggleAll:function(t){this.selected=t?this.clients.map((function(t){return t.id})):[]},applyDone:function(){this.$refs.clients.refresh()}},computed:{ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},b=(0,n(1900).Z)(h,i,[],!1,null,null,null);b.options.__file="src/views/AdminClients.vue";var v=b.exports},9536:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return f}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Create new group")]),t._v(" "),n("b-form-group",{attrs:{id:"name-group",label:"Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name for the group"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"description-group",label:"Description:","label-for":"description"}},[n("b-form-input",{attrs:{id:"description",type:"text",placeholder:"Enter a description for the group"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"roles-group",label:"Roles:","label-for":"roles"}},[n("b-form-tags",{attrs:{"input-id":"roles","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.tags,o=e.inputAttrs,a=e.inputHandlers,r=e.disabled,s=e.removeTag;return[i.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(i,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:r,variant:"info"},on:{remove:function(t){return s(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:r||0===t.availableRoles.length,options:t.availableRoles},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                Choose a role...\n              ")])]},proxy:!0}],null,!0)},"b-form-select",o,!1),a))]}}]),model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"organizations-group",label:"Organizations:","label-for":"organizations"}},[n("b-form-tags",{attrs:{"input-id":"organizations","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.tags,o=e.inputAttrs,a=e.inputHandlers,r=e.disabled,s=e.removeTag;return[i.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(i,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:r,variant:"success"},on:{remove:function(t){return s(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:r||0===t.availableOrganizations.length,options:t.availableOrganizations},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                Choose an organization...\n              ")])]},proxy:!0}],null,!0)},"b-form-select",o,!1),a))]}}]),model:{value:t.selectedOrganizations,callback:function(e){t.selectedOrganizations=e},expression:"selectedOrganizations"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary",disabled:!t.ready}},[t._v("\n      Create\n    ")]),t._v(" "),n("b-button",{attrs:{variant:"danger",to:{name:"AdminGroups"}}},[t._v("\n      Cancel\n    ")])],1)],1)};i._withStripped=!0;var o=n(4909),a=n(4058),r=n(2183),s=n(1605),l=n(1909),c=n(6982),u=n(5193),d={components:{BForm:o.e,BFormGroup:a.x,BFormInput:r.e,BFormTags:s.D,BFormTag:l.d,BFormSelect:c.K,BButton:u.T},data:function(){return{roles:[],organizations:[],form:{name:"",roles:[]},selectedOrganizations:[],loaded:{roles:!1,organizations:!1}}},created:function(){this.loadRoles(),this.loadOrganizations()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data,t.loaded.roles=!0})).catch((function(t){console.warn(t)}))},loadOrganizations:function(){var t=this;this.axios.get("/api/organizations?page[number]=1&page[size]=100").then((function(e){t.organizations=e.data.items,t.loaded.organizations=!0})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.selectedOrganizations.length>0?this.form.organizations=this.organizations.filter((function(t){return-1!==e.selectedOrganizations.indexOf(t.name)})).map((function(t){return{id:t.id,name:t.name}})):this.form.organizations=[],this.form.identities=[{provider:"estafette",name:this.form.name}],this.axios.post("/api/groups",this.form).then((function(t){e.$router.push({name:"AdminGroups"})})).catch((function(t){console.warn(t)}))}},computed:{availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))},availableOrganizations:function(){var t=this;return this.organizations.map((function(t){return t.name})).filter((function(e){return!t.form||!t.selectedOrganizations||-1===t.selectedOrganizations.indexOf(e)}))},ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},p=(0,n(1900).Z)(d,i,[],!1,null,null,null);p.options.__file="src/views/AdminGroupCreate.vue";var f=p.exports},6681:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return f}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Update group")]),t._v(" "),n("b-form-group",{attrs:{id:"name-group",label:"Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name for the group"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"description-group",label:"Description:","label-for":"description"}},[n("b-form-input",{attrs:{id:"description",type:"text",placeholder:"Enter a description for the group"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"roles-group",label:"Roles:","label-for":"roles"}},[n("b-form-tags",{attrs:{"input-id":"roles","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.tags,o=e.inputAttrs,a=e.inputHandlers,r=e.disabled,s=e.removeTag;return[i.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(i,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:r,variant:"info"},on:{remove:function(t){return s(e)}}},[t._v("\n                  "+t._s(e)+"\n                ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:r||0===t.availableRoles.length,options:t.availableRoles},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                  Choose a role...\n                ")])]},proxy:!0}],null,!0)},"b-form-select",o,!1),a))]}}]),model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"organizations-group",label:"Organizations:","label-for":"organizations"}},[n("b-form-tags",{attrs:{"input-id":"organizations","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.tags,o=e.inputAttrs,a=e.inputHandlers,r=e.disabled,s=e.removeTag;return[i.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(i,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:r,variant:"success"},on:{remove:function(t){return s(e)}}},[t._v("\n                  "+t._s(e)+"\n                ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:r||0===t.availableOrganizations.length,options:t.availableOrganizations},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                  Choose an organization...\n                ")])]},proxy:!0}],null,!0)},"b-form-select",o,!1),a))]}}]),model:{value:t.selectedOrganizations,callback:function(e){t.selectedOrganizations=e},expression:"selectedOrganizations"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary",disabled:!t.ready}},[t._v("\n        Update\n      ")]),t._v(" "),n("b-button",{attrs:{variant:"light",to:{name:"AdminGroups"}}},[t._v("\n        Cancel\n      ")])],1)],1),t._v(" "),n("div",{staticClass:"rounded border border-danger bg-white p-3 mt-3"},[n("div",{staticClass:"d-flex justify-content-between"},[t._m(0),t._v(" "),n("div",{staticClass:"align-self-center"},[n("b-button",{attrs:{variant:"danger"},on:{click:t.onDelete}},[t._v("\n          Delete this group\n        ")])],1)])])])};i._withStripped=!0;var o=n(4909),a=n(4058),r=n(2183),s=n(1605),l=n(1909),c=n(6982),u=n(5193),d={components:{BForm:o.e,BFormGroup:a.x,BFormInput:r.e,BFormTags:s.D,BFormTag:l.d,BFormSelect:c.K,BButton:u.T},props:{id:{type:String,default:null}},data:function(){return{roles:[],organizations:[],form:{name:"",roles:[]},selectedOrganizations:[],loaded:{roles:!1,organizations:!1,group:!1}}},created:function(){this.loadRoles(),this.loadOrganizations(),this.loadForm()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data,t.loaded.roles=!0})).catch((function(t){console.warn(t)}))},loadOrganizations:function(){var t=this;this.axios.get("/api/organizations?page[number]=1&page[size]=100").then((function(e){t.organizations=e.data.items,t.loaded.organizations=!0})).catch((function(t){console.warn(t)}))},loadForm:function(){var t=this;this.axios.get("/api/groups/".concat(this.id)).then((function(e){t.form=e.data,t.form&&t.form.organizations&&(t.selectedOrganizations=t.form.organizations.map((function(t){return t.name}))),t.loaded.group=!0})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.selectedOrganizations.length>0?this.form.organizations=this.organizations.filter((function(t){return-1!==e.selectedOrganizations.indexOf(t.name)})).map((function(t){return{id:t.id,name:t.name}})):this.form.organizations=[],this.axios.put("/api/groups/".concat(this.id),this.form).then((function(t){e.$router.push({name:"AdminGroups"})})).catch((function(t){console.warn(t)}))},onDelete:function(t){var e=this;t.preventDefault(),this.axios.delete("/api/groups/".concat(this.id)).then((function(t){e.$router.push({name:"AdminGroups"})})).catch((function(t){console.warn(t)}))}},computed:{availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))},availableOrganizations:function(){var t=this;return this.organizations.map((function(t){return t.name})).filter((function(e){return!t.form||!t.selectedOrganizations||-1===t.selectedOrganizations.indexOf(e)}))},ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},p=(0,n(1900).Z)(d,i,[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h6",[t._v("Delete this group")]),t._v(" "),n("p",{staticClass:"align-self-end"},[t._v("\n          Once you delete a group, there is no going back. Please be certain.\n        ")])])}],!1,null,null,null);p.options.__file="src/views/AdminGroupUpdate.vue";var f=p.exports},2040:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return x}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("b-button",{attrs:{to:{name:"AdminGroupCreate"},variant:"success"}},[t._v("\n        Create group\n      ")])],1),t._v(" "),n("div",{staticClass:"col-6 text-right"},[n("pagination-compact",{staticClass:"float-right",attrs:{pagination:t.pagination}})],1)]),t._v(" "),n("router-view"),t._v(" "),n("b-table",{ref:"groups",attrs:{items:t.groupsProvider,fields:t.fields,"per-page":t.pagination.size,"current-page":t.pagination.page,"sort-icon-left":"","no-provider-sorting":"",striped:"",hover:"",borderless:"",stacked:"lg"},scopedSlots:t._u([{key:"head(checkbox)",fn:function(){return[n("b-form-checkbox",{attrs:{id:"toggle-all",checked:t.groups.length>0&&t.groups.length===t.selected.length,indeterminate:t.selected.length>0&&t.selected.length<t.groups.length,disabled:!t.ready},on:{change:t.toggleAll}})]},proxy:!0},{key:"top-row",fn:function(){return[n("b-td",{attrs:{colspan:"2"}}),t._v(" "),n("b-td",[n("batch-roles-dropdown",{attrs:{selected:t.selected,"selectable-items":t.groups,type:"groups","apply-done-func":t.applyDone}})],1),t._v(" "),n("b-td",[n("batch-organizations-dropdown",{attrs:{selected:t.selected,"selectable-items":t.groups,type:"groups","apply-done-func":t.applyDone}})],1),t._v(" "),n("b-td",{attrs:{colspan:"1"}})]},proxy:!0},{key:"cell(checkbox)",fn:function(e){return[n("b-form-checkbox",{attrs:{value:e.item.id},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})]}},{key:"cell(roles)",fn:function(e){return t._l(e.item.roles,(function(e){return n("b-badge",{key:e,staticClass:"mr-1",attrs:{variant:"info"}},[t._v("\n        "+t._s(e)+"\n      ")])}))}},{key:"cell(organizations)",fn:function(e){return t._l(e.item.organizations,(function(e){return n("b-badge",{key:e.name,staticClass:"mr-1",attrs:{variant:"success"}},[t._v("\n        "+t._s(e.name)+"\n      ")])}))}},{key:"cell(actions)",fn:function(e){return[n("b-button",{staticClass:"mr-1 mb-1",attrs:{size:"sm"},on:{click:e.toggleDetails}},[t._v("\n        "+t._s(e.detailsShowing?"Hide":"Details")+"\n      ")]),t._v(" "),n("b-button",{staticClass:"mr-1 mb-1",attrs:{size:"sm",to:{name:"AdminGroupUpdate",params:{id:e.item.id}}}},[t._v("\n        Edit\n      ")])]}},{key:"row-details",fn:function(e){return[n("b-card",[n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("ID:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.id))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Identities:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.identities))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Members:")])]),t._v(" "),n("b-col",[n("admin-group-members",{attrs:{id:e.item.id}})],1)],1)],1)]}}])}),t._v(" "),t.groups.length>0?n("pagination",{attrs:{pagination:t.pagination}}):t._e()],1)};i._withStripped=!0;var o=n(4140),a=n(6456),r=n(5193),s=n(9952),l=n(6253),c=n(725),u=n(6034),d=n(4951),p=n(8544),f=n(1726),m=n(2352),g=n(9090),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",t._l(t.members,(function(e){return n("li",{key:e.id},[t._v("\n    "+t._s(e.name)+" ("+t._s(e.email)+")\n  ")])})),0)};h._withStripped=!0;var b={props:{id:{type:String,default:null}},data:function(){return{members:[]}},created:function(){this.loadMembers()},methods:{loadMembers:function(){var t=this;return this.axios.get("/api/users?filter[group-id]=".concat(this.id,"&page[size]=100")).then((function(e){t.members=e.data.items})).catch((function(t){console.warn(t)}))}}},v=n(1900),_=(0,v.Z)(b,h,[],!1,null,null,null);_.options.__file="src/components/AdminGroupMembers.vue";var y=_.exports,z={components:{BTable:o.h,BTd:a.S,BButton:r.T,BCard:s._,BRow:l.T,BCol:c.l,BBadge:u.k,BFormCheckbox:d.l,BatchOrganizationsDropdown:f.Z,PaginationCompact:m.Z,Pagination:g.Z,AdminGroupMembers:y,BatchRolesDropdown:p.Z},data:function(){return{selected:[],groups:[],pagination:{page:1,size:100,totalPages:0,totalItems:0},fields:[{key:"checkbox",label:"",class:"text-center"},{key:"name",sortable:!0},{key:"roles",sortable:!0},{key:"organizations",sortable:!0},{key:"actions"}],loaded:{groups:!1}}},methods:{groupsProvider:function(t){var e=this;return this.axios.get("/api/groups?page[number]=".concat(t.currentPage,"&page[size]=").concat(t.perPage)).then((function(t){return e.groups=t.data.items,e.pagination=t.data.pagination,e.loaded.groups=!0,e.selected=[],e.groups||[]}))},toggleAll:function(t){this.selected=t?this.groups.map((function(t){return t.id})):[]},applyDone:function(){this.$refs.groups.refresh()}},computed:{ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},k=(0,v.Z)(z,i,[],!1,null,null,null);k.options.__file="src/views/AdminGroups.vue";var x=k.exports},9386:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return f}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Create new organization")]),t._v(" "),n("b-form-group",{attrs:{id:"name-group",label:"Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name for the organization"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"roles-group",label:"Roles:","label-for":"roles"}},[n("b-form-tags",{attrs:{"input-id":"roles","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.tags,o=e.inputAttrs,a=e.inputHandlers,r=e.disabled,s=e.removeTag;return[i.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(i,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:r,variant:"info"},on:{remove:function(t){return s(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:r||0===t.availableRoles.length,options:t.availableRoles},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                Choose a role...\n              ")])]},proxy:!0}],null,!0)},"b-form-select",o,!1),a))]}}]),model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary",disabled:!t.ready}},[t._v("\n      Create\n    ")]),t._v(" "),n("b-button",{attrs:{variant:"danger",to:{name:"AdminOrganizations"}}},[t._v("\n      Cancel\n    ")])],1)],1)};i._withStripped=!0;var o=n(4909),a=n(4058),r=n(2183),s=n(1605),l=n(1909),c=n(6982),u=n(5193),d={components:{BForm:o.e,BFormGroup:a.x,BFormInput:r.e,BFormTags:s.D,BFormTag:l.d,BFormSelect:c.K,BButton:u.T},data:function(){return{roles:[],form:{name:"",roles:[]},loaded:{roles:!1}}},created:function(){this.loadRoles()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data,t.loaded.roles=!0})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.form.identities=[{provider:"estafette",name:this.form.name}],this.axios.post("/api/organizations",this.form).then((function(t){e.$router.push({name:"AdminOrganizations"})})).catch((function(t){console.warn(t)}))}},computed:{availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))},ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},p=(0,n(1900).Z)(d,i,[],!1,null,null,null);p.options.__file="src/views/AdminOrganizationCreate.vue";var f=p.exports},9201:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return f}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Update organization")]),t._v(" "),n("b-form-group",{attrs:{id:"name-group",label:"Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name for the organization"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"roles-group",label:"Roles:","label-for":"roles"}},[n("b-form-tags",{attrs:{"input-id":"roles","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.tags,o=e.inputAttrs,a=e.inputHandlers,r=e.disabled,s=e.removeTag;return[i.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(i,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:r,variant:"info"},on:{remove:function(t){return s(e)}}},[t._v("\n                  "+t._s(e)+"\n                ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:r||0===t.availableRoles.length,options:t.availableRoles},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                  Choose a role...\n                ")])]},proxy:!0}],null,!0)},"b-form-select",o,!1),a))]}}]),model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary",disabled:!t.ready}},[t._v("\n        Update\n      ")]),t._v(" "),n("b-button",{attrs:{variant:"light",to:{name:"AdminOrganizations"}}},[t._v("\n        Cancel\n      ")])],1)],1),t._v(" "),n("div",{staticClass:"rounded border border-danger bg-white p-3 mt-3"},[n("div",{staticClass:"d-flex justify-content-between"},[t._m(0),t._v(" "),n("div",{staticClass:"align-self-center"},[n("b-button",{attrs:{variant:"danger"},on:{click:t.onDelete}},[t._v("\n          Delete this organization\n        ")])],1)])])])};i._withStripped=!0;var o=n(4909),a=n(4058),r=n(2183),s=n(1605),l=n(1909),c=n(6982),u=n(5193),d={components:{BForm:o.e,BFormGroup:a.x,BFormInput:r.e,BFormTags:s.D,BFormTag:l.d,BFormSelect:c.K,BButton:u.T},props:{id:{type:String,default:null}},data:function(){return{roles:[],form:{name:"",roles:[]},loaded:{roles:!1,organization:!1}}},created:function(){this.loadRoles(),this.loadForm()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data,t.loaded.roles=!0})).catch((function(t){console.warn(t)}))},loadForm:function(){var t=this;this.axios.get("/api/organizations/".concat(this.id)).then((function(e){t.form=e.data,t.loaded.organization=!0})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.axios.put("/api/organizations/".concat(this.id),this.form).then((function(t){e.$router.push({name:"AdminOrganizations"})})).catch((function(t){console.warn(t)}))},onDelete:function(t){var e=this;t.preventDefault(),this.axios.delete("/api/organizations/".concat(this.id)).then((function(t){e.$router.push({name:"AdminOrganizations"})})).catch((function(t){console.warn(t)}))}},computed:{availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))},ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},p=(0,n(1900).Z)(d,i,[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h6",[t._v("Delete this organization")]),t._v(" "),n("p",{staticClass:"align-self-end"},[t._v("\n          Once you delete an organization, there is no going back. Please be certain.\n        ")])])}],!1,null,null,null);p.options.__file="src/views/AdminOrganizationUpdate.vue";var f=p.exports},2371:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return b}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("b-button",{attrs:{to:{name:"AdminOrganizationCreate"},variant:"success"}},[t._v("\n        Create organization\n      ")])],1),t._v(" "),n("div",{staticClass:"col-6 text-right"},[n("pagination-compact",{staticClass:"float-right",attrs:{pagination:t.pagination}})],1)]),t._v(" "),n("router-view"),t._v(" "),n("b-table",{ref:"organizations",attrs:{items:t.organizationsProvider,fields:t.fields,"per-page":t.pagination.size,"current-page":t.pagination.page,"sort-icon-left":"","no-provider-sorting":"",striped:"",hover:"",borderless:"",stacked:"lg"},scopedSlots:t._u([{key:"head(checkbox)",fn:function(){return[n("b-form-checkbox",{attrs:{id:"toggle-all",checked:t.organizations.length>0&&t.organizations.length===t.selected.length,indeterminate:t.selected.length>0&&t.selected.length<t.organizations.length,disabled:!t.ready},on:{change:t.toggleAll}})]},proxy:!0},{key:"top-row",fn:function(){return[n("b-td",{attrs:{colspan:"2"}}),t._v(" "),n("b-td",[n("batch-roles-dropdown",{attrs:{selected:t.selected,"selectable-items":t.organizations,type:"organizations","apply-done-func":t.applyDone}})],1),t._v(" "),n("b-td",{attrs:{colspan:"1"}})]},proxy:!0},{key:"cell(checkbox)",fn:function(e){return[n("b-form-checkbox",{attrs:{value:e.item.id},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})]}},{key:"cell(roles)",fn:function(e){return t._l(e.item.roles,(function(e){return n("b-badge",{key:e,staticClass:"mr-1",attrs:{variant:"info"}},[t._v("\n        "+t._s(e)+"\n      ")])}))}},{key:"cell(actions)",fn:function(e){return[n("b-button",{staticClass:"mr-1 mb-1",attrs:{size:"sm"},on:{click:e.toggleDetails}},[t._v("\n        "+t._s(e.detailsShowing?"Hide":"Details")+"\n      ")]),t._v(" "),n("b-button",{staticClass:"mr-1 mb-1",attrs:{size:"sm",to:{name:"AdminOrganizationUpdate",params:{id:e.item.id}}}},[t._v("\n        Edit\n      ")])]}},{key:"row-details",fn:function(e){return[n("b-card",[n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("ID:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.id))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Identities:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.identities))])],1)],1)]}}])}),t._v(" "),t.organizations.length>0?n("pagination",{attrs:{pagination:t.pagination}}):t._e()],1)};i._withStripped=!0;var o=n(4140),a=n(6456),r=n(5193),s=n(9952),l=n(6253),c=n(725),u=n(6034),d=n(4951),p=n(8544),f=n(2352),m=n(9090),g={components:{BTable:o.h,BTd:a.S,BButton:r.T,BCard:s._,BRow:l.T,BCol:c.l,BBadge:u.k,BFormCheckbox:d.l,BatchRolesDropdown:p.Z,PaginationCompact:f.Z,Pagination:m.Z},data:function(){return{selected:[],organizations:[],pagination:{page:1,size:100,totalPages:0,totalItems:0},fields:[{key:"checkbox",label:"",class:"text-center"},{key:"name",sortable:!0},{key:"roles",sortable:!0},{key:"actions"}],loaded:{organizations:!1}}},methods:{organizationsProvider:function(t){var e=this;return this.axios.get("/api/organizations?page[number]=".concat(t.currentPage,"&page[size]=").concat(t.perPage)).then((function(t){return e.organizations=t.data.items,e.pagination=t.data.pagination,e.loaded.organizations=!0,e.selected=[],e.organizations||[]}))},toggleAll:function(t){this.selected=t?this.organizations.map((function(t){return t.id})):[]},applyDone:function(){this.$refs.organizations.refresh()}},computed:{ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},h=(0,n(1900).Z)(g,i,[],!1,null,null,null);h.options.__file="src/views/AdminOrganizations.vue";var b=h.exports},9323:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return m}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Update pipeline")]),t._v(" "),n("b-form-group",{attrs:{id:"name-group",label:"Pipeline:","label-for":"pipeline"}},[n("b-form-input",{attrs:{id:"pipeline",value:t.pipelineName,type:"text",disabled:"",placeholder:"Enter name for the pipeline"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"groups-group",label:"Groups:","label-for":"groups"}},[n("b-form-tags",{attrs:{"input-id":"groups","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.tags,o=e.inputAttrs,a=e.inputHandlers,r=e.disabled,s=e.removeTag;return[i.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(i,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:r,variant:"warning"},on:{remove:function(t){return s(e)}}},[t._v("\n                  "+t._s(e)+"\n                ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:r||0===t.availableGroups.length,options:t.availableGroups},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                  Choose a group...\n                ")])]},proxy:!0}],null,!0)},"b-form-select",o,!1),a))]}}]),model:{value:t.selectedGroups,callback:function(e){t.selectedGroups=e},expression:"selectedGroups"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"organizations-group",label:"Organizations:","label-for":"organizations"}},[n("b-form-tags",{attrs:{"input-id":"organizations","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.tags,o=e.inputAttrs,a=e.inputHandlers,r=e.disabled,s=e.removeTag;return[i.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(i,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:r,variant:"success"},on:{remove:function(t){return s(e)}}},[t._v("\n                  "+t._s(e)+"\n                ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:r||0===t.availableOrganizations.length,options:t.availableOrganizations},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                  Choose an organization...\n                ")])]},proxy:!0}],null,!0)},"b-form-select",o,!1),a))]}}]),model:{value:t.selectedOrganizations,callback:function(e){t.selectedOrganizations=e},expression:"selectedOrganizations"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"archived-group",label:"Archived:","label-for":"archived"}},[n("b-form-checkbox",{attrs:{id:"archived"},model:{value:t.form.archived,callback:function(e){t.$set(t.form,"archived",e)},expression:"form.archived"}},[t._v("\n          When archived the pipeline is not visible for regular users and no longer triggers for any triggers defined in the manifest.\n        ")])],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary",disabled:!t.ready}},[t._v("\n        Update\n      ")]),t._v(" "),n("b-button",{attrs:{variant:"light",to:{name:"AdminPipelines"}}},[t._v("\n        Cancel\n      ")])],1)],1)])};i._withStripped=!0;var o=n(4909),a=n(4058),r=n(2183),s=n(4951),l=n(1605),c=n(1909),u=n(6982),d=n(5193),p={components:{BForm:o.e,BFormGroup:a.x,BFormInput:r.e,BFormCheckbox:s.l,BFormTags:l.D,BFormTag:c.d,BFormSelect:u.K,BButton:d.T},props:{repoSource:{type:String,default:null},repoOwner:{type:String,default:null},repoName:{type:String,default:null}},data:function(){return{roles:[],organizations:[],groups:[],form:{name:"",roles:[],archived:!1},selectedGroups:[],selectedOrganizations:[],loaded:{roles:!1,organizations:!1,groups:!1,pipeline:!1}}},created:function(){this.loadRoles(),this.loadGroups(),this.loadOrganizations(),this.loadForm()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data,t.loaded.roles=!0})).catch((function(t){console.warn(t)}))},loadGroups:function(){var t=this;this.axios.get("/api/groups?page[number]=1&page[size]=100").then((function(e){t.groups=e.data.items,t.loaded.groups=!0})).catch((function(t){console.warn(t)}))},loadOrganizations:function(){var t=this;this.axios.get("/api/organizations?page[number]=1&page[size]=100").then((function(e){t.organizations=e.data.items,t.loaded.organizations=!0})).catch((function(t){console.warn(t)}))},loadForm:function(){var t=this;this.axios.get("/api/admin/pipelines/".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName)).then((function(e){t.form=e.data,t.form&&t.form.groups&&(t.selectedGroups=t.form.groups.map((function(t){return t.name}))),t.form&&t.form.organizations&&(t.selectedOrganizations=t.form.organizations.map((function(t){return t.name}))),t.form.archived||(t.form.archived=!1),t.loaded.pipeline=!0})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.selectedGroups.length>0?this.form.groups=this.groups.filter((function(t){return-1!==e.selectedGroups.indexOf(t.name)})).map((function(t){return{id:t.id,name:t.name}})):this.form.groups=[],this.selectedOrganizations.length>0?this.form.organizations=this.organizations.filter((function(t){return-1!==e.selectedOrganizations.indexOf(t.name)})).map((function(t){return{id:t.id,name:t.name}})):this.form.organizations=[],this.axios.put("/api/admin/pipelines/".concat(this.repoSource,"/").concat(this.repoOwner,"/").concat(this.repoName),this.form).then((function(t){e.$router.push({name:"AdminPipelines"})})).catch((function(t){console.warn(t)}))}},computed:{pipelineName:function(){return this.form&&this.form.repoSource&&this.form.repoOwner&&this.form.repoName?this.form.repoSource+"/"+this.form.repoOwner+"/"+this.form.repoName:""},availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))},availableGroups:function(){var t=this;return this.groups.map((function(t){return t.name})).filter((function(e){return!t.form||!t.selectedGroups||-1===t.selectedGroups.indexOf(e)}))},availableOrganizations:function(){var t=this;return this.organizations.map((function(t){return t.name})).filter((function(e){return!t.form||!t.selectedOrganizations||-1===t.selectedOrganizations.indexOf(e)}))},ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},f=(0,n(1900).Z)(p,i,[],!1,null,null,null);f.options.__file="src/views/AdminPipelineUpdate.vue";var m=f.exports},3128:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return z}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("pipeline-filter",{attrs:{model:t.filter.search,"on-input":t.setSearch}}),t._v(" "),n("label-filter",{attrs:{filter:t.filter}})],1),t._v(" "),n("div",{staticClass:"col-6 text-right"},[n("pagination-compact",{staticClass:"float-right",attrs:{pagination:t.pagination}})],1)]),t._v(" "),n("b-table",{ref:"pipelines",attrs:{items:t.pipelinesProvider,fields:t.fields,"per-page":t.pagination.size,"current-page":t.pagination.page,"sort-icon-left":"","no-provider-sorting":"",striped:"",hover:"",borderless:"",stacked:"lg"},scopedSlots:t._u([{key:"head(checkbox)",fn:function(){return[n("b-form-checkbox",{attrs:{id:"toggle-all",checked:t.pipelines.length>0&&t.pipelines.length===t.selected.length,indeterminate:t.selected.length>0&&t.selected.length<t.pipelines.length,disabled:!t.ready},on:{change:t.toggleAll}})]},proxy:!0},{key:"top-row",fn:function(){return[n("b-td",{attrs:{colspan:"2"}}),t._v(" "),n("b-td",[n("batch-groups-dropdown",{attrs:{selected:t.selected,"selectable-items":t.pipelines,type:"pipelines","apply-done-func":t.applyDone,"selectable-id-func":function(t){return t.repoSource+"/"+t.repoOwner+"/"+t.repoName}}})],1),t._v(" "),n("b-td",[n("batch-organizations-dropdown",{attrs:{selected:t.selected,"selectable-items":t.pipelines,type:"pipelines","apply-done-func":t.applyDone,"selectable-id-func":function(t){return t.repoSource+"/"+t.repoOwner+"/"+t.repoName}}})],1),t._v(" "),n("b-td",{attrs:{colspan:"2"}})]},proxy:!0},{key:"cell(checkbox)",fn:function(e){return[n("b-form-checkbox",{attrs:{value:e.item.repoSource+"/"+e.item.repoOwner+"/"+e.item.repoName},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})]}},{key:"cell(pipeline)",fn:function(e){return[n("span",{staticClass:"text-muted"},[t._v(t._s(e.item.repoSource)+"/"+t._s(e.item.repoOwner)+"/")]),t._v(t._s(e.item.repoName)+"\n      "),e.item.archived?n("b-badge",{attrs:{variant:"secondary"}},[t._v("\n        Archived\n      ")]):t._e()]}},{key:"cell(groups)",fn:function(e){return t._l(e.item.groups,(function(e){return n("b-badge",{key:e.name,staticClass:"mr-1",attrs:{variant:"warning"}},[t._v("\n        "+t._s(e.name)+"\n      ")])}))}},{key:"cell(labels)",fn:function(t){return[n("labels",{attrs:{labels:t.item.labels,"route-name":"AdminPipelines"}})]}},{key:"cell(organizations)",fn:function(e){return t._l(e.item.organizations,(function(e){return n("b-badge",{key:e.name,staticClass:"mr-1",attrs:{variant:"success"}},[t._v("\n        "+t._s(e.name)+"\n      ")])}))}},{key:"cell(actions)",fn:function(e){return[n("b-button",{staticClass:"mr-1 mb-1",attrs:{size:"sm",to:{name:"AdminPipelineUpdate",params:{repoSource:e.item.repoSource,repoOwner:e.item.repoOwner,repoName:e.item.repoName}}}},[t._v("\n        Edit\n      ")])]}}])}),t._v(" "),t.pipelines.length>0?n("pagination",{attrs:{pagination:t.pagination}}):t._e()],1)};i._withStripped=!0;var o=n(4140),a=n(6456),r=n(5193),s=n(6034),l=n(4951),c=n(605),u=n(1726),d=n(2352),p=n(9090),f=n(5773),m=n(5212),g=n(7651),h=n(3279),b=n.n(h);function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _={components:{BTable:o.h,BTd:a.S,BButton:r.T,PaginationCompact:d.Z,Pagination:p.Z,BBadge:s.k,BFormCheckbox:l.l,BatchGroupsDropdown:c.Z,BatchOrganizationsDropdown:u.Z,PipelineFilter:f.Z,Labels:m.Z,LabelFilter:g.Z},data:function(){return{selected:[],pipelines:[],pagination:{page:1,size:100,totalPages:0,totalItems:0},filter:{search:"",labels:""},fields:[{key:"checkbox",label:"",class:"text-center"},{key:"pipeline",sortable:!0,formatter:function(t,e,n){return"".concat(n.repoSource,"/").concat(n.repoOwner,"/").concat(n.repoName)}},{key:"groups",sortable:!0},{key:"organizations",sortable:!0},{key:"labels",sortable:!0},{key:"actions"}],loaded:{pipelines:!1}}},created:function(){this.filterDefaults=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){v(t,e,n[e])}))}return t}({},this.filter),this.setDataFromQueryParams(this.query)},methods:{pipelinesProvider:function(t){var e=this,n="";t.sortBy&&(n+="&sort=",t.sortDesc&&(n+="-"),n+="".concat(t.sortBy));var i="";this.filter&&this.filter.labels&&this.filter.labels.length>0&&(i="&filter[labels]="+this.filter.labels.split(",").join("&filter[labels]="));var o="";return this.filter&&this.filter.search&&""!==this.filter.search&&(o="&filter[search]=".concat(this.filter.search)),this.axios.get("/api/admin/pipelines?page[number]=".concat(t.currentPage,"&page[size]=").concat(t.perPage).concat(n).concat(i).concat(o)).then((function(t){return e.pipelines=t.data.items,e.pagination=t.data.pagination,e.loaded.pipelines=!0,e.selected=[],e.pipelines||[]}))},setDataFromQueryParams:function(t){this.filter.labels=t&&t.labels?t.labels:this.filterDefaults.labels},setSearch:b()((function(t){this.filter.search=t,this.pagination.page=1,this.$refs.pipelines.refresh()}),500),toggleAll:function(t){this.selected=t?this.pipelines.map((function(t){return"".concat(t.repoSource,"/").concat(t.repoOwner,"/").concat(t.repoName)})):[]},applyDone:function(){this.$refs.pipelines.refresh()}},watch:{$route:function(t,e){this.setDataFromQueryParams(t.query),this.pagination.page=1,this.$refs.pipelines.refresh()}},computed:{ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},y=(0,n(1900).Z)(_,i,[],!1,null,null,null);y.options.__file="src/views/AdminPipelines.vue";var z=y.exports},6352:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return f}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"rounded border bg-white p-3"},[n("b-form",{on:{submit:t.onSubmit}},[n("h4",[t._v("Update user")]),t._v(" "),n("b-form-group",{attrs:{id:"name-user",label:"Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name for the user"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"roles-group",label:"Roles:","label-for":"roles"}},[n("b-form-tags",{attrs:{"input-id":"roles","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.tags,o=e.inputAttrs,a=e.inputHandlers,r=e.disabled,s=e.removeTag;return[i.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(i,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:r,variant:"info"},on:{remove:function(t){return s(e)}}},[t._v("\n                  "+t._s(e)+"\n                ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:r||0===t.availableRoles.length,options:t.availableRoles},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                  Choose a role...\n                ")])]},proxy:!0}],null,!0)},"b-form-select",o,!1),a))]}}]),model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"groups-group",label:"Groups:","label-for":"groups"}},[n("b-form-tags",{attrs:{"input-id":"groups","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.tags,o=e.inputAttrs,a=e.inputHandlers,r=e.disabled,s=e.removeTag;return[i.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(i,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:r,variant:"warning"},on:{remove:function(t){return s(e)}}},[t._v("\n                  "+t._s(e)+"\n                ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:r||0===t.availableGroups.length,options:t.availableGroups},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                  Choose a group...\n                ")])]},proxy:!0}],null,!0)},"b-form-select",o,!1),a))]}}]),model:{value:t.selectedGroups,callback:function(e){t.selectedGroups=e},expression:"selectedGroups"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"organizations-group",label:"Organizations:","label-for":"organizations"}},[n("b-form-tags",{attrs:{"input-id":"organizations","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.tags,o=e.inputAttrs,a=e.inputHandlers,r=e.disabled,s=e.removeTag;return[i.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(i,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:r,variant:"success"},on:{remove:function(t){return s(e)}}},[t._v("\n                  "+t._s(e)+"\n                ")])],1)})),0):t._e(),t._v(" "),n("b-form-select",t._g(t._b({attrs:{disabled:r||0===t.availableOrganizations.length,options:t.availableOrganizations},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("\n                  Choose an organization...\n                ")])]},proxy:!0}],null,!0)},"b-form-select",o,!1),a))]}}]),model:{value:t.selectedOrganizations,callback:function(e){t.selectedOrganizations=e},expression:"selectedOrganizations"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary",disabled:!t.ready}},[t._v("\n        Update\n      ")]),t._v(" "),n("b-button",{attrs:{variant:"light",to:{name:"AdminUsers"}}},[t._v("\n        Cancel\n      ")])],1)],1),t._v(" "),n("div",{staticClass:"rounded border border-danger bg-white p-3 mt-3"},[n("div",{staticClass:"d-flex justify-content-between"},[t._m(0),t._v(" "),n("div",{staticClass:"align-self-center"},[n("b-button",{attrs:{variant:"danger"},on:{click:t.onDelete}},[t._v("\n          Delete this user\n        ")])],1)])])])};i._withStripped=!0;var o=n(4909),a=n(4058),r=n(2183),s=n(1605),l=n(1909),c=n(6982),u=n(5193),d={components:{BForm:o.e,BFormGroup:a.x,BFormInput:r.e,BFormTags:s.D,BFormTag:l.d,BFormSelect:c.K,BButton:u.T},props:{id:{type:String,default:null}},data:function(){return{roles:[],organizations:[],groups:[],form:{name:"",roles:[]},selectedGroups:[],selectedOrganizations:[],loaded:{roles:!1,organizations:!1,groups:!1,user:!1}}},created:function(){this.loadRoles(),this.loadGroups(),this.loadOrganizations(),this.loadForm()},methods:{loadRoles:function(){var t=this;this.axios.get("/api/roles").then((function(e){t.roles=e.data,t.loaded.roles=!0})).catch((function(t){console.warn(t)}))},loadGroups:function(){var t=this;this.axios.get("/api/groups?page[number]=1&page[size]=100").then((function(e){t.groups=e.data.items,t.loaded.groups=!0})).catch((function(t){console.warn(t)}))},loadOrganizations:function(){var t=this;this.axios.get("/api/organizations?page[number]=1&page[size]=100").then((function(e){t.organizations=e.data.items,t.loaded.organizations=!0})).catch((function(t){console.warn(t)}))},loadForm:function(){var t=this;this.axios.get("/api/users/".concat(this.id)).then((function(e){t.form=e.data,t.form&&t.form.groups&&(t.selectedGroups=t.form.groups.map((function(t){return t.name}))),t.form&&t.form.organizations&&(t.selectedOrganizations=t.form.organizations.map((function(t){return t.name}))),t.loaded.user=!0})).catch((function(t){console.warn(t)}))},onSubmit:function(t){var e=this;t.preventDefault(),this.selectedGroups.length>0?this.form.groups=this.groups.filter((function(t){return-1!==e.selectedGroups.indexOf(t.name)})).map((function(t){return{id:t.id,name:t.name}})):this.form.groups=[],this.selectedOrganizations.length>0?this.form.organizations=this.organizations.filter((function(t){return-1!==e.selectedOrganizations.indexOf(t.name)})).map((function(t){return{id:t.id,name:t.name}})):this.form.organizations=[],this.axios.put("/api/users/".concat(this.id),this.form).then((function(t){e.$router.push({name:"AdminUsers"})})).catch((function(t){console.warn(t)}))},onDelete:function(t){var e=this;t.preventDefault(),this.axios.delete("/api/users/".concat(this.id)).then((function(t){e.$router.push({name:"AdminUsers"})})).catch((function(t){console.warn(t)}))}},computed:{availableRoles:function(){var t=this;return this.roles.filter((function(e){return!t.form||!t.form.roles||-1===t.form.roles.indexOf(e)}))},availableGroups:function(){var t=this;return this.groups.map((function(t){return t.name})).filter((function(e){return!t.form||!t.selectedGroups||-1===t.selectedGroups.indexOf(e)}))},availableOrganizations:function(){var t=this;return this.organizations.map((function(t){return t.name})).filter((function(e){return!t.form||!t.selectedOrganizations||-1===t.selectedOrganizations.indexOf(e)}))},ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},p=(0,n(1900).Z)(d,i,[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h6",[t._v("Delete this user")]),t._v(" "),n("p",{staticClass:"align-self-end"},[t._v("\n          Once you delete an user, there is no going back. Please be certain.\n        ")])])}],!1,null,null,null);p.options.__file="src/views/AdminUserUpdate.vue";var f=p.exports},9854:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return y}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 text-right"},[n("pagination-compact",{staticClass:"float-right",attrs:{pagination:t.pagination}})],1)]),t._v(" "),n("b-table",{ref:"users",attrs:{items:t.usersProvider,fields:t.fields,"per-page":t.pagination.size,"current-page":t.pagination.page,"sort-icon-left":"","no-provider-sorting":"",striped:"",hover:"",borderless:"",stacked:"lg"},scopedSlots:t._u([{key:"head(checkbox)",fn:function(){return[n("b-form-checkbox",{attrs:{id:"toggle-all",checked:t.users.length>0&&t.users.length===t.selected.length,indeterminate:t.selected.length>0&&t.selected.length<t.users.length,disabled:!t.ready},on:{change:t.toggleAll}})]},proxy:!0},{key:"top-row",fn:function(){return[n("b-td",{attrs:{colspan:"3"}}),t._v(" "),n("b-td",[n("batch-roles-dropdown",{attrs:{selected:t.selected,"selectable-items":t.users,type:"users","apply-done-func":t.applyDone}})],1),t._v(" "),n("b-td",[n("batch-groups-dropdown",{attrs:{selected:t.selected,"selectable-items":t.users,type:"users","apply-done-func":t.applyDone}})],1),t._v(" "),n("b-td",[n("batch-organizations-dropdown",{attrs:{selected:t.selected,"selectable-items":t.users,type:"users","apply-done-func":t.applyDone}})],1),t._v(" "),n("b-td",{attrs:{colspan:"3"}})]},proxy:!0},{key:"cell(checkbox)",fn:function(e){return[n("b-form-checkbox",{attrs:{value:e.item.id},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})]}},{key:"cell(roles)",fn:function(e){return t._l(e.item.roles,(function(e){return n("b-badge",{key:e,staticClass:"mr-1",attrs:{variant:"info"}},[t._v("\n        "+t._s(e)+"\n      ")])}))}},{key:"cell(groups)",fn:function(e){return t._l(e.item.groups,(function(e){return n("b-badge",{key:e.name,staticClass:"mr-1",attrs:{variant:"warning"}},[t._v("\n        "+t._s(e.name)+"\n      ")])}))}},{key:"cell(organizations)",fn:function(e){return t._l(e.item.organizations,(function(e){return n("b-badge",{key:e.name,staticClass:"mr-1",attrs:{variant:"success"}},[t._v("\n        "+t._s(e.name)+"\n      ")])}))}},{key:"cell(actions)",fn:function(e){return[n("b-button",{staticClass:"mr-1 mb-1",attrs:{size:"sm"},on:{click:e.toggleDetails}},[t._v("\n        "+t._s(e.detailsShowing?"Hide":"Details")+"\n      ")]),t._v(" "),n("b-button",{staticClass:"mr-1 mb-1",attrs:{size:"sm",to:{name:"AdminUserUpdate",params:{id:e.item.id}}}},[t._v("\n        Edit\n      ")]),t._v(" "),n("b-button",{staticClass:"mr-1 mb-1",attrs:{size:"sm",variant:"danger",href:"/api/auth/impersonate/"+e.item.id}},[t._v("\n        Impersonate\n      ")])]}},{key:"row-details",fn:function(e){return[n("b-card",[n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("ID:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.id))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Active:")])]),t._v(" "),n("b-col",[t._v(t._s(!!e.item.active&&e.item.active))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Identities:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.identities))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Organizations:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.organizations))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Groups:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.groups))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Preferences:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.preferences))])],1),t._v(" "),n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Current provider:")])]),t._v(" "),n("b-col",[t._v(t._s(e.item.currentProvider))])],1),t._v(" "),t.avatar(e.item)?n("b-row",{staticClass:"mb-2"},[n("b-col",{staticClass:"text-sm-right",attrs:{sm:"3"}},[n("b",[t._v("Avatar:")])]),t._v(" "),n("b-col",[n("b-avatar",{staticClass:"mr-2",attrs:{src:t.avatar(e.item)}})],1)],1):t._e()],1)]}}])}),t._v(" "),t.users.length>0?n("pagination",{attrs:{pagination:t.pagination}}):t._e()],1)};i._withStripped=!0;var o=n(4140),a=n(6456),r=n(5193),s=n(9952),l=n(6253),c=n(725),u=n(9944),d=n(6034),p=n(4951),f=n(8544),m=n(605),g=n(1726),h=n(2352),b=n(9090),v={components:{BTable:o.h,BTd:a.S,BButton:r.T,BCard:s._,BRow:l.T,BCol:c.l,BAvatar:u.S,PaginationCompact:h.Z,Pagination:b.Z,BBadge:d.k,BFormCheckbox:p.l,BatchRolesDropdown:f.Z,BatchGroupsDropdown:m.Z,BatchOrganizationsDropdown:g.Z},data:function(){var t=this;return{selected:[],users:[],pagination:{page:1,size:100,totalPages:0,totalItems:0},fields:[{key:"checkbox",label:"",class:"text-center"},{key:"name",sortable:!0},{key:"email",sortable:!0},{key:"roles",sortable:!0},{key:"groups",sortable:!0},{key:"organizations",sortable:!0},{key:"firstVisit",sortable:!0,formatter:function(e,n,i){return t.$options.filters.formatDatetime(e)}},{key:"lastVisit",sortable:!0,formatter:function(e,n,i){return t.$options.filters.formatDatetime(e)}},{key:"actions"}],loaded:{users:!1}}},methods:{usersProvider:function(t){var e=this;return this.axios.get("/api/users?page[number]=".concat(t.currentPage,"&page[size]=").concat(t.perPage).concat("")).then((function(t){return e.users=t.data.items,e.pagination=t.data.pagination,e.loaded.users=!0,e.selected=[],e.users||[]}))},avatar:function(t){return t.identities&&t.identities.length>0&&t.identities[0].avatar?t.identities[0].avatar:void 0},toggleAll:function(t){this.selected=t?this.users.map((function(t){return t.id})):[]},applyDone:function(){this.$refs.users.refresh()}},computed:{ready:function(){for(var t in this.loaded)if(!this.loaded[t])return!1;return!0}}},_=(0,n(1900).Z)(v,i,[],!1,null,null,null);_.options.__file="src/views/AdminUsers.vue";var y=_.exports},4174:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return B}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("section-header",{attrs:{"section-route-name":"Catalog"}}),t._v(" "),n("b-breadcrumb",{staticClass:"m-3 rounded",attrs:{items:t.breadcrumbs}}),t._v(" "),t.group?n("div",{staticClass:"mr-3 ml-3"},[n("b-card",{attrs:{title:t.group.name,tag:"article"}},[n("b-card-text",[t._v("\n        "+t._s(t.group.description)+"\n      ")])],1),t._v(" "),n("b-card-group",{staticClass:"mt-2",attrs:{deck:""}},[n("group-members",{attrs:{group:t.group}}),t._v(" "),n("group-pipelines",{attrs:{group:t.group,header:"Pipelines",type:"build"}})],1)],1):t._e()],1)};i._withStripped=!0;var o=n(9952),a=n(7391),r=n(7794),s=n(6578),l=n(7777),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-card",{staticStyle:{"max-width":"30rem"},attrs:{title:"Members"}},[n("b-list-group",{attrs:{flush:""}},t._l(t.members,(function(e){return n("b-list-group-item",{key:e.id,staticClass:"d-flex align-items-center"},[n("b-avatar",{staticClass:"mr-3",attrs:{variant:"info",src:t.avatar(e),text:t.initials(e)}}),t._v(" "),n("span",{staticClass:"mr-auto"},[t._v("\n        "+t._s(e.name)),n("br"),t._v(" "),n("b-link",{attrs:{href:"mailto:"+e.email,target:"_blank"}},[t._v("\n          "+t._s(e.email)+"\n        ")])],1)],1)})),1)],1)};c._withStripped=!0;var u=n(322),d=n(8367),p=n(9944),f=n(7347),m={components:{BCard:o._,BListGroup:u.N,BListGroupItem:d.f,BAvatar:p.S,BLink:f.we},props:{group:{type:Object,default:null}},data:function(){return{members:[]}},created:function(){this.loadMembers()},methods:{loadMembers:function(){var t=this;return this.axios.get("/api/catalog/users?filter[group-id]=".concat(this.group.id,"&page[size]=100")).then((function(e){t.members=e.data.items})).catch((function(t){console.warn(t)}))},avatar:function(t){return t.identities&&t.identities.length>0&&t.identities[0].avatar?t.identities[0].avatar:void 0},initials:function(t){return t.name.split(" ").map((function(t){return t[0]})).join("")}}},g=n(1900),h=(0,g.Z)(m,c,[],!1,null,null,null);h.options.__file="src/components/GroupMembers.vue";var b=h.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-card",{staticClass:"border-0",attrs:{"no-body":"",tag:"article",header:t.header,"header-bg-variant":"success","header-text-variant":"white","bg-variant":"transparent","header-class":"rounded"}},[t.pipelines.length>0?n("transition-group",{attrs:{name:"list-complete",tag:"div"}},t._l(t.pipelines,(function(e){return n("pipeline-row",{key:e.repoSource+"/"+e.repoOwner+"/"+e.repoName,attrs:{pipeline:e,filter:t.filter}})})),1):t.loaded?n("div",{staticClass:"border bg-white text-center mt-2 mb-2 p-5 h6 text-secondary"},[t._v("\n    This group has no linked pipelines; ask your administrator to link your pipelines!\n  ")]):t._e(),t._v(" "),t.pagination.totalItems>0?n("b-pagination",{staticClass:"d-inline-flex",attrs:{"total-rows":t.pagination.totalItems,"per-page":t.pagination.size,limit:"3","hide-goto-end-buttons":"","hide-ellipsis":"",small:""},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}}):t._e()],1)};v._withStripped=!0;var _=n(962),y=n(1178),z=n(3900),k={components:{BCard:o._,BPagination:_.c,PipelineRow:y.Z},props:{group:{type:Object,default:null},header:{type:String,default:""},type:{type:String,default:""}},data:function(){return{pipelines:[],pagination:{page:1,size:12,totalPages:0,totalItems:0},loaded:!1}},created:function(){this.loadPipelines()},methods:{loadPipelines:function(){var t=this;return this.axios.get("/api/pipelines?filter[groups]=".concat(this.group.name,"&page[number]=").concat(this.pagination.page,"&page[size]=").concat(this.pagination.size,"&sort=-last_updated_at,repo_source,repo_owner,repo_name")).then((function(e){t.pipelines=e.data.items,t.pagination=e.data.pagination,t.loaded=!0,z.Z.timeoutWithJitter(t.timeout,t.loadPipelines,15)})).catch((function(e){console.warn(e),z.Z.timeoutWithJitter(t.timeout,t.loadPipelines,30)}))}},watch:{user:{handler:function(t,e){this.loadPipelines()},deep:!0},pagination:{handler:function(t,e){e.page!==t.page&&this.loadPipelines()},deep:!0}},beforeDestroy:function(){this.timeout&&clearTimeout(this.timeout)}},x=(0,g.Z)(k,v,[],!1,null,null,null);x.options.__file="src/components/GroupPipelines.vue";var C=x.exports,w={components:{BCard:o._,BCardText:a.j,BCardGroup:r.o,BBreadcrumb:s.P,SectionHeader:l.Z,GroupMembers:b,GroupPipelines:C},props:{id:{type:String,default:null}},data:function(){return{group:null,breadcrumbs:[{text:"Catalog",to:{name:"Catalog"}}]}},created:function(){this.loadGroup()},methods:{loadGroup:function(){var t=this;this.axios.get("/api/catalog/groups/".concat(this.id)).then((function(e){t.group=e.data,t.breadcrumbs.push({text:t.group.name,to:{name:"CatalogGroupDetails",params:{id:t.id}},active:!0})})).catch((function(t){console.warn(t)}))}}},O=(0,g.Z)(w,i,[],!1,null,null,null);O.options.__file="src/views/CatalogGroupDetails.vue";var B=O.exports}}]);