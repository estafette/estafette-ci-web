(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"10Jb":function(t,e,s){"use strict";function i(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}e.a={methods:{queryGenerator:function(t){return function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter((function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable})))),a.forEach((function(e){i(t,e,s[e])}))}return t}({},this.$route.query,t)}}}},I3XD:function(t,e,s){"use strict";var i=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"spinner-border estafette-spinner",class:this._f("bootstrapClass")(this.color,"text"),attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[this._v("Loading...")])])};i._withStripped=!0;var a={props:{color:{type:String,default:null}}},n=s("KHd+"),r=Object(n.a)(a,i,[],!1,null,null,null);r.options.__file="src/components/Spinner.vue";e.a=r.exports},K5sy:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-input-group",{staticClass:"mb-3"},[s("b-input-group-prepend",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{"is-text":"",title:"Filter pipelines based on when they're last built or released"}},[s("font-awesome-icon",{attrs:{icon:"clock"}})],1),t._v(" "),s("b-form-select",{attrs:{options:t.sinceOptions},on:{change:t.onChange},model:{value:t.mutableModel,callback:function(e){t.mutableModel=e},expression:"mutableModel"}})],1)};i._withStripped=!0;var a=s("g2Gq"),n=s("XhI9"),r=s("NlY+"),o=s("7O5W"),l=s("wHSu"),c=s("rT2p");o.c.add(l.l);var u={components:{BFormSelect:a.a,BInputGroup:n.a,BInputGroupPrepend:r.a,FontAwesomeIcon:c.a},props:{model:{type:String,default:null},onChange:{type:Function,default:null}},data:function(){return{sinceOptions:[{value:"1h",text:"Since 1 hour ago"},{value:"1d",text:"Since 1 day ago"},{value:"1w",text:"Since 1 week ago"},{value:"1m",text:"Since 1 month ago"},{value:"1y",text:"Since 1 year ago"},{value:"eternity",text:"Since dawn of mankind"}],mutableModel:this.model}}},p=s("KHd+"),h=Object(p.a)(u,i,[],!1,null,null,null);h.options.__file="src/components/SinceSelector.vue";e.a=h.exports},KO9M:function(t,e,s){},Us2V:function(t,e,s){},W70q:function(t,e,s){"use strict";var i=s("Us2V");s.n(i).a},ZDmJ:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row m-0"},[s("div",{staticClass:"col-12 col-sm-8 col-lg"}),t._v(" "),s("div",{staticClass:"col-12 col-sm-4 col-lg-3 p-0 text-right"},[s("since-selector",{attrs:{model:t.filter.since,"on-change":t.setSince}})],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-xl-6 col-xxxl-4"},[s("stats-pipeline-ranking-table",{attrs:{filter:t.filter,type:"builds",status:"primary"}})],1),t._v(" "),s("div",{staticClass:"col-12 col-xl-6 col-xxxl-4"},[s("stats-pipeline-ranking-table",{attrs:{filter:t.filter,type:"releases",status:"success"}})],1),t._v(" "),s("div",{staticClass:"col-12 col-xl-6 col-xxxl-4"},[s("stats-label-ranking-table",{attrs:{filter:t.filter,type:"frequent",status:"warning"}})],1)])])};i._withStripped=!0;var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"rounded border bg-white pt-1 pl-3 pr-3"},[s("h1",{staticClass:"text-center",class:"text-"+t.status},[t._v("\n    Most "+t._s(t.type)+"\n  ")]),t._v(" "),s("table",{staticClass:"table table-striped"},[s("thead",[s("tr",[s("th",[t._v("#")]),t._v(" "),s("th",[t._v("Pipeline")]),t._v(" "),s("th",[t._v(t._s(t._f("capitalize")(t.type)))])])]),t._v(" "),s("tbody",t._l(t.rows,(function(e,i){return s("router-link",{key:i,attrs:{to:{name:"PipelineOverview",params:{repoSource:e.repo_source,repoOwner:e.repo_owner,repoName:e.repo_name}},tag:"tr"}},[s("td",[t._v("\n          "+t._s(i+1+(t.pagination.page-1)*t.pagination.size)+"\n        ")]),t._v(" "),s("td",[s("span",{class:["text-muted","d-none d-sm-inline"]},[t._v(t._s(e.repo_source)+"/"+t._s(e.repo_owner)+"/")]),s("strong",[t._v(t._s(e.repo_name))])]),t._v(" "),s("td",[t._v("\n          "+t._s(e.nr_records)+"\n        ")])])})),1)]),t._v(" "),s("b-pagination",{attrs:{size:"md","total-rows":t.pagination.totalItems,"per-page":t.pagination.size,align:"center","hide-goto-end-buttons":""},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1)};a._withStripped=!0;var n=s("JtJI"),r={components:{BPagination:n.a},props:{filter:{type:Object,default:null},type:{type:String,default:null},status:{type:String,default:null}},data:function(){return{rows:[],pagination:{page:1,size:15,totalPages:0,totalItems:0},refresh:!0}},created:function(){this.loadStat()},methods:{loadStat:function(){var t=this;this.axios.get("/api/stats/most".concat(this.type,"?filter[since]=").concat(this.filter.since,"&page[number]=").concat(this.pagination.page,"&page[size]=").concat(this.pagination.size)).then((function(e){t.rows=e.data.items,t.pagination=e.data.pagination,t.periodicallyRefreshStat(15)})).catch((function(e){t.periodicallyRefreshStat(60)}))},periodicallyRefreshStat:function(t){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var e=1e3*t*.75,s=1e3*t*1.25,i=Math.floor(Math.random()*(e-s+1)+s);this.refresh&&(this.refreshTimeout=setTimeout(this.loadStat,i))}},watch:{filter:{handler:function(t,e){this.loadStat()},deep:!0},"pagination.page":{handler:function(t,e){t!==e&&this.loadStat()},deep:!0}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},o=(s("W70q"),s("KHd+")),l=Object(o.a)(r,a,[],!1,null,"84b8b88e",null);l.options.__file="src/components/StatsPipelineRankingTable.vue";var c=l.exports,u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"rounded border bg-white pt-1 pl-3 pr-3"},[s("h1",{staticClass:"text-center",class:"text-"+t.status},[t._v("\n    Most "+t._s(t.type)+" labels\n  ")]),t._v(" "),s("table",{staticClass:"table table-striped"},[s("thead",[s("tr",[s("th",[t._v("#")]),t._v(" "),s("th",[t._v("Label")]),t._v(" "),s("th",[t._v(t._s(t._f("capitalize")(t.type)))])])]),t._v(" "),s("tbody",t._l(t.rows,(function(e,i){return s("router-link",{key:i,attrs:{to:{name:"Pipelines",query:t.queryGenerator({labels:e.key+"="+e.value})},tag:"tr"}},[s("td",[t._v("\n          "+t._s(i+1+(t.pagination.page-1)*t.pagination.size)+"\n        ")]),t._v(" "),s("td",[s("span",{class:["text-muted"]},[t._v(t._s(e.key)+"=")]),s("strong",[t._v(t._s(e.value))])]),t._v(" "),s("td",[t._v("\n          "+t._s(e.pipelinescount)+"\n        ")])])})),1)]),t._v(" "),s("b-pagination",{attrs:{size:"md","total-rows":t.pagination.totalItems,"per-page":t.pagination.size,align:"center","hide-goto-end-buttons":""},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1)};u._withStripped=!0;var p=s("10Jb"),h={components:{BPagination:n.a},props:{filter:{type:Object,default:null},type:{type:String,default:null},status:{type:String,default:null}},mixins:[p.a],data:function(){return{rows:[],pagination:{page:1,size:15,totalPages:0,totalItems:0},refresh:!0}},created:function(){this.loadStat()},methods:{loadStat:function(){var t=this;this.axios.get("/api/labels/".concat(this.type,"?filter[since]=").concat(this.filter.since,"&page[number]=").concat(this.pagination.page,"&page[size]=").concat(this.pagination.size)).then((function(e){t.rows=e.data.items,t.pagination=e.data.pagination,t.periodicallyRefreshStat(15)})).catch((function(e){t.periodicallyRefreshStat(60)}))},periodicallyRefreshStat:function(t){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var e=1e3*t*.75,s=1e3*t*1.25,i=Math.floor(Math.random()*(e-s+1)+s);this.refresh&&(this.refreshTimeout=setTimeout(this.loadStat,i))}},watch:{filter:{handler:function(t,e){this.loadStat()},deep:!0},"pagination.page":{handler:function(t,e){t!==e&&this.loadStat()},deep:!0}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},d=(s("y4Wa"),Object(o.a)(h,u,[],!1,null,"c423c9c6",null));d.options.__file="src/components/StatsLabelRankingTable.vue";var f={components:{StatsPipelineRankingTable:c,StatsLabelRankingTable:d.exports,SinceSelector:s("K5sy").a},data:function(){return{filter:{since:"1d"}}},created:function(){this.setDataFromQueryParams(this.query)},methods:{setDataFromQueryParams:function(t){this.filter.since=t&&t.since?t.since:"1d",this.updateQueryParams()},updateQueryParams:function(){this.$router.push({query:{since:this.filter.since}})},setSince:function(t){this.filter.since=t,this.updateQueryParams()}}},m=Object(o.a)(f,i,[],!1,null,null,null);m.options.__file="src/views/InsightsRankings.vue";e.default=m.exports},b28C:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-xl-6"},[e("stats-adoption",{staticClass:"mb-3",attrs:{type:"builds",status:"primary"}})],1),this._v(" "),e("div",{staticClass:"col-12 col-xl-6"},[e("stats-adoption",{staticClass:"mb-3",attrs:{type:"releases",status:"success"}})],1)])])};i._withStripped=!0;var a=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"p-0 graph"},[e("div",{staticClass:"rounded border bg-white"},[0==this.series[0].data.length?e("spinner",{attrs:{color:this.status}}):this._e(),this._v(" "),e("apexcharts",{attrs:{width:"100%",type:this.options.type,options:this.options,series:this.series}})],1)])};a._withStripped=!0;var n=s("I3XD"),r=s("gQMU"),o=s.n(r),l={components:{Spinner:n.a,apexcharts:function(){return s.e(26).then(s.t.bind(null,"EyHm",7))}},props:{type:{type:String,default:null},status:{type:String,default:null}},data:function(){return{options:{chart:{id:"".concat(this.type,"-adoption-rate"),animations:{enabled:!0,easing:"easeinout",dynamicAnimation:{enabled:!0,speed:500}},toolbar:{show:!1}},markers:{size:0,hover:{size:6}},title:{text:o()(this.type)+" adoption rate",align:"center",style:{fontSize:"24px",color:this.getColor(this.status)}},subtitle:{text:"by repositories",align:"center",offsetY:35,style:{fontSize:"14px",color:"#6c757d"}},type:"line",stroke:{curve:"smooth"},xaxis:{type:"datetime"},yaxis:{min:0,title:{text:this.type}},colors:[this.getColor(this.status)],grid:{show:!0,yaxis:{lines:{show:!1,animate:!1}}}},series:[{name:o()(this.type),data:[]}],refresh:!0}},created:function(){this.loadStat()},methods:{getColor:function(t){switch(t){case"primary":return"#007bff";case"success":return"#28a745"}return"#212529"},loadStat:function(){var t=this;this.axios.get("/api/stats/".concat(this.type,"adoption")).then((function(e){t.updateSeries(e.data.datetimes),t.periodicallyRefreshStat(60)})).catch((function(e){t.periodicallyRefreshStat(120)}))},periodicallyRefreshStat:function(t){this.refreshTimeout&&clearTimeout(this.refreshTimeout);var e=1e3*t*.75,s=1e3*t*1.25,i=Math.floor(Math.random()*(e-s+1)+s);this.refresh&&(this.refreshTimeout=setTimeout(this.loadStat,i))},updateSeries:function(t){var e=[],s=0;t.forEach((function(t){e.push({x:t,y:++s})})),this.series[0].data=e}},beforeDestroy:function(){this.refresh=!1,this.refreshTimeout&&clearTimeout(this.refreshTimeout)}},c=s("KHd+"),u=Object(c.a)(l,a,[],!1,null,null,null);u.options.__file="src/components/StatsAdoption.vue";var p={components:{StatsAdoption:u.exports}},h=Object(c.a)(p,i,[],!1,null,null,null);h.options.__file="src/views/InsightsTrends.vue";e.default=h.exports},nAZy:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row m-0"},[s("div",{staticClass:"col-12 col-sm-8 col-lg"}),t._v(" "),s("div",{staticClass:"col-12 col-sm-4 col-lg-3 p-0 text-right"},[s("since-selector",{attrs:{model:t.filter.since,"on-change":t.setSince}})],1)]),t._v(" "),s("div",{staticClass:"row ml-0"},t._l(t.statuses,(function(e){return s("stats-pipelines-count",{key:e,attrs:{filter:t.filter,status:e}})})),1),t._v(" "),s("div",{staticClass:"row ml-0"},t._l(t.statuses,(function(e){return s("stats-builds-count",{key:e,attrs:{filter:t.filter,status:e}})})),1),t._v(" "),s("div",{staticClass:"row ml-0"},t._l(t.statuses,(function(e){return s("stats-releases-count",{key:e,attrs:{filter:t.filter,status:e}})})),1)])};function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}i._withStripped=!0;var n={components:{StatsPipelinesCount:function(){return Promise.all([s.e(25),s.e(17)]).then(s.bind(null,"J9iD"))},StatsBuildsCount:function(){return Promise.all([s.e(25),s.e(17)]).then(s.bind(null,"X1yc"))},StatsReleasesCount:function(){return Promise.all([s.e(25),s.e(17)]).then(s.bind(null,"5JOY"))},SinceSelector:s("K5sy").a},data:function(){return{filter:{since:"1d"},statuses:["all","succeeded","failed","running","canceled"]}},created:function(){this.setDataFromQueryParams(this.query)},methods:{setDataFromQueryParams:function(t){this.filter.since=t&&t.since?t.since:"1d",this.updateQueryParams()},updateQueryParams:function(){var t=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},i=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(s).filter((function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable})))),i.forEach((function(e){a(t,e,s[e])}))}return t}({},this.$route.query),e=this.filter.since;t.since!==e&&(t.since=e,this.$router.push({query:t}))},setSince:function(t){this.filter.since=t,this.updateQueryParams()}}},r=s("KHd+"),o=Object(r.a)(n,i,[],!1,null,null,null);o.options.__file="src/views/InsightsCounters.vue";e.default=o.exports},y4Wa:function(t,e,s){"use strict";var i=s("KO9M");s.n(i).a}}]);