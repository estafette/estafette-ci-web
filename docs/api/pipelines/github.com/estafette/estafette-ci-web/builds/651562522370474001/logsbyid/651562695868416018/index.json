[{"step":"builder-info","image":null,"duration":0,"logLines":[{"line":1,"timestamp":"2021-04-20T09:38:23.852022426Z","streamType":"stdout","text":"Starting \u001b[1mestafette-ci-builder\u001b[0m version \u001b[1m0.0.845\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2021-04-07T14:31:57Z \u001b[36mgoVersion=\u001b[0mgo1.16.3 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m1cefe2c7d1737576ced2f0d01fa437268ae4be25"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true},{"step":"injected-before","image":null,"duration":9032712228,"logLines":null,"exitCode":0,"status":"SUCCEEDED","autoInjected":true,"nestedSteps":[{"step":"set-pending-build-status","depth":1,"image":{"name":"extensions/github-status","tag":"dev","isPulled":false,"imageSize":11651189,"pullDuration":2289463497,"isTrusted":true,"hasInjectedCredentials":true},"duration":2101850985,"logLines":[{"line":1,"timestamp":"2021-04-20T09:38:26.936856284Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-github-status\u001b[0m version \u001b[1m0.1.74\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2021-02-10T16:36:50Z \u001b[36mgoVersion=\u001b[0mgo1.15.7 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m35db0200d8d23f4f27e8644117f388e511038efb\n"},{"line":2,"timestamp":"2021-04-20T09:38:26.93687809Z","streamType":"stdout","text":"Reading credentials from file at path /credentials/github_api_token.json...\n"},{"line":3,"timestamp":"2021-04-20T09:38:26.936881044Z","streamType":"stdout","text":"Read 1 credentials\n"},{"line":4,"timestamp":"2021-04-20T09:38:26.936887242Z","streamType":"stdout","text":"Setting logs url https://***/pipelines/github.com/estafette/estafette-ci-web/builds/651562522370474001/logs\n"},{"line":5,"timestamp":"2021-04-20T09:38:27.335959382Z","streamType":"stdout","text":"Received successful response for 'https://api.github.com/repos/estafette/estafette-ci-web/statuses/ee63e21b884a004854922da0bab7fa780a191479' Github api call with status code 201\n"},{"line":6,"timestamp":"2021-04-20T09:38:27.335977819Z","streamType":"stdout","text":"Finished estafette-extension-github-status...\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true},{"step":"envvars","depth":1,"image":{"name":"extensions/envvars","tag":"stable","isPulled":false,"imageSize":8530431,"pullDuration":2361583043},"duration":2018982280,"logLines":[{"line":1,"timestamp":"2021-04-20T09:38:26.96754044Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-envvars\u001b[0m version \u001b[1m0.1.48\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2021-02-10T16:33:41Z \u001b[36mgoVersion=\u001b[0mgo1.15.7 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m5dba58209bcd7d937fe6c258b4b1f7818361d45f\n"},{"line":2,"timestamp":"2021-04-20T09:38:26.96756456Z","streamType":"stdout","text":"All available estafette environment variables; the _DNS_SAFE suffixed ones can be used to set dns labels. Since leading digits are not allowed some of them are empty.\n"},{"line":3,"timestamp":"2021-04-20T09:38:26.967566611Z","streamType":"stdout","text":"\n"},{"line":4,"timestamp":"2021-04-20T09:38:26.967571285Z","streamType":"stdout","text":"ESTAFETTE_BUILD_CURRENT_COUNTER: 1082\n"},{"line":5,"timestamp":"2021-04-20T09:38:26.967573945Z","streamType":"stdout","text":"ESTAFETTE_BUILD_CURRENT_COUNTER_DNS_SAFE: \n"},{"line":6,"timestamp":"2021-04-20T09:38:26.967577019Z","streamType":"stdout","text":"ESTAFETTE_BUILD_DATETIME: 2021-04-20T09:38:23Z\n"},{"line":7,"timestamp":"2021-04-20T09:38:26.967579591Z","streamType":"stdout","text":"ESTAFETTE_BUILD_DATETIME_DNS_SAFE: t09-38-23z\n"},{"line":8,"timestamp":"2021-04-20T09:38:26.967584366Z","streamType":"stdout","text":"ESTAFETTE_BUILD_ID: 651562522370474001\n"},{"line":9,"timestamp":"2021-04-20T09:38:26.967612113Z","streamType":"stdout","text":"ESTAFETTE_BUILD_ID_DNS_SAFE: \n"},{"line":10,"timestamp":"2021-04-20T09:38:26.967616363Z","streamType":"stdout","text":"ESTAFETTE_BUILD_MAX_COUNTER: 1082\n"},{"line":11,"timestamp":"2021-04-20T09:38:26.967619347Z","streamType":"stdout","text":"ESTAFETTE_BUILD_MAX_COUNTER_CURRENT_BRANCH: 1082\n"},{"line":12,"timestamp":"2021-04-20T09:38:26.967621945Z","streamType":"stdout","text":"ESTAFETTE_BUILD_MAX_COUNTER_CURRENT_BRANCH_DNS_SAFE: \n"},{"line":13,"timestamp":"2021-04-20T09:38:26.967624074Z","streamType":"stdout","text":"ESTAFETTE_BUILD_MAX_COUNTER_DNS_SAFE: \n"},{"line":14,"timestamp":"2021-04-20T09:38:26.967626717Z","streamType":"stdout","text":"ESTAFETTE_BUILD_STATUS: succeeded\n"},{"line":15,"timestamp":"2021-04-20T09:38:26.967628738Z","streamType":"stdout","text":"ESTAFETTE_BUILD_STATUS_DNS_SAFE: succeeded\n"},{"line":16,"timestamp":"2021-04-20T09:38:26.967633604Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION: 1.0.0-snyk-fix-be435b3099f3908c7dab4c302b6a50f9-1082\n"},{"line":17,"timestamp":"2021-04-20T09:38:26.967637244Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_DNS_SAFE: snyk-fix-be435b3099f3908c7dab4c302b6a50f9-1082\n"},{"line":18,"timestamp":"2021-04-20T09:38:26.967640483Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_LABEL: snyk-fix-be435b3099f3908c7dab4c302b6a50f9-1082\n"},{"line":19,"timestamp":"2021-04-20T09:38:26.967643495Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_LABEL_DNS_SAFE: snyk-fix-be435b3099f3908c7dab4c302b6a50f9-1082\n"},{"line":20,"timestamp":"2021-04-20T09:38:26.967645644Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MAJOR: 1\n"},{"line":21,"timestamp":"2021-04-20T09:38:26.96764749Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MAJOR_DNS_SAFE: \n"},{"line":22,"timestamp":"2021-04-20T09:38:26.967649598Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MINOR: 0\n"},{"line":23,"timestamp":"2021-04-20T09:38:26.9676515Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MINOR_DNS_SAFE: \n"},{"line":24,"timestamp":"2021-04-20T09:38:26.967653587Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_PATCH: 1082\n"},{"line":25,"timestamp":"2021-04-20T09:38:26.967655598Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_PATCH_DNS_SAFE: \n"},{"line":26,"timestamp":"2021-04-20T09:38:26.967658871Z","streamType":"stdout","text":"ESTAFETTE_CI_SERVER_BASE_URL: https://***/\n"},{"line":27,"timestamp":"2021-04-20T09:38:26.967661973Z","streamType":"stdout","text":"ESTAFETTE_CI_SERVER_BASE_URL_DNS_SAFE: https-estafette-***-com\n"},{"line":28,"timestamp":"2021-04-20T09:38:26.967664312Z","streamType":"stdout","text":"ESTAFETTE_EXTENSION_CUSTOM_PROPERTIES: {}\n"},{"line":29,"timestamp":"2021-04-20T09:38:26.967666531Z","streamType":"stdout","text":"ESTAFETTE_EXTENSION_CUSTOM_PROPERTIES_YAML: {}\n"},{"line":30,"timestamp":"2021-04-20T09:38:26.967667381Z","streamType":"stdout","text":"\n"},{"line":31,"timestamp":"2021-04-20T09:38:26.967676866Z","streamType":"stdout","text":"ESTAFETTE_GIT_BRANCH: snyk-fix-be435b3099f3908c7dab4c302b6a50f9\n"},{"line":32,"timestamp":"2021-04-20T09:38:26.967679737Z","streamType":"stdout","text":"ESTAFETTE_GIT_BRANCH_DNS_SAFE: snyk-fix-be435b3099f3908c7dab4c302b6a50f9\n"},{"line":33,"timestamp":"2021-04-20T09:38:26.967702835Z","streamType":"stdout","text":"ESTAFETTE_GIT_FULLNAME: estafette/estafette-ci-web\n"},{"line":34,"timestamp":"2021-04-20T09:38:26.967705783Z","streamType":"stdout","text":"ESTAFETTE_GIT_FULLNAME_DNS_SAFE: estafette-estafette-ci-web\n"},{"line":35,"timestamp":"2021-04-20T09:38:26.967720374Z","streamType":"stdout","text":"ESTAFETTE_GIT_NAME: estafette-ci-web\n"},{"line":36,"timestamp":"2021-04-20T09:38:26.967722518Z","streamType":"stdout","text":"ESTAFETTE_GIT_NAME_DNS_SAFE: estafette-ci-web\n"},{"line":37,"timestamp":"2021-04-20T09:38:26.967724472Z","streamType":"stdout","text":"ESTAFETTE_GIT_OWNER: estafette\n"},{"line":38,"timestamp":"2021-04-20T09:38:26.967726397Z","streamType":"stdout","text":"ESTAFETTE_GIT_OWNER_DNS_SAFE: estafette\n"},{"line":39,"timestamp":"2021-04-20T09:38:26.967729319Z","streamType":"stdout","text":"ESTAFETTE_GIT_REVISION: ee63e21b884a004854922da0bab7fa780a191479\n"},{"line":40,"timestamp":"2021-04-20T09:38:26.967732703Z","streamType":"stdout","text":"ESTAFETTE_GIT_REVISION_DNS_SAFE: ee63e21b884a004854922da0bab7fa780a191479\n"},{"line":41,"timestamp":"2021-04-20T09:38:26.967735358Z","streamType":"stdout","text":"ESTAFETTE_GIT_SOURCE: github.com\n"},{"line":42,"timestamp":"2021-04-20T09:38:26.967737485Z","streamType":"stdout","text":"ESTAFETTE_GIT_SOURCE_DNS_SAFE: github-com\n"},{"line":43,"timestamp":"2021-04-20T09:38:26.967739749Z","streamType":"stdout","text":"ESTAFETTE_LABEL_APP_GROUP: estafette-ci\n"},{"line":44,"timestamp":"2021-04-20T09:38:26.967757265Z","streamType":"stdout","text":"ESTAFETTE_LABEL_APP_GROUP_DNS_SAFE: estafette-ci\n"},{"line":45,"timestamp":"2021-04-20T09:38:26.967759549Z","streamType":"stdout","text":"ESTAFETTE_LABEL_LANGUAGE: nodejs\n"},{"line":46,"timestamp":"2021-04-20T09:38:26.9677616Z","streamType":"stdout","text":"ESTAFETTE_LABEL_LANGUAGE_DNS_SAFE: nodejs\n"},{"line":47,"timestamp":"2021-04-20T09:38:26.967763643Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TEAM: estafette-team\n"},{"line":48,"timestamp":"2021-04-20T09:38:26.967765814Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TEAM_DNS_SAFE: estafette-team\n"},{"line":49,"timestamp":"2021-04-20T09:38:26.967767517Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TYPE: web\n"},{"line":50,"timestamp":"2021-04-20T09:38:26.967776608Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TYPE_DNS_SAFE: web\n"},{"line":51,"timestamp":"2021-04-20T09:38:26.967778852Z","streamType":"stdout","text":"ESTAFETTE_LOG_FORMAT: console\n"},{"line":52,"timestamp":"2021-04-20T09:38:26.967780593Z","streamType":"stdout","text":"ESTAFETTE_STAGE_NAME: envvars\n"},{"line":53,"timestamp":"2021-04-20T09:38:26.967784146Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_BRANCH: snyk-fix-be435b3099f3908c7dab4c302b6a50f9\n"},{"line":54,"timestamp":"2021-04-20T09:38:26.967787321Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_BRANCH_DNS_SAFE: snyk-fix-be435b3099f3908c7dab4c302b6a50f9\n"},{"line":55,"timestamp":"2021-04-20T09:38:26.967800477Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_EVENT: push\n"},{"line":56,"timestamp":"2021-04-20T09:38:26.967802316Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_EVENT_DNS_SAFE: push\n"},{"line":57,"timestamp":"2021-04-20T09:38:26.967805746Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_REPOSITORY: github.com/estafette/estafette-ci-web\n"},{"line":58,"timestamp":"2021-04-20T09:38:26.967809198Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_REPOSITORY_DNS_SAFE: github-com-estafette-estafette-ci-web\n"},{"line":59,"timestamp":"2021-04-20T09:38:26.967815521Z","streamType":"stdout","text":"\n"},{"line":60,"timestamp":"2021-04-20T09:38:26.967818577Z","streamType":"stdout","text":"All global envvars as defined in the manifest.\n"},{"line":61,"timestamp":"2021-04-20T09:38:26.967819523Z","streamType":"stdout","text":"\n"},{"line":62,"timestamp":"2021-04-20T09:38:26.967830925Z","streamType":"stdout","text":"HOME: /\n"},{"line":63,"timestamp":"2021-04-20T09:38:26.967834978Z","streamType":"stdout","text":"HOSTNAME: b37e07f37808\n"},{"line":64,"timestamp":"2021-04-20T09:38:26.967838105Z","streamType":"stdout","text":"PATH: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true},{"step":"git-clone","depth":1,"image":{"name":"extensions/git-clone","tag":"dev","isPulled":false,"imageSize":27605918,"pullDuration":3685163618,"isTrusted":true,"hasInjectedCredentials":true},"duration":5345406667,"logLines":[{"line":1,"timestamp":"2021-04-20T09:38:28.661812827Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-git-clone\u001b[0m version \u001b[1m0.1.112\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2021-03-10T17:01:33Z \u001b[36mgoVersion=\u001b[0mgo1.16 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0mbe7ca83146a3bf7ed9622207981dc8a18f722865\n"},{"line":2,"timestamp":"2021-04-20T09:38:28.661827962Z","streamType":"stdout","text":"Reading credentials from file at path /credentials/github_api_token.json...\n"},{"line":3,"timestamp":"2021-04-20T09:38:28.661841137Z","streamType":"stdout","text":"Cloning git repository estafette-ci-web to branch snyk-fix-be435b3099f3908c7dab4c302b6a50f9 and revision ee63e21b884a004854922da0bab7fa780a191479 with shallow clone is true and depth 50...\n"},{"line":4,"timestamp":"2021-04-20T09:38:28.661853833Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e git clone --depth=50 --branch=snyk-fix-be435b3099f3908c7dab4c302b6a50f9 --no-tags https://x-access-token:***@github.com/estafette/estafette-ci-web /estafette-work\u001b[0m\n"},{"line":5,"timestamp":"2021-04-20T09:38:28.661856784Z","streamType":"stderr","text":"Cloning into '/estafette-work'...\n"},{"line":6,"timestamp":"2021-04-20T09:38:31.738019529Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e git checkout --quiet --force ee63e21b884a004854922da0bab7fa780a191479\u001b[0m\n"},{"line":7,"timestamp":"2021-04-20T09:38:32.331875538Z","streamType":"stdout","text":"Finished cloning git repository estafette-ci-web to branch snyk-fix-be435b3099f3908c7dab4c302b6a50f9 and revision ee63e21b884a004854922da0bab7fa780a191479 with shallow clone is true and depth 50\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true}]},{"step":"audit-and-restore","image":null,"duration":37358553161,"logLines":[{"line":10000,"timestamp":"2021-04-20T09:39:10.243579119Z","streamType":"stderr","text":"Failed with exit code: 1"}],"exitCode":0,"status":"FAILED","nestedSteps":[{"step":"restore","depth":1,"image":{"name":"node","tag":"15-alpine","isPulled":false,"imageSize":111721043,"pullDuration":7591113782},"duration":29765151359,"logLines":[{"line":1,"timestamp":"2021-04-20T09:38:41.199653368Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e exec npm ci\u001b[0m\n"},{"line":2,"timestamp":"2021-04-20T09:38:58.398083531Z","streamType":"stderr","text":"npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\n"},{"line":3,"timestamp":"2021-04-20T09:38:58.90763206Z","streamType":"stderr","text":"npm WARN deprecated har-validator@5.1.5: this library is no longer supported\n"},{"line":4,"timestamp":"2021-04-20T09:39:00.188208711Z","streamType":"stderr","text":"npm WARN deprecated eslint-plugin-standard@5.0.0: standard 16.0.0 and eslint-config-standard 16.0.0 no longer require the eslint-plugin-standard package. You can remove it from your dependencies with 'npm rm eslint-plugin-standard'. More info here: https://github.com/standard/standard/issues/1316\n"},{"line":5,"timestamp":"2021-04-20T09:39:00.652273995Z","streamType":"stderr","text":"npm WARN deprecated eslint-loader@4.0.2: This loader has been deprecated. Please use eslint-webpack-plugin\n"},{"line":6,"timestamp":"2021-04-20T09:39:03.480097269Z","streamType":"stderr","text":"npm WARN deprecated babel-eslint@10.1.0: babel-eslint is now @babel/eslint-parser. This package will no longer receive updates.\n"},{"line":7,"timestamp":"2021-04-20T09:39:09.920401196Z","streamType":"stdout","text":"\n"},{"line":8,"timestamp":"2021-04-20T09:39:09.92041992Z","streamType":"stdout","text":"added 1174 packages, and audited 1175 packages in 29s\n"},{"line":9,"timestamp":"2021-04-20T09:39:09.920420952Z","streamType":"stdout","text":"\n"},{"line":10,"timestamp":"2021-04-20T09:39:09.920423949Z","streamType":"stdout","text":"65 packages are looking for funding\n"},{"line":11,"timestamp":"2021-04-20T09:39:09.920426117Z","streamType":"stdout","text":"  run `npm fund` for details\n"},{"line":12,"timestamp":"2021-04-20T09:39:09.926697028Z","streamType":"stdout","text":"\n"},{"line":13,"timestamp":"2021-04-20T09:39:09.92671524Z","streamType":"stdout","text":"2 vulnerabilities (1 low, 1 moderate)\n"},{"line":14,"timestamp":"2021-04-20T09:39:09.926729145Z","streamType":"stdout","text":"\n"},{"line":15,"timestamp":"2021-04-20T09:39:09.926733515Z","streamType":"stdout","text":"To address issues that do not require attention, run:\n"},{"line":16,"timestamp":"2021-04-20T09:39:09.9267356Z","streamType":"stdout","text":"  npm audit fix\n"},{"line":17,"timestamp":"2021-04-20T09:39:09.926736613Z","streamType":"stdout","text":"\n"},{"line":18,"timestamp":"2021-04-20T09:39:09.926740517Z","streamType":"stdout","text":"To address all issues (including breaking changes), run:\n"},{"line":19,"timestamp":"2021-04-20T09:39:09.926748415Z","streamType":"stdout","text":"  npm audit fix --force\n"},{"line":20,"timestamp":"2021-04-20T09:39:09.926749522Z","streamType":"stdout","text":"\n"},{"line":21,"timestamp":"2021-04-20T09:39:09.926752084Z","streamType":"stdout","text":"Run `npm audit` for details.\n"},{"line":22,"timestamp":"2021-04-20T09:39:09.927022418Z","streamType":"stderr","text":"npm notice \n"},{"line":23,"timestamp":"2021-04-20T09:39:09.927236222Z","streamType":"stderr","text":"npm notice New minor version of npm available! 7.7.6 -\u003e 7.10.0\n"},{"line":24,"timestamp":"2021-04-20T09:39:09.927251405Z","streamType":"stderr","text":"npm notice Changelog: \u003chttps://github.com/npm/cli/releases/tag/v7.10.0\u003e\n"},{"line":25,"timestamp":"2021-04-20T09:39:09.927255912Z","streamType":"stderr","text":"npm notice Run `npm install -g npm@7.10.0` to update!\n"},{"line":26,"timestamp":"2021-04-20T09:39:09.927357535Z","streamType":"stderr","text":"npm notice \n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"snyk","depth":1,"image":{"name":"extensions/snyk","tag":"dev","isPulled":false,"imageSize":581827478,"pullDuration":16056044011,"isTrusted":true,"hasInjectedCredentials":true},"duration":6362338917,"logLines":[{"line":1,"timestamp":"2021-04-20T09:38:49.463679842Z","streamType":"stdout","text":"Starting estafette-extension-snyk version 0.1.30... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2021-04-20T09:13:42Z \u001b[36mgoVersion=\u001b[0mgo1.16.3 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m9fd07d0e428810220535c649cc6f83398c9d8090\n"},{"line":2,"timestamp":"2021-04-20T09:38:49.463692628Z","streamType":"stdout","text":"Reading credentials from file at path /credentials/snyk_api_token.json...\n"},{"line":3,"timestamp":"2021-04-20T09:38:49.463695872Z","streamType":"stdout","text":"Unmarshalling injected snyk api token credentials\n"},{"line":4,"timestamp":"2021-04-20T09:38:49.463698841Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e snyk auth ***\u001b[0m\n"},{"line":5,"timestamp":"2021-04-20T09:38:51.362961384Z","streamType":"stdout","text":"\n"},{"line":6,"timestamp":"2021-04-20T09:38:51.362981857Z","streamType":"stdout","text":"Your account has been authenticated. Snyk is now ready to be used.\n"},{"line":7,"timestamp":"2021-04-20T09:38:51.362983152Z","streamType":"stdout","text":"\n"},{"line":8,"timestamp":"2021-04-20T09:38:51.90055642Z","streamType":"stdout","text":"\n"},{"line":9,"timestamp":"2021-04-20T09:38:51.920780978Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e snyk test --severity-threshold=medium --fail-on=all\u001b[0m\n"},{"line":10,"timestamp":"2021-04-20T09:38:54.407273972Z","streamType":"stdout","text":"\n"},{"line":11,"timestamp":"2021-04-20T09:38:54.407289519Z","streamType":"stdout","text":"Testing /estafette-work...\n"},{"line":12,"timestamp":"2021-04-20T09:38:54.407290511Z","streamType":"stdout","text":"\n"},{"line":13,"timestamp":"2021-04-20T09:38:54.407297756Z","streamType":"stdout","text":"Tested 46 dependencies for known issues, found 1 issue, 1 vulnerable path.\n"},{"line":14,"timestamp":"2021-04-20T09:38:54.407298424Z","streamType":"stdout","text":"\n"},{"line":15,"timestamp":"2021-04-20T09:38:54.407299032Z","streamType":"stdout","text":"\n"},{"line":16,"timestamp":"2021-04-20T09:38:54.407301003Z","streamType":"stdout","text":"Issues to fix by upgrading:\n"},{"line":17,"timestamp":"2021-04-20T09:38:54.407301649Z","streamType":"stdout","text":"\n"},{"line":18,"timestamp":"2021-04-20T09:38:54.407304833Z","streamType":"stdout","text":"  Upgrade marked@1.2.9 to marked@2.0.0 to fix\n"},{"line":19,"timestamp":"2021-04-20T09:38:54.40731947Z","streamType":"stdout","text":"  âœ— Regular Expression Denial of Service (ReDoS) [High Severity][https://snyk.io/vuln/SNYK-JS-MARKED-1070800] in marked@1.2.9\n"},{"line":20,"timestamp":"2021-04-20T09:38:54.407321679Z","streamType":"stdout","text":"    introduced by marked@1.2.9\n"},{"line":21,"timestamp":"2021-04-20T09:38:54.407322228Z","streamType":"stdout","text":"\n"},{"line":22,"timestamp":"2021-04-20T09:38:54.407322803Z","streamType":"stdout","text":"\n"},{"line":23,"timestamp":"2021-04-20T09:38:54.407323571Z","streamType":"stdout","text":"\n"},{"line":24,"timestamp":"2021-04-20T09:38:54.407325161Z","streamType":"stdout","text":"Organization:      xivart\n"},{"line":25,"timestamp":"2021-04-20T09:38:54.407327013Z","streamType":"stdout","text":"Package manager:   npm\n"},{"line":26,"timestamp":"2021-04-20T09:38:54.40732935Z","streamType":"stdout","text":"Target file:       package-lock.json\n"},{"line":27,"timestamp":"2021-04-20T09:38:54.407345939Z","streamType":"stdout","text":"Project name:      estafette-ci-web\n"},{"line":28,"timestamp":"2021-04-20T09:38:54.407346979Z","streamType":"stdout","text":"Open source:       no\n"},{"line":29,"timestamp":"2021-04-20T09:38:54.40734838Z","streamType":"stdout","text":"Project path:      /estafette-work\n"},{"line":30,"timestamp":"2021-04-20T09:38:54.407349908Z","streamType":"stdout","text":"Licenses:          enabled\n"},{"line":31,"timestamp":"2021-04-20T09:38:54.407350701Z","streamType":"stdout","text":"\n"},{"line":32,"timestamp":"2021-04-20T09:38:54.407352913Z","streamType":"stdout","text":"Run `snyk wizard` to address these issues.\n"},{"line":33,"timestamp":"2021-04-20T09:38:54.418378816Z","streamType":"stdout","text":"\n"},{"line":34,"timestamp":"2021-04-20T09:38:54.965590767Z","streamType":"stdout","text":"Failed running status check \u001b[31merror=\u001b[0m\u001b[31m\"exit status 1\"\u001b[0m\n"},{"line":10000,"timestamp":"2021-04-20T09:38:55.305744797Z","streamType":"stderr","text":"Failed with exit code: 1"}],"exitCode":0,"status":"FAILED"},{"step":"audit","depth":1,"image":{"name":"extensions/npm-audit","tag":"dev","isPulled":false,"imageSize":141210882,"pullDuration":6800796619,"isTrusted":true,"hasInjectedCredentials":true},"duration":9155523128,"logLines":[{"line":1,"timestamp":"2021-04-20T09:38:40.688225648Z","streamType":"stdout","text":"Starting estafette-extension-npm-audit version 0.0.104-snyk-fix-ac1783c809650154ee160a403c241e67... \u001b[36mbranch=\u001b[0msnyk-fix-ac1783c809650154ee160a403c241e67 \u001b[36mbuildDate=\u001b[0m2021-04-01T07:44:07Z \u001b[36mgoVersion=\u001b[0mgo1.15.6 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m6ca02284a8518d53fcb1538054e3f1028d0add1c\n"},{"line":2,"timestamp":"2021-04-20T09:38:40.688242161Z","streamType":"stdout","text":"Reading credentials from file at path /credentials/slack_webhook.json...\n"},{"line":3,"timestamp":"2021-04-20T09:38:40.688245803Z","streamType":"stdout","text":"Unmarshalling Slack credentials...\n"},{"line":4,"timestamp":"2021-04-20T09:38:40.688264666Z","streamType":"stdout","text":"Checking if Slack credential estafette exists...\n"},{"line":5,"timestamp":"2021-04-20T09:38:40.688280004Z","streamType":"stdout","text":"Checking credential slack-webhook-estafette for workspace estafette...\n"},{"line":6,"timestamp":"2021-04-20T09:38:40.688282254Z","streamType":"stdout","text":"Found credential slack-webhook-estafette for workspace estafette\n"},{"line":7,"timestamp":"2021-04-20T09:38:40.688283652Z","streamType":"stdout","text":"Auditing repo...\n"},{"line":8,"timestamp":"2021-04-20T09:38:40.688284921Z","streamType":"stdout","text":"\n"},{"line":9,"timestamp":"2021-04-20T09:38:40.688286747Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e npm audit --json --only=prod\u001b[0m\n"},{"line":10,"timestamp":"2021-04-20T09:38:42.512295758Z","streamType":"stderr","text":"npm notice \n"},{"line":11,"timestamp":"2021-04-20T09:38:42.512318106Z","streamType":"stderr","text":"npm notice New minor version of npm available! 7.6.3 -\u003e 7.10.0\n"},{"line":12,"timestamp":"2021-04-20T09:38:42.51232577Z","streamType":"stderr","text":"npm notice Changelog: \u003chttps://github.com/npm/cli/releases/tag/v7.10.0\u003e\n"},{"line":13,"timestamp":"2021-04-20T09:38:42.512337325Z","streamType":"stderr","text":"npm notice Run `npm install -g npm@7.10.0` to update!\n"},{"line":14,"timestamp":"2021-04-20T09:38:42.512452533Z","streamType":"stderr","text":"npm notice \n"},{"line":15,"timestamp":"2021-04-20T09:38:42.52080271Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e npm audit --json --only=dev\u001b[0m\n"},{"line":16,"timestamp":"2021-04-20T09:38:44.489158937Z","streamType":"stderr","text":"npm notice \n"},{"line":17,"timestamp":"2021-04-20T09:38:44.48918109Z","streamType":"stderr","text":"npm notice New minor version of npm available! 7.6.3 -\u003e 7.10.0\n"},{"line":18,"timestamp":"2021-04-20T09:38:44.489289765Z","streamType":"stderr","text":"npm notice Changelog: \u003chttps://github.com/npm/cli/releases/tag/v7.10.0\u003e\n"},{"line":19,"timestamp":"2021-04-20T09:38:44.489387211Z","streamType":"stderr","text":"npm notice Run `npm install -g npm@7.10.0` to update!\n"},{"line":20,"timestamp":"2021-04-20T09:38:44.489404899Z","streamType":"stderr","text":"npm notice \n"},{"line":21,"timestamp":"2021-04-20T09:38:44.501052028Z","streamType":"stdout","text":"Checking 48 prod dependencies for vulnerabilities with severity higher or equal than low\n"},{"line":22,"timestamp":"2021-04-20T09:38:44.501071411Z","streamType":"stdout","text":"Checking 1196 dev dependencies for vulnerabilities with severity higher or equal than moderate\n"},{"line":23,"timestamp":"2021-04-20T09:38:44.501075092Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e npm audit\u001b[0m\n"},{"line":24,"timestamp":"2021-04-20T09:38:46.428252813Z","streamType":"stdout","text":"# npm audit report\n"},{"line":25,"timestamp":"2021-04-20T09:38:46.428271056Z","streamType":"stdout","text":"\n"},{"line":26,"timestamp":"2021-04-20T09:38:46.428274364Z","streamType":"stdout","text":"ini  \u003c1.3.6\n"},{"line":27,"timestamp":"2021-04-20T09:38:46.428282121Z","streamType":"stdout","text":"Prototype Pollution - https://npmjs.com/advisories/1589\n"},{"line":28,"timestamp":"2021-04-20T09:38:46.428286183Z","streamType":"stdout","text":"fix available via `npm audit fix`\n"},{"line":29,"timestamp":"2021-04-20T09:38:46.428292852Z","streamType":"stdout","text":"node_modules/fsevents/node_modules/ini\n"},{"line":30,"timestamp":"2021-04-20T09:38:46.428293976Z","streamType":"stdout","text":"\n"},{"line":31,"timestamp":"2021-04-20T09:38:46.428296333Z","streamType":"stdout","text":"marked  1.1.1 - 1.2.9\n"},{"line":32,"timestamp":"2021-04-20T09:38:46.428298427Z","streamType":"stdout","text":"Severity: moderate\n"},{"line":33,"timestamp":"2021-04-20T09:38:46.428305086Z","streamType":"stdout","text":"Regular Expression Denial of Service - https://npmjs.com/advisories/1623\n"},{"line":34,"timestamp":"2021-04-20T09:38:46.42830751Z","streamType":"stdout","text":"fix available via `npm audit fix --force`\n"},{"line":35,"timestamp":"2021-04-20T09:38:46.428312153Z","streamType":"stdout","text":"Will install marked@2.0.3, which is a breaking change\n"},{"line":36,"timestamp":"2021-04-20T09:38:46.428313878Z","streamType":"stdout","text":"node_modules/marked\n"},{"line":37,"timestamp":"2021-04-20T09:38:46.428314835Z","streamType":"stdout","text":"\n"},{"line":38,"timestamp":"2021-04-20T09:38:46.428317507Z","streamType":"stdout","text":"2 vulnerabilities (1 low, 1 moderate)\n"},{"line":39,"timestamp":"2021-04-20T09:38:46.428337736Z","streamType":"stdout","text":"\n"},{"line":40,"timestamp":"2021-04-20T09:38:46.428341679Z","streamType":"stdout","text":"To address issues that do not require attention, run:\n"},{"line":41,"timestamp":"2021-04-20T09:38:46.42834346Z","streamType":"stdout","text":"  npm audit fix\n"},{"line":42,"timestamp":"2021-04-20T09:38:46.428344309Z","streamType":"stdout","text":"\n"},{"line":43,"timestamp":"2021-04-20T09:38:46.428356658Z","streamType":"stdout","text":"To address all issues (including breaking changes), run:\n"},{"line":44,"timestamp":"2021-04-20T09:38:46.428358581Z","streamType":"stdout","text":"  npm audit fix --force\n"},{"line":45,"timestamp":"2021-04-20T09:38:46.428359418Z","streamType":"stdout","text":"\n"},{"line":46,"timestamp":"2021-04-20T09:38:46.643718467Z","streamType":"stdout","text":"Failed due to vulnerabilities\n"},{"line":10000,"timestamp":"2021-04-20T09:38:48.844075037Z","streamType":"stderr","text":"Failed with exit code: 1"}],"exitCode":0,"status":"FAILED"}]},{"step":"lint-and-build","image":null,"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED","nestedSteps":[{"step":"lint","depth":1,"image":{"name":"node","tag":"15-alpine","isPulled":false,"imageSize":0,"pullDuration":0},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"build","depth":1,"image":{"name":"node","tag":"15-alpine","isPulled":false,"imageSize":0,"pullDuration":0},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"lint-helm-chart","depth":1,"image":{"name":"extensions/helm","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true,"hasInjectedCredentials":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"package-helm-chart","depth":1,"image":{"name":"extensions/helm","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true,"hasInjectedCredentials":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"}]},{"step":"bake","image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true,"hasInjectedCredentials":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"check-container","image":null,"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED","nestedSteps":[{"step":"check-efficiency","depth":1,"image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true,"hasInjectedCredentials":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"}]},{"step":"test","image":{"name":"node","tag":"15-alpine","isPulled":false,"imageSize":0,"pullDuration":0},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED","services":[{"step":"ci.estafette.io","depth":1,"image":{"name":"estafette/estafette-ci-web","tag":"${ESTAFETTE_BUILD_VERSION}","isPulled":false,"imageSize":0,"pullDuration":0},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"}]},{"step":"push-to-docker-hub","image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true,"hasInjectedCredentials":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"test-helm-chart","image":{"name":"extensions/helm","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true,"hasInjectedCredentials":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED","services":[{"step":"kubernetes","depth":1,"image":{"name":"bsycorp/kind","tag":"latest-1.19","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"}]},{"step":"clone-charts-repo","image":{"name":"extensions/git-clone","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true,"hasInjectedCredentials":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"publish-helm-chart","image":{"name":"extensions/helm","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true,"hasInjectedCredentials":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"slack-notify","image":{"name":"extensions/slack-build-status","tag":"dev","isPulled":false,"imageSize":11651547,"pullDuration":2241895360,"isTrusted":true,"hasInjectedCredentials":true},"duration":943015349,"logLines":[{"line":1,"timestamp":"2021-04-20T09:39:13.006011313Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-slack-build-status\u001b[0m version \u001b[1m0.1.74\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2021-02-10T16:38:39Z \u001b[36mgoVersion=\u001b[0mgo1.15.7 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m6bbe6703a36bc06d6fb056a0725b58e4a500a739\n"},{"line":2,"timestamp":"2021-04-20T09:39:13.006022146Z","streamType":"stdout","text":"Unmarshalling credentials...\n"},{"line":3,"timestamp":"2021-04-20T09:39:13.006028856Z","streamType":"stdout","text":"Reading credentials from file at path /credentials/slack_webhook.json...\n"},{"line":4,"timestamp":"2021-04-20T09:39:13.006031637Z","streamType":"stdout","text":"Checking if credential estafette exists...\n"},{"line":5,"timestamp":"2021-04-20T09:39:13.006034879Z","streamType":"stdout","text":"Checking credential slack-webhook-estafette for workspace estafette...\n"},{"line":6,"timestamp":"2021-04-20T09:39:13.006037636Z","streamType":"stdout","text":"Found credential slack-webhook-estafette for workspace estafette\n"},{"line":7,"timestamp":"2021-04-20T09:39:13.192716326Z","streamType":"stdout","text":"Finished estafette-extension-slack-build-status...\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"injected-after","image":null,"duration":1172285883,"logLines":null,"exitCode":0,"status":"SUCCEEDED","autoInjected":true,"nestedSteps":[{"step":"set-build-status","depth":1,"image":{"name":"extensions/github-status","tag":"dev","isPulled":true,"imageSize":0,"pullDuration":0,"isTrusted":true,"hasInjectedCredentials":true},"duration":1170296777,"logLines":[{"line":1,"timestamp":"2021-04-20T09:39:13.913378748Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-github-status\u001b[0m version \u001b[1m0.1.74\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2021-02-10T16:36:50Z \u001b[36mgoVersion=\u001b[0mgo1.15.7 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m35db0200d8d23f4f27e8644117f388e511038efb\n"},{"line":2,"timestamp":"2021-04-20T09:39:13.91339269Z","streamType":"stdout","text":"Reading credentials from file at path /credentials/github_api_token.json...\n"},{"line":3,"timestamp":"2021-04-20T09:39:13.913395637Z","streamType":"stdout","text":"Read 1 credentials\n"},{"line":4,"timestamp":"2021-04-20T09:39:13.913402972Z","streamType":"stdout","text":"Setting logs url https://***/pipelines/github.com/estafette/estafette-ci-web/builds/651562522370474001/logs\n"},{"line":5,"timestamp":"2021-04-20T09:39:14.357452315Z","streamType":"stdout","text":"Received successful response for 'https://api.github.com/repos/estafette/estafette-ci-web/statuses/ee63e21b884a004854922da0bab7fa780a191479' Github api call with status code 201\n"},{"line":6,"timestamp":"2021-04-20T09:39:14.357464725Z","streamType":"stdout","text":"Finished estafette-extension-github-status...\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true}]}]