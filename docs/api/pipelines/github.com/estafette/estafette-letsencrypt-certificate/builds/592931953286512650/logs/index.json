[{"step":"builder-info","image":null,"duration":0,"logLines":[{"line":1,"timestamp":"2020-09-25T07:27:55.252630892Z","streamType":"stdout","text":"Starting \u001b[1mestafette-ci-builder\u001b[0m version \u001b[1m0.0.686\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-09-23T14:39:50Z \u001b[36mgoVersion=\u001b[0mgo1.15.1 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m22a628cfd5b92506876a032b4f319b7c893802bb"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true},{"step":"injected-before","image":null,"duration":6379247438,"logLines":null,"exitCode":0,"status":"SUCCEEDED","autoInjected":true,"nestedSteps":[{"step":"envvars","depth":1,"image":{"name":"extensions/envvars","tag":"stable","isPulled":false,"imageSize":11158339,"pullDuration":1856896411},"duration":1493000592,"logLines":[{"line":1,"timestamp":"2020-09-25T07:27:57.900210973Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-envvars\u001b[0m version \u001b[1m0.1.15\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-03-04T09:29:44Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0ma1eec2828262801647117796b44ee95ed842ef2f\n"},{"line":2,"timestamp":"2020-09-25T07:27:57.900228505Z","streamType":"stdout","text":"All available estafette environment variables; the _DNS_SAFE suffixed ones can be used to set dns labels. Since leading digits are not allowed some of them are empty.\n"},{"line":3,"timestamp":"2020-09-25T07:27:57.900231337Z","streamType":"stdout","text":"ESTAFETTE_BUILD_DATETIME: 2020-09-25T07:27:55Z\n"},{"line":4,"timestamp":"2020-09-25T07:27:57.900232909Z","streamType":"stdout","text":"ESTAFETTE_BUILD_DATETIME_DNS_SAFE: t07-27-55z\n"},{"line":5,"timestamp":"2020-09-25T07:27:57.900234163Z","streamType":"stdout","text":"ESTAFETTE_BUILD_ID: 592931953286512650\n"},{"line":6,"timestamp":"2020-09-25T07:27:57.900235564Z","streamType":"stdout","text":"ESTAFETTE_BUILD_ID_DNS_SAFE: \n"},{"line":7,"timestamp":"2020-09-25T07:27:57.900272453Z","streamType":"stdout","text":"ESTAFETTE_BUILD_STATUS: succeeded\n"},{"line":8,"timestamp":"2020-09-25T07:27:57.900274406Z","streamType":"stdout","text":"ESTAFETTE_BUILD_STATUS_DNS_SAFE: succeeded\n"},{"line":9,"timestamp":"2020-09-25T07:27:57.900276195Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION: 1.2.6-main-200\n"},{"line":10,"timestamp":"2020-09-25T07:27:57.900277826Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_DNS_SAFE: main-200\n"},{"line":11,"timestamp":"2020-09-25T07:27:57.900279305Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_LABEL: main-200\n"},{"line":12,"timestamp":"2020-09-25T07:27:57.900281047Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_LABEL_DNS_SAFE: main-200\n"},{"line":13,"timestamp":"2020-09-25T07:27:57.90028251Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MAJOR: 1\n"},{"line":14,"timestamp":"2020-09-25T07:27:57.900284192Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MAJOR_DNS_SAFE: \n"},{"line":15,"timestamp":"2020-09-25T07:27:57.90028582Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MINOR: 2\n"},{"line":16,"timestamp":"2020-09-25T07:27:57.900287175Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MINOR_DNS_SAFE: \n"},{"line":17,"timestamp":"2020-09-25T07:27:57.90028869Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_PATCH: 200\n"},{"line":18,"timestamp":"2020-09-25T07:27:57.900290128Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_PATCH_DNS_SAFE: \n"},{"line":19,"timestamp":"2020-09-25T07:27:57.900292219Z","streamType":"stdout","text":"ESTAFETTE_CI_SERVER_BASE_URL: https://estafette.***.com/\n"},{"line":20,"timestamp":"2020-09-25T07:27:57.900295308Z","streamType":"stdout","text":"ESTAFETTE_CI_SERVER_BASE_URL_DNS_SAFE: https-estafette-***-com\n"},{"line":21,"timestamp":"2020-09-25T07:27:57.900297319Z","streamType":"stdout","text":"ESTAFETTE_EXTENSION_CUSTOM_PROPERTIES: {}\n"},{"line":22,"timestamp":"2020-09-25T07:27:57.90029923Z","streamType":"stdout","text":"ESTAFETTE_EXTENSION_CUSTOM_PROPERTIES_YAML: {}\n"},{"line":23,"timestamp":"2020-09-25T07:27:57.900300795Z","streamType":"stdout","text":"\n"},{"line":24,"timestamp":"2020-09-25T07:27:57.900305282Z","streamType":"stdout","text":"ESTAFETTE_GIT_BRANCH: main\n"},{"line":25,"timestamp":"2020-09-25T07:27:57.900306969Z","streamType":"stdout","text":"ESTAFETTE_GIT_BRANCH_DNS_SAFE: main\n"},{"line":26,"timestamp":"2020-09-25T07:27:57.900310414Z","streamType":"stdout","text":"ESTAFETTE_GIT_FULLNAME: estafette/estafette-letsencrypt-certificate\n"},{"line":27,"timestamp":"2020-09-25T07:27:57.900312805Z","streamType":"stdout","text":"ESTAFETTE_GIT_FULLNAME_DNS_SAFE: estafette-estafette-letsencrypt-certificate\n"},{"line":28,"timestamp":"2020-09-25T07:27:57.900314856Z","streamType":"stdout","text":"ESTAFETTE_GIT_NAME: estafette-letsencrypt-certificate\n"},{"line":29,"timestamp":"2020-09-25T07:27:57.90031722Z","streamType":"stdout","text":"ESTAFETTE_GIT_NAME_DNS_SAFE: estafette-letsencrypt-certificate\n"},{"line":30,"timestamp":"2020-09-25T07:27:57.900318864Z","streamType":"stdout","text":"ESTAFETTE_GIT_OWNER: estafette\n"},{"line":31,"timestamp":"2020-09-25T07:27:57.900320396Z","streamType":"stdout","text":"ESTAFETTE_GIT_OWNER_DNS_SAFE: estafette\n"},{"line":32,"timestamp":"2020-09-25T07:27:57.900322277Z","streamType":"stdout","text":"ESTAFETTE_GIT_REVISION: c6e0d6310a23f112c2692c0bc1caea5740ee1f0c\n"},{"line":33,"timestamp":"2020-09-25T07:27:57.900324145Z","streamType":"stdout","text":"ESTAFETTE_GIT_REVISION_DNS_SAFE: c6e0d6310a23f112c2692c0bc1caea5740ee1f0c\n"},{"line":34,"timestamp":"2020-09-25T07:27:57.900325687Z","streamType":"stdout","text":"ESTAFETTE_GIT_SOURCE: github.com\n"},{"line":35,"timestamp":"2020-09-25T07:27:57.900327406Z","streamType":"stdout","text":"ESTAFETTE_GIT_SOURCE_DNS_SAFE: github-com\n"},{"line":36,"timestamp":"2020-09-25T07:27:57.90032949Z","streamType":"stdout","text":"ESTAFETTE_LABEL_APP_GROUP: estafette-controllers\n"},{"line":37,"timestamp":"2020-09-25T07:27:57.900331124Z","streamType":"stdout","text":"ESTAFETTE_LABEL_APP_GROUP_DNS_SAFE: estafette-controllers\n"},{"line":38,"timestamp":"2020-09-25T07:27:57.900369024Z","streamType":"stdout","text":"ESTAFETTE_LABEL_LANGUAGE: golang\n"},{"line":39,"timestamp":"2020-09-25T07:27:57.900373587Z","streamType":"stdout","text":"ESTAFETTE_LABEL_LANGUAGE_DNS_SAFE: golang\n"},{"line":40,"timestamp":"2020-09-25T07:27:57.90037517Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TEAM: estafette-team\n"},{"line":41,"timestamp":"2020-09-25T07:27:57.900376821Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TEAM_DNS_SAFE: estafette-team\n"},{"line":42,"timestamp":"2020-09-25T07:27:57.900378493Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TYPE: service\n"},{"line":43,"timestamp":"2020-09-25T07:27:57.900380274Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TYPE_DNS_SAFE: service\n"},{"line":44,"timestamp":"2020-09-25T07:27:57.900382154Z","streamType":"stdout","text":"ESTAFETTE_LOG_FORMAT: console\n"},{"line":45,"timestamp":"2020-09-25T07:27:57.900585276Z","streamType":"stdout","text":"ESTAFETTE_STAGES: [{\"Name\":\"injected-before***\"ContainerImage\":\"***\"Shell\":\"***\"WorkingDirectory\":\"***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'***\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":[{\"Name\":\"git-clone***\"ContainerImage\":\"extensions/git-clone:dev***\"Shell\":\"/bin/sh***\"WorkingDirectory\":\"/estafette-work***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'***\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":null},{\"Name\":\"set-pending-build-status***\"ContainerImage\":\"extensions/github-status:dev***\"Shell\":\"/bin/sh***\"WorkingDirectory\":\"/estafette-work***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'***\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"status\":\"pending\"}},{\"Name\":\"envvars***\"ContainerImage\":\"extensions/envvars:stable***\"Shell\":\"/bin/sh***\"WorkingDirectory\":\"/estafette-work***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'***\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{}}],\"Services\":null,\"CustomProperties\":null},{\"Name\":\"build-lint-and-package***\"ContainerImage\":\"***\"Shell\":\"***\"WorkingDirectory\":\"***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'***\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":[{\"Name\":\"build***\"ContainerImage\":\"golang:1.14.0-alpine3.11***\"Shell\":\"/bin/sh***\"WorkingDirectory\":\"/estafette-work***\"Commands\":[\"go test ./...***\"go build -a -installsuffix cgo -ldflags \\\"-X main.appgroup=estafette-controllers -X main.app=estafette-letsencrypt-certificate -X main.version=1.2.6-main-200 -X main.revision=c6e0d6310a23f112c2692c0bc1caea5740ee1f0c -X main.branch=main -X main.buildDate=2020-09-25T07:27:55Z\\\" -o ./publish/estafette-letsencrypt-certificate .\"],\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'***\"EnvVars\":{\"CGO_ENABLED\":\"0***\"GOOS\":\"linux\"},\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{}},{\"Name\":\"lint-helm-chart***\"ContainerImage\":\"extensions/helm:dev***\"Shell\":\"/bin/sh***\"WorkingDirectory\":\"/estafette-work***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'***\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"lint\"}},{\"Name\":\"package-helm-chart***\"ContainerImage\":\"extensions/helm:dev***\"Shell\":\"/bin/sh***\"WorkingDirectory\":\"/estafette-work***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'***\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"package\"}}],\"Services\":null,\"CustomProperties\":{}},{\"Name\":\"bake***\"ContainerImage\":\"extensions/docker:dev***\"Shell\":\"/bin/sh***\"WorkingDirectory\":\"/estafette-work***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'***\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"build***\"copy\":[\"/etc/ssl/certs/ca-certificates.crt\"],\"path\":\"./publish***\"repositories\":[\"estafette\"]}},{\"Name\":\"check-container***\"ContainerImage\":\"***\"Shell\":\"***\"WorkingDirectory\":\"***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'***\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":[{\"Name\":\"check-efficiency***\"ContainerImage\":\"extensions/docker:dev***\"Shell\":\"/bin/sh***\"WorkingDirectory\":\"/estafette-work***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'***\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"dive***\"repositories\":[\"estafette\"]}},{\"Name\":\"vulnerability-scan***\"ContainerImage\":\"extensions/docker:dev***\"Shell\":\"/bin/sh***\"WorkingDirectory\":\"/estafette-work***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'***\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"trivy***\"repositories\":[\"estafette\"]}}],\"Services\":null,\"CustomProperties\":{}},{\"Name\":\"push-to-docker-hub***\"ContainerImage\":\"extensions/docker:dev***\"Shell\":\"/bin/sh***\"WorkingDirectory\":\"/estafette-work***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'***\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"push***\"repositories\":[\"estafette\"]}},{\"Name\":\"test-helm-chart***\"ContainerImage\":\"extensions/helm:dev***\"Shell\":\"/bin/sh***\"WorkingDirectory\":\"/estafette-work***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'***\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":[{\"Name\":\"kubernetes***\"ContainerImage\":\"bsycorp/kind:latest-1.12***\"Shell\":\"/bin/sh***\"Commands\":null,\"RunCommandsInForeground\":false,\"MultiStage\":false,\"When\":\"status == 'succeeded'***\"EnvVars\":null,\"Readiness\":{\"Path\":\"/kubernetes-ready***\"TimeoutSeconds\":60,\"Port\":10080,\"Protocol\":\"http***\"Hostname\":\"kubernetes\"},\"CustomProperties\":{}}],\"CustomProperties\":{\"action\":\"test***\"values\":\"secret:\\n  letsencryptAccountJson: {}\\n  letsencryptAccountKey: abc\\n  cloudflareApiEmail: bot@estafette.io\\n  cloudflareApiKey: abc\"}},{\"Name\":\"clone-charts-repo***\"ContainerImage\":\"extensions/git-clone:dev***\"Shell\":\"/bin/sh***\"WorkingDirectory\":\"/estafette-work***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'***\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"branch\":\"master***\"repo\":\"helm-charts\"}},{\"Name\":\"publish-helm-chart***\"ContainerImage\":\"extensions/helm:dev***\"Shell\":\"/bin/sh***\"WorkingDirectory\":\"/estafette-work***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'***\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"publish\"}},{\"Name\":\"slack-notify***\"ContainerImage\":\"extensions/slack-build-status:dev***\"Shell\":\"/bin/sh***\"WorkingDirectory\":\"/estafette-work***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded' || status == 'failed'***\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"channels\":[\"#build-status\"],\"workspace\":\"estafette\"}},{\"Name\":\"injected-after***\"ContainerImage\":\"***\"Shell\":\"***\"WorkingDirectory\":\"***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded' || status == 'failed'***\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":[{\"Name\":\"set-build-status***\"ContainerImage\":\"extensions/github-status:dev***\"Shell\":\"/bin/sh***\"WorkingDirectory\":\"/estafette-work***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded' || status == 'failed'***\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":null}],\"Services\":null,\"CustomProperties\":null}]\n"},{"line":46,"timestamp":"2020-09-25T07:27:57.900589567Z","streamType":"stdout","text":"ESTAFETTE_STAGES_DNS_SAFE: name-injected-before-containerimage-shell-workingdirectory-comm\n"},{"line":47,"timestamp":"2020-09-25T07:27:57.900591533Z","streamType":"stdout","text":"ESTAFETTE_STAGE_NAME: envvars\n"},{"line":48,"timestamp":"2020-09-25T07:27:57.900593404Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_BRANCH: main\n"},{"line":49,"timestamp":"2020-09-25T07:27:57.900595365Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_BRANCH_DNS_SAFE: main\n"},{"line":50,"timestamp":"2020-09-25T07:27:57.900599232Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_EVENT: push\n"},{"line":51,"timestamp":"2020-09-25T07:27:57.900614464Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_EVENT_DNS_SAFE: push\n"},{"line":52,"timestamp":"2020-09-25T07:27:57.900617654Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_REPOSITORY: github.com/estafette/estafette-letsencrypt-certificate\n"},{"line":53,"timestamp":"2020-09-25T07:27:57.900621344Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_REPOSITORY_DNS_SAFE: github-com-estafette-estafette-letsencrypt-certificate\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true},{"step":"set-pending-build-status","depth":1,"image":{"name":"extensions/github-status","tag":"dev","isPulled":false,"imageSize":12649209,"pullDuration":2425391198,"isTrusted":true,"hasInjectedCredentials":true},"duration":1894665755,"logLines":[{"line":1,"timestamp":"2020-09-25T07:27:58.84178241Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-github-status\u001b[0m version \u001b[1m0.1.46\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-03-04T09:32:11Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m6db9d43ca763f9104293785ed2c594320dd7946a\n"},{"line":2,"timestamp":"2020-09-25T07:27:58.841800631Z","streamType":"stdout","text":"Setting logs url https://estafette.***.com/pipelines/github.com/estafette/estafette-letsencrypt-certificate/builds/592931953286512650/logs\n"},{"line":3,"timestamp":"2020-09-25T07:27:59.311270116Z","streamType":"stdout","text":"Received successful response for 'https://api.github.com/repos/estafette/estafette-letsencrypt-certificate/statuses/c6e0d6310a23f112c2692c0bc1caea5740ee1f0c' Github api call with status code 201\n"},{"line":4,"timestamp":"2020-09-25T07:27:59.311283881Z","streamType":"stdout","text":"Finished estafette-extension-github-status...\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true},{"step":"git-clone","depth":1,"image":{"name":"extensions/git-clone","tag":"dev","isPulled":false,"imageSize":33645729,"pullDuration":2431150379,"isTrusted":true,"hasInjectedCredentials":true},"duration":3944535908,"logLines":[{"line":1,"timestamp":"2020-09-25T07:27:58.743591383Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-git-clone\u001b[0m version \u001b[1m0.1.81\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-04-01T15:00:17Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m50245b030d6c4f5911a8332aeef550ca39da8115\n"},{"line":2,"timestamp":"2020-09-25T07:27:58.743603433Z","streamType":"stdout","text":"Unmarshalling injected github api token credentials\n"},{"line":3,"timestamp":"2020-09-25T07:27:58.743612739Z","streamType":"stdout","text":"Cloning git repository estafette-letsencrypt-certificate to branch main and revision c6e0d6310a23f112c2692c0bc1caea5740ee1f0c with shallow clone is true and depth 50...\n"},{"line":4,"timestamp":"2020-09-25T07:27:58.743618884Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e git clone --depth=50 --branch=main https://x-access-token:***@github.com/estafette/estafette-letsencrypt-certificate /estafette-work\u001b[0m\n"},{"line":5,"timestamp":"2020-09-25T07:27:58.743621569Z","streamType":"stderr","text":"Cloning into '/estafette-work'...\n"},{"line":6,"timestamp":"2020-09-25T07:28:01.356966101Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e git checkout --quiet --force c6e0d6310a23f112c2692c0bc1caea5740ee1f0c\u001b[0m\n"},{"line":7,"timestamp":"2020-09-25T07:28:01.361437984Z","streamType":"stdout","text":"Finished cloning git repository estafette-letsencrypt-certificate to branch main and revision c6e0d6310a23f112c2692c0bc1caea5740ee1f0c with shallow clone is true and depth 50\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true}]},{"step":"build-lint-and-package","image":null,"duration":96273981526,"logLines":null,"exitCode":0,"status":"SUCCEEDED","nestedSteps":[{"step":"lint-helm-chart","depth":1,"image":{"name":"extensions/helm","tag":"dev","isPulled":false,"imageSize":684672624,"pullDuration":19807371757,"isTrusted":true,"hasInjectedCredentials":true},"duration":4948489377,"logLines":[{"line":1,"timestamp":"2020-09-25T07:28:25.184526152Z","streamType":"stdout","text":"Starting estafette-extension-helm version 0.1.152... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-09-23T15:34:12Z \u001b[36mgoVersion=\u001b[0mgo1.15 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m6cffd8421c0b807134daecaf9d1eaeb3758dbcd6\n"},{"line":2,"timestamp":"2020-09-25T07:28:25.184541175Z","streamType":"stdout","text":"Unmarshalling parameters / custom properties...\n"},{"line":3,"timestamp":"2020-09-25T07:28:25.184548397Z","streamType":"stdout","text":"Setting defaults for parameters that are not set in the manifest...\n"},{"line":4,"timestamp":"2020-09-25T07:28:25.18457987Z","streamType":"stdout","text":"Linting chart estafette-letsencrypt-certificate...\n"},{"line":5,"timestamp":"2020-09-25T07:28:25.184583373Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e helm lint helm/estafette-letsencrypt-certificate\u001b[0m\n"},{"line":6,"timestamp":"2020-09-25T07:28:25.240694452Z","streamType":"stdout","text":"==\u003e Linting helm/estafette-letsencrypt-certificate\n"},{"line":7,"timestamp":"2020-09-25T07:28:25.2407058Z","streamType":"stdout","text":"\n"},{"line":8,"timestamp":"2020-09-25T07:28:25.240708961Z","streamType":"stdout","text":"1 chart(s) linted, 0 chart(s) failed\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"package-helm-chart","depth":1,"image":{"name":"extensions/helm","tag":"dev","isPulled":false,"imageSize":684672624,"pullDuration":19807276743,"isTrusted":true,"hasInjectedCredentials":true},"duration":4925067439,"logLines":[{"line":1,"timestamp":"2020-09-25T07:28:25.064310463Z","streamType":"stdout","text":"Starting estafette-extension-helm version 0.1.152... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-09-23T15:34:12Z \u001b[36mgoVersion=\u001b[0mgo1.15 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m6cffd8421c0b807134daecaf9d1eaeb3758dbcd6\n"},{"line":2,"timestamp":"2020-09-25T07:28:25.06432439Z","streamType":"stdout","text":"Unmarshalling parameters / custom properties...\n"},{"line":3,"timestamp":"2020-09-25T07:28:25.064330024Z","streamType":"stdout","text":"Setting defaults for parameters that are not set in the manifest...\n"},{"line":4,"timestamp":"2020-09-25T07:28:25.065394446Z","streamType":"stdout","text":"Packaging chart estafette-letsencrypt-certificate with app version 1.2.6-main-200 and version 1.2.6-main-200...\n"},{"line":5,"timestamp":"2020-09-25T07:28:25.065409619Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e helm package --app-version 1.2.6-main-200 --version 1.2.6-main-200 --dependency-update helm/estafette-letsencrypt-certificate\u001b[0m\n"},{"line":6,"timestamp":"2020-09-25T07:28:25.144600436Z","streamType":"stdout","text":"Successfully packaged chart and saved it to: /estafette-work/estafette-letsencrypt-certificate-1.2.6-main-200.tgz\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"build","depth":1,"image":{"name":"golang","tag":"1.14.0-alpine3.11","isPulled":false,"imageSize":369193709,"pullDuration":16675713769},"duration":79594324461,"logLines":[{"line":1,"timestamp":"2020-09-25T07:28:24.954186542Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e go test ./... \u0026\u001b[0m\n"},{"line":2,"timestamp":"2020-09-25T07:28:26.803533204Z","streamType":"stderr","text":"go: downloading github.com/alecthomas/kingpin v2.2.6+incompatible\n"},{"line":3,"timestamp":"2020-09-25T07:28:26.803550226Z","streamType":"stderr","text":"go: downloading k8s.io/client-go v0.17.0\n"},{"line":4,"timestamp":"2020-09-25T07:28:26.803573208Z","streamType":"stderr","text":"go: downloading github.com/rs/zerolog v1.17.2\n"},{"line":5,"timestamp":"2020-09-25T07:28:26.8043829Z","streamType":"stderr","text":"go: downloading k8s.io/apimachinery v0.17.0\n"},{"line":6,"timestamp":"2020-09-25T07:28:26.805006468Z","streamType":"stderr","text":"go: downloading github.com/go-acme/lego/v3 v3.4.0\n"},{"line":7,"timestamp":"2020-09-25T07:28:26.805392771Z","streamType":"stderr","text":"go: downloading github.com/prometheus/client_golang v1.1.0\n"},{"line":8,"timestamp":"2020-09-25T07:28:26.846992373Z","streamType":"stderr","text":"go: downloading github.com/estafette/estafette-foundation v0.0.57\n"},{"line":9,"timestamp":"2020-09-25T07:28:26.879922667Z","streamType":"stderr","text":"go: downloading github.com/alecthomas/template v0.0.0-20160405071501-a0175ee3bccc\n"},{"line":10,"timestamp":"2020-09-25T07:28:26.913613019Z","streamType":"stderr","text":"go: downloading github.com/prometheus/procfs v0.0.3\n"},{"line":11,"timestamp":"2020-09-25T07:28:26.978793882Z","streamType":"stderr","text":"go: downloading github.com/logrusorgru/aurora v0.0.0-20191116043053-66b7ad493a23\n"},{"line":12,"timestamp":"2020-09-25T07:28:27.014866633Z","streamType":"stderr","text":"go: downloading k8s.io/api v0.17.0\n"},{"line":13,"timestamp":"2020-09-25T07:28:27.018133202Z","streamType":"stderr","text":"go: downloading github.com/fsnotify/fsnotify v1.4.7\n"},{"line":14,"timestamp":"2020-09-25T07:28:27.019768749Z","streamType":"stderr","text":"go: downloading github.com/prometheus/client_model v0.0.0-20190129233127-fd36f4220a90\n"},{"line":15,"timestamp":"2020-09-25T07:28:27.020332245Z","streamType":"stderr","text":"go: downloading github.com/beorn7/perks v1.0.1\n"},{"line":16,"timestamp":"2020-09-25T07:28:27.043593511Z","streamType":"stderr","text":"go: downloading github.com/gogo/protobuf v1.2.2-0.20190723190241-65acae22fc9d\n"},{"line":17,"timestamp":"2020-09-25T07:28:27.063828424Z","streamType":"stderr","text":"go: downloading github.com/golang/protobuf v1.3.2\n"},{"line":18,"timestamp":"2020-09-25T07:28:27.068519626Z","streamType":"stderr","text":"go: downloading github.com/prometheus/common v0.6.0\n"},{"line":19,"timestamp":"2020-09-25T07:28:27.068561538Z","streamType":"stderr","text":"go: downloading github.com/uber/jaeger-client-go v2.20.1+incompatible\n"},{"line":20,"timestamp":"2020-09-25T07:28:27.075278804Z","streamType":"stderr","text":"go: downloading github.com/google/gofuzz v1.0.0\n"},{"line":21,"timestamp":"2020-09-25T07:28:27.075701545Z","streamType":"stderr","text":"go: downloading github.com/stretchr/testify v1.4.0\n"},{"line":22,"timestamp":"2020-09-25T07:28:27.106158931Z","streamType":"stderr","text":"go: downloading github.com/google/uuid v1.1.1\n"},{"line":23,"timestamp":"2020-09-25T07:28:27.132673691Z","streamType":"stderr","text":"go: downloading github.com/cloudflare/cloudflare-go v0.10.2\n"},{"line":24,"timestamp":"2020-09-25T07:28:27.140966352Z","streamType":"stderr","text":"go: downloading golang.org/x/crypto v0.0.0-20191011191535-87dc89f01550\n"},{"line":25,"timestamp":"2020-09-25T07:28:27.200457857Z","streamType":"stderr","text":"go: downloading github.com/uber/jaeger-lib v2.2.0+incompatible\n"},{"line":26,"timestamp":"2020-09-25T07:28:27.205463177Z","streamType":"stderr","text":"go: downloading gopkg.in/inf.v0 v0.9.1\n"},{"line":27,"timestamp":"2020-09-25T07:28:27.214060953Z","streamType":"stderr","text":"go: downloading github.com/pkg/errors v0.8.1\n"},{"line":28,"timestamp":"2020-09-25T07:28:27.228779849Z","streamType":"stderr","text":"go: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n"},{"line":29,"timestamp":"2020-09-25T07:28:27.231368362Z","streamType":"stderr","text":"go: downloading gopkg.in/yaml.v2 v2.2.4\n"},{"line":30,"timestamp":"2020-09-25T07:28:27.245080982Z","streamType":"stderr","text":"go: downloading golang.org/x/net v0.0.0-20191027093000-83d349e8ac1a\n"},{"line":31,"timestamp":"2020-09-25T07:28:27.254825655Z","streamType":"stderr","text":"go: downloading golang.org/x/time v0.0.0-20190921001708-c4c64cad1fd0\n"},{"line":32,"timestamp":"2020-09-25T07:28:27.270083524Z","streamType":"stderr","text":"go: downloading github.com/davecgh/go-spew v1.1.1\n"},{"line":33,"timestamp":"2020-09-25T07:28:27.286909185Z","streamType":"stderr","text":"go: downloading github.com/miekg/dns v1.1.15\n"},{"line":34,"timestamp":"2020-09-25T07:28:27.295472381Z","streamType":"stderr","text":"go: downloading k8s.io/klog v1.0.0\n"},{"line":35,"timestamp":"2020-09-25T07:28:27.310057229Z","streamType":"stderr","text":"go: downloading github.com/opentracing/opentracing-go v1.1.0\n"},{"line":36,"timestamp":"2020-09-25T07:28:27.321165034Z","streamType":"stderr","text":"go: downloading k8s.io/utils v0.0.0-20200619165400-6e3d28b6ed19\n"},{"line":37,"timestamp":"2020-09-25T07:28:27.333758085Z","streamType":"stderr","text":"go: downloading github.com/alecthomas/units v0.0.0-20151022065526-2efee857e7cf\n"},{"line":38,"timestamp":"2020-09-25T07:28:27.604719024Z","streamType":"stderr","text":"go: downloading golang.org/x/text v0.3.2\n"},{"line":39,"timestamp":"2020-09-25T07:28:27.732502489Z","streamType":"stderr","text":"go: downloading k8s.io/klog/v2 v2.0.0\n"},{"line":40,"timestamp":"2020-09-25T07:28:27.735021238Z","streamType":"stderr","text":"go: downloading golang.org/x/sys v0.0.0-20190826190057-c7b8b68b1456\n"},{"line":41,"timestamp":"2020-09-25T07:28:27.737822855Z","streamType":"stderr","text":"go: downloading github.com/pmezard/go-difflib v1.0.0\n"},{"line":42,"timestamp":"2020-09-25T07:28:27.740992003Z","streamType":"stderr","text":"go: downloading go.uber.org/atomic v1.5.1\n"},{"line":43,"timestamp":"2020-09-25T07:28:27.743479196Z","streamType":"stderr","text":"go: downloading github.com/hashicorp/golang-lru v0.5.3\n"},{"line":44,"timestamp":"2020-09-25T07:28:27.74796405Z","streamType":"stderr","text":"go: downloading github.com/google/go-cmp v0.3.0\n"},{"line":45,"timestamp":"2020-09-25T07:28:27.753521136Z","streamType":"stderr","text":"go: downloading github.com/googleapis/gnostic v0.0.0-20170729233727-0c5108395e2d\n"},{"line":46,"timestamp":"2020-09-25T07:28:28.274910843Z","streamType":"stderr","text":"go: downloading sigs.k8s.io/yaml v1.1.0\n"},{"line":47,"timestamp":"2020-09-25T07:28:28.27563626Z","streamType":"stderr","text":"go: downloading github.com/json-iterator/go v1.1.8\n"},{"line":48,"timestamp":"2020-09-25T07:28:28.277248228Z","streamType":"stderr","text":"go: downloading github.com/go-logr/logr v0.1.0\n"},{"line":49,"timestamp":"2020-09-25T07:28:28.285757939Z","streamType":"stderr","text":"go: downloading gopkg.in/square/go-jose.v2 v2.3.1\n"},{"line":50,"timestamp":"2020-09-25T07:28:28.29308265Z","streamType":"stderr","text":"go: downloading github.com/cenkalti/backoff/v4 v4.0.0\n"},{"line":51,"timestamp":"2020-09-25T07:28:28.323339138Z","streamType":"stderr","text":"go: downloading github.com/modern-go/reflect2 v1.0.1\n"},{"line":52,"timestamp":"2020-09-25T07:28:28.416316897Z","streamType":"stderr","text":"go: downloading golang.org/x/oauth2 v0.0.0-20190604053449-0f29369cfe45\n"},{"line":53,"timestamp":"2020-09-25T07:28:28.86947629Z","streamType":"stderr","text":"go: downloading github.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd\n"},{"line":54,"timestamp":"2020-09-25T07:29:03.093035542Z","streamType":"stdout","text":"ok  \tgithub.com/estafette/estafette-letsencrypt-certificate\t0.013s\n"},{"line":55,"timestamp":"2020-09-25T07:29:03.242998138Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e go build -a -installsuffix cgo -ldflags \"-X main.appgroup=estafette-controllers -X main.app=estafette-letsencrypt-certificate -X main.version=1.2.6-main-200 -X main.revision=c6e0d6310a23f112c2692c0bc1caea5740ee1f0c -X main.branch=main -X main.buildDate=2020-09-25T07:27:55Z\" -o ./publish/estafette-letsencrypt-certificate .\u001b[0m\n"}],"exitCode":0,"status":"SUCCEEDED"}]},{"step":"bake","image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":334156431,"pullDuration":4886698551,"isTrusted":true,"hasInjectedCredentials":true},"duration":12198812410,"logLines":[{"line":1,"timestamp":"2020-09-25T07:29:45.799186527Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-docker\u001b[0m version \u001b[1m0.1.195\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-09-23T15:37:03Z \u001b[36mgoVersion=\u001b[0mgo1.14.2 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m68cf712425d094cccdc132eb0f9de53af7cd8854\n"},{"line":2,"timestamp":"2020-09-25T07:29:45.799197892Z","streamType":"stdout","text":"Ensuring build directory ./publish exists\n"},{"line":3,"timestamp":"2020-09-25T07:29:45.79920182Z","streamType":"stdout","text":"Copying file /etc/ssl/certs/ca-certificates.crt to ./publish\n"},{"line":4,"timestamp":"2020-09-25T07:29:45.799204493Z","streamType":"stdout","text":"Reading dockerfile content from Dockerfile...\n"},{"line":5,"timestamp":"2020-09-25T07:29:45.835851943Z","streamType":"stdout","text":"Expanding environment variables in Dockerfile...\n"},{"line":6,"timestamp":"2020-09-25T07:29:45.835866472Z","streamType":"stdout","text":"Writing Dockerfile to publish/Dockerfile...\n"},{"line":7,"timestamp":"2020-09-25T07:29:45.835869533Z","streamType":"stdout","text":"Listing directory ./publish content\n"},{"line":8,"timestamp":"2020-09-25T07:29:45.836003415Z","streamType":"stdout","text":"- Dockerfile\n"},{"line":9,"timestamp":"2020-09-25T07:29:45.836016026Z","streamType":"stdout","text":"- ca-certificates.crt\n"},{"line":10,"timestamp":"2020-09-25T07:29:45.836018766Z","streamType":"stdout","text":"- estafette-letsencrypt-certificate\n"},{"line":11,"timestamp":"2020-09-25T07:29:45.836325641Z","streamType":"stdout","text":"Filtering credentials for images [estafette/estafette-letsencrypt-certificate:1.2.6-main-200]\n"},{"line":12,"timestamp":"2020-09-25T07:29:45.836336762Z","streamType":"stdout","text":"Filtered 9 container-registry credentials down to 1\n"},{"line":13,"timestamp":"2020-09-25T07:29:45.836339268Z","streamType":"stdout","text":"Logging in to repository 'estafette'\n"},{"line":14,"timestamp":"2020-09-25T07:29:46.94861006Z","streamType":"stdout","text":"Pulling docker image estafette/estafette-letsencrypt-certificate:cache-main to use as cache during build...\n"},{"line":15,"timestamp":"2020-09-25T07:29:46.948625376Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e docker pull estafette/estafette-letsencrypt-certificate:cache-main\u001b[0m\n"},{"line":16,"timestamp":"2020-09-25T07:29:48.097313117Z","streamType":"stderr","text":"Error response from daemon: manifest for estafette/estafette-letsencrypt-certificate:cache-main not found: manifest unknown: manifest unknown\n"},{"line":17,"timestamp":"2020-09-25T07:29:48.099308931Z","streamType":"stdout","text":"Building docker image estafette/estafette-letsencrypt-certificate:1.2.6-main-200...\n"},{"line":18,"timestamp":"2020-09-25T07:29:48.099321903Z","streamType":"stdout","text":"\n"},{"line":19,"timestamp":"2020-09-25T07:29:48.099324488Z","streamType":"stdout","text":"FROM scratch\n"},{"line":20,"timestamp":"2020-09-25T07:29:48.099325666Z","streamType":"stdout","text":"\n"},{"line":21,"timestamp":"2020-09-25T07:29:48.099328516Z","streamType":"stdout","text":"LABEL maintainer=\"estafette.io\" \\\n"},{"line":22,"timestamp":"2020-09-25T07:29:48.099337404Z","streamType":"stdout","text":"      description=\"The estafette-letsencrypt-certificate component is a Kubernetes controller that retrieves and renews tls certificates from Letsencrypt for annotated Kubernetes secrets\"\n"},{"line":23,"timestamp":"2020-09-25T07:29:48.099338405Z","streamType":"stdout","text":"\n"},{"line":24,"timestamp":"2020-09-25T07:29:48.09934117Z","streamType":"stdout","text":"COPY ca-certificates.crt /etc/ssl/certs/\n"},{"line":25,"timestamp":"2020-09-25T07:29:48.099343784Z","streamType":"stdout","text":"COPY estafette-letsencrypt-certificate /\n"},{"line":26,"timestamp":"2020-09-25T07:29:48.099405316Z","streamType":"stdout","text":"\n"},{"line":27,"timestamp":"2020-09-25T07:29:48.099407978Z","streamType":"stdout","text":"ENTRYPOINT [\"/estafette-letsencrypt-certificate\"]\n"},{"line":28,"timestamp":"2020-09-25T07:29:48.099408766Z","streamType":"stdout","text":"\n"},{"line":29,"timestamp":"2020-09-25T07:29:48.099409402Z","streamType":"stdout","text":"\n"},{"line":30,"timestamp":"2020-09-25T07:29:48.099434476Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e docker build --tag estafette/estafette-letsencrypt-certificate:cache-main --tag estafette/estafette-letsencrypt-certificate:1.2.6-main-200 --cache-from estafette/estafette-letsencrypt-certificate:cache-main --file publish/Dockerfile ./publish\u001b[0m\n"},{"line":31,"timestamp":"2020-09-25T07:29:48.394048449Z","streamType":"stdout","text":"Sending build context to Docker daemon  44.44MB\r\r\n"},{"line":32,"timestamp":"2020-09-25T07:29:48.400573088Z","streamType":"stdout","text":"Step 1/5 : FROM scratch\n"},{"line":33,"timestamp":"2020-09-25T07:29:48.400584732Z","streamType":"stdout","text":" ---\u003e \n"},{"line":34,"timestamp":"2020-09-25T07:29:48.400594576Z","streamType":"stdout","text":"Step 2/5 : LABEL maintainer=\"estafette.io\"       description=\"The estafette-letsencrypt-certificate component is a Kubernetes controller that retrieves and renews tls certificates from Letsencrypt for annotated Kubernetes secrets\"\n"},{"line":35,"timestamp":"2020-09-25T07:29:48.699142353Z","streamType":"stdout","text":" ---\u003e Running in 9d8b574c4372\n"},{"line":36,"timestamp":"2020-09-25T07:29:48.785754694Z","streamType":"stdout","text":"Removing intermediate container 9d8b574c4372\n"},{"line":37,"timestamp":"2020-09-25T07:29:48.785768074Z","streamType":"stdout","text":" ---\u003e 25ffe09c062c\n"},{"line":38,"timestamp":"2020-09-25T07:29:48.785773279Z","streamType":"stdout","text":"Step 3/5 : COPY ca-certificates.crt /etc/ssl/certs/\n"},{"line":39,"timestamp":"2020-09-25T07:29:48.919037564Z","streamType":"stdout","text":" ---\u003e 47ddfd41f2e9\n"},{"line":40,"timestamp":"2020-09-25T07:29:48.91905376Z","streamType":"stdout","text":"Step 4/5 : COPY estafette-letsencrypt-certificate /\n"},{"line":41,"timestamp":"2020-09-25T07:29:49.993203206Z","streamType":"stdout","text":" ---\u003e 097175488b5f\n"},{"line":42,"timestamp":"2020-09-25T07:29:49.99322141Z","streamType":"stdout","text":"Step 5/5 : ENTRYPOINT [\"/estafette-letsencrypt-certificate\"]\n"},{"line":43,"timestamp":"2020-09-25T07:29:50.047856315Z","streamType":"stdout","text":" ---\u003e Running in 12c6018f7977\n"},{"line":44,"timestamp":"2020-09-25T07:29:50.14196796Z","streamType":"stdout","text":"Removing intermediate container 12c6018f7977\n"},{"line":45,"timestamp":"2020-09-25T07:29:50.141984959Z","streamType":"stdout","text":" ---\u003e 9ac02db53030\n"},{"line":46,"timestamp":"2020-09-25T07:29:50.148618492Z","streamType":"stdout","text":"Successfully built 9ac02db53030\n"},{"line":47,"timestamp":"2020-09-25T07:29:50.156779132Z","streamType":"stdout","text":"Successfully tagged estafette/estafette-letsencrypt-certificate:cache-main\n"},{"line":48,"timestamp":"2020-09-25T07:29:50.162632818Z","streamType":"stdout","text":"Successfully tagged estafette/estafette-letsencrypt-certificate:1.2.6-main-200\n"},{"line":49,"timestamp":"2020-09-25T07:29:50.164402022Z","streamType":"stdout","text":"Updating trivy vulnerabilities database...\n"},{"line":50,"timestamp":"2020-09-25T07:29:50.164416806Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e /trivy --cache-dir /trivy-cache image --light --download-db-only estafette/estafette-letsencrypt-certificate:1.2.6-main-200\u001b[0m\n"},{"line":51,"timestamp":"2020-09-25T07:29:50.185024438Z","streamType":"stdout","text":"2020-09-25T07:29:50.184Z\t\u001b[34mINFO\u001b[0m\tUse your github token\n"},{"line":52,"timestamp":"2020-09-25T07:29:50.185343596Z","streamType":"stdout","text":"2020-09-25T07:29:50.184Z\t\u001b[34mINFO\u001b[0m\tNeed to update DB\n"},{"line":53,"timestamp":"2020-09-25T07:29:50.185357645Z","streamType":"stdout","text":"2020-09-25T07:29:50.184Z\t\u001b[34mINFO\u001b[0m\tDownloading DB...\n"},{"line":54,"timestamp":"2020-09-25T07:29:54.109238442Z","streamType":"stdout","text":"Saving docker image to file for scanning...\n"},{"line":55,"timestamp":"2020-09-25T07:29:54.109360588Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e docker save estafette/estafette-letsencrypt-certificate:1.2.6-main-200 -o /tmp/855020363.tar\u001b[0m\n"},{"line":56,"timestamp":"2020-09-25T07:29:54.53646732Z","streamType":"stdout","text":"Scanning container image estafette/estafette-letsencrypt-certificate:1.2.6-main-200 for vulnerabilities of severities CRITICAL...\n"},{"line":57,"timestamp":"2020-09-25T07:29:54.536486694Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e /trivy --cache-dir /trivy-cache image --severity CRITICAL --light --skip-update --no-progress --exit-code 15 --ignore-unfixed --input /tmp/855020363.tar\u001b[0m\n"},{"line":58,"timestamp":"2020-09-25T07:29:54.669537397Z","streamType":"stdout","text":"2020-09-25T07:29:54.668Z\t\u001b[34mINFO\u001b[0m\tUse your github token\n"},{"line":59,"timestamp":"2020-09-25T07:29:54.735974065Z","streamType":"stdout","text":"2020-09-25T07:29:54.735Z\t\u001b[33mWARN\u001b[0m\tOS is not detected and vulnerabilities in OS packages are not detected.\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"check-container","image":null,"duration":5669343156,"logLines":null,"exitCode":0,"status":"SUCCEEDED","nestedSteps":[{"step":"check-efficiency","depth":1,"image":null,"duration":1169076951,"logLines":[{"line":1,"timestamp":"2020-09-25T07:29:55.527539714Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-docker\u001b[0m version \u001b[1m0.1.195\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-09-23T15:37:03Z \u001b[36mgoVersion=\u001b[0mgo1.14.2 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m68cf712425d094cccdc132eb0f9de53af7cd8854\n"},{"line":2,"timestamp":"2020-09-25T07:29:55.52755543Z","streamType":"stdout","text":"Inspecting container image estafette/estafette-letsencrypt-certificate:1.2.6-main-200 layers...\n"},{"line":3,"timestamp":"2020-09-25T07:29:55.527558846Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e /dive estafette/estafette-letsencrypt-certificate:1.2.6-main-200\u001b[0m\n"},{"line":4,"timestamp":"2020-09-25T07:29:55.528924468Z","streamType":"stdout","text":"  Using default CI config\n"},{"line":5,"timestamp":"2020-09-25T07:29:55.528939147Z","streamType":"stdout","text":"\u001b[1mImage Source: \u001b[0mdocker://estafette/estafette-letsencrypt-certificate:1.2.6-main-200\n"},{"line":6,"timestamp":"2020-09-25T07:29:55.529005742Z","streamType":"stdout","text":"\u001b[1mFetching image...\u001b[0m (this can take a while for large images)\n"},{"line":7,"timestamp":"2020-09-25T07:29:55.883010519Z","streamType":"stdout","text":"\u001b[1mAnalyzing image...\u001b[0m\n"},{"line":8,"timestamp":"2020-09-25T07:29:55.883023138Z","streamType":"stdout","text":"  efficiency: 100.0000 %\n"},{"line":9,"timestamp":"2020-09-25T07:29:55.883026371Z","streamType":"stdout","text":"  wastedBytes: 0 bytes (0 B)\n"},{"line":10,"timestamp":"2020-09-25T07:29:55.88302847Z","streamType":"stdout","text":"  userWastedPercent: 0.0000 %\n"},{"line":11,"timestamp":"2020-09-25T07:29:55.883030438Z","streamType":"stdout","text":"\u001b[1mInefficient Files:\u001b[0m\n"},{"line":12,"timestamp":"2020-09-25T07:29:55.883032417Z","streamType":"stdout","text":"Count  Wasted Space  File Path\n"},{"line":13,"timestamp":"2020-09-25T07:29:55.883033833Z","streamType":"stdout","text":"None\n"},{"line":14,"timestamp":"2020-09-25T07:29:55.883035309Z","streamType":"stdout","text":"\u001b[1mResults:\u001b[0m\n"},{"line":15,"timestamp":"2020-09-25T07:29:55.883039065Z","streamType":"stdout","text":"  PASS: highestUserWastedPercent\n"},{"line":16,"timestamp":"2020-09-25T07:29:55.883042905Z","streamType":"stdout","text":"  \u001b[34mSKIP\u001b[0m: highestWastedBytes: rule disabled\n"},{"line":17,"timestamp":"2020-09-25T07:29:55.883044937Z","streamType":"stdout","text":"  PASS: lowestEfficiency\n"},{"line":18,"timestamp":"2020-09-25T07:29:55.88306819Z","streamType":"stdout","text":"\u001b[32mResult:PASS [Total:3] [Passed:2] [Failed:0] [Warn:0] [Skipped:1]\u001b[0m\n"},{"line":19,"timestamp":"2020-09-25T07:29:55.883069737Z","streamType":"stdout","text":"\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"vulnerability-scan","depth":1,"image":null,"duration":5666156017,"logLines":[{"line":1,"timestamp":"2020-09-25T07:29:55.563935682Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-docker\u001b[0m version \u001b[1m0.1.195\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-09-23T15:37:03Z \u001b[36mgoVersion=\u001b[0mgo1.14.2 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m68cf712425d094cccdc132eb0f9de53af7cd8854\n"},{"line":2,"timestamp":"2020-09-25T07:29:55.563950222Z","streamType":"stdout","text":"Updating trivy vulnerabilities database...\n"},{"line":3,"timestamp":"2020-09-25T07:29:55.563959882Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e /trivy --cache-dir /trivy-cache image --light --download-db-only estafette/estafette-letsencrypt-certificate:1.2.6-main-200\u001b[0m\n"},{"line":4,"timestamp":"2020-09-25T07:29:55.577456528Z","streamType":"stdout","text":"2020-09-25T07:29:55.576Z\t\u001b[34mINFO\u001b[0m\tUse your github token\n"},{"line":5,"timestamp":"2020-09-25T07:29:55.577473887Z","streamType":"stdout","text":"2020-09-25T07:29:55.577Z\t\u001b[34mINFO\u001b[0m\tNeed to update DB\n"},{"line":6,"timestamp":"2020-09-25T07:29:55.577477108Z","streamType":"stdout","text":"2020-09-25T07:29:55.577Z\t\u001b[34mINFO\u001b[0m\tDownloading DB...\n"},{"line":7,"timestamp":"2020-09-25T07:29:59.694636465Z","streamType":"stdout","text":"Saving docker image to file for scanning...\n"},{"line":8,"timestamp":"2020-09-25T07:29:59.694655088Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e docker save estafette/estafette-letsencrypt-certificate:1.2.6-main-200 -o /tmp/442765421.tar\u001b[0m\n"},{"line":9,"timestamp":"2020-09-25T07:30:00.193785764Z","streamType":"stdout","text":"Scanning container image estafette/estafette-letsencrypt-certificate:1.2.6-main-200 for vulnerabilities...\n"},{"line":10,"timestamp":"2020-09-25T07:30:00.193809412Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e /trivy --cache-dir /trivy-cache image --light --skip-update --no-progress --exit-code 15 --ignore-unfixed --input /tmp/442765421.tar\u001b[0m\n"},{"line":11,"timestamp":"2020-09-25T07:30:00.324770573Z","streamType":"stdout","text":"2020-09-25T07:30:00.324Z\t\u001b[34mINFO\u001b[0m\tUse your github token\n"},{"line":12,"timestamp":"2020-09-25T07:30:00.389615318Z","streamType":"stdout","text":"2020-09-25T07:30:00.388Z\t\u001b[33mWARN\u001b[0m\tOS is not detected and vulnerabilities in OS packages are not detected.\n"}],"exitCode":0,"status":"SUCCEEDED"}]},{"step":"push-to-docker-hub","image":null,"duration":16074129874,"logLines":[{"line":1,"timestamp":"2020-09-25T07:30:01.114197558Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-docker\u001b[0m version \u001b[1m0.1.195\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-09-23T15:37:03Z \u001b[36mgoVersion=\u001b[0mgo1.14.2 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m68cf712425d094cccdc132eb0f9de53af7cd8854\n"},{"line":2,"timestamp":"2020-09-25T07:30:01.114219188Z","streamType":"stdout","text":"Filtering credentials for images [estafette/estafette-letsencrypt-certificate:1.2.6-main-200]\n"},{"line":3,"timestamp":"2020-09-25T07:30:01.11422388Z","streamType":"stdout","text":"Filtered 9 container-registry credentials down to 1\n"},{"line":4,"timestamp":"2020-09-25T07:30:01.114227144Z","streamType":"stdout","text":"Logging in to repository 'estafette'\n"},{"line":5,"timestamp":"2020-09-25T07:30:02.220435151Z","streamType":"stdout","text":"Pushing container image estafette/estafette-letsencrypt-certificate:1.2.6-main-200\n"},{"line":6,"timestamp":"2020-09-25T07:30:02.220446051Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e docker push estafette/estafette-letsencrypt-certificate:1.2.6-main-200\u001b[0m\n"},{"line":7,"timestamp":"2020-09-25T07:30:02.263641227Z","streamType":"stdout","text":"The push refers to repository [docker.io/estafette/estafette-letsencrypt-certificate]\n"},{"line":8,"timestamp":"2020-09-25T07:30:02.608203075Z","streamType":"stdout","text":"fb43a05ba8f3: Preparing\n"},{"line":9,"timestamp":"2020-09-25T07:30:02.608212179Z","streamType":"stdout","text":"93a3ba9ab771: Preparing\n"},{"line":10,"timestamp":"2020-09-25T07:30:07.235895958Z","streamType":"stdout","text":"93a3ba9ab771: Pushed\n"},{"line":11,"timestamp":"2020-09-25T07:30:10.485450215Z","streamType":"stdout","text":"fb43a05ba8f3: Pushed\n"},{"line":12,"timestamp":"2020-09-25T07:30:14.3429116Z","streamType":"stdout","text":"1.2.6-main-200: digest: sha256:b52ca22a5f4760a84456232c4cb268398e27918e552696b74860181362b8aba6 size: 739\n"},{"line":13,"timestamp":"2020-09-25T07:30:14.347994147Z","streamType":"stdout","text":"Pushing cache container image estafette/estafette-letsencrypt-certificate:cache-main\n"},{"line":14,"timestamp":"2020-09-25T07:30:14.348007523Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e docker push estafette/estafette-letsencrypt-certificate:cache-main\u001b[0m\n"},{"line":15,"timestamp":"2020-09-25T07:30:14.403129578Z","streamType":"stdout","text":"The push refers to repository [docker.io/estafette/estafette-letsencrypt-certificate]\n"},{"line":16,"timestamp":"2020-09-25T07:30:14.757416008Z","streamType":"stdout","text":"fb43a05ba8f3: Preparing\n"},{"line":17,"timestamp":"2020-09-25T07:30:14.757427302Z","streamType":"stdout","text":"93a3ba9ab771: Preparing\n"},{"line":18,"timestamp":"2020-09-25T07:30:15.572763724Z","streamType":"stdout","text":"93a3ba9ab771: Layer already exists\n"},{"line":19,"timestamp":"2020-09-25T07:30:15.57565901Z","streamType":"stdout","text":"fb43a05ba8f3: Layer already exists\n"},{"line":20,"timestamp":"2020-09-25T07:30:16.485340948Z","streamType":"stdout","text":"cache-main: digest: sha256:b52ca22a5f4760a84456232c4cb268398e27918e552696b74860181362b8aba6 size: 739\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"test-helm-chart","image":null,"duration":86273746561,"logLines":[{"line":10000,"timestamp":"2020-09-25T07:31:43.023545703Z","streamType":"stderr","text":"Failed with exit code: 1"}],"exitCode":0,"status":"FAILED","services":[{"step":"kubernetes","depth":1,"image":{"name":"bsycorp/kind","tag":"latest-1.12","isPulled":false,"imageSize":938597805,"pullDuration":14009605938,"isTrusted":true,"hasInjectedCredentials":true},"duration":72260188596,"logLines":[{"line":1,"timestamp":"2020-09-25T07:30:38.350464282Z","streamType":"stdout","text":"2020-09-25 07:30:38,349 CRIT Supervisor is running as root.  Privileges were not dropped because no user is specified in the config file.  If you intend to run as root, you can set user=root in the config file to avoid this message.\n"},{"line":2,"timestamp":"2020-09-25T07:30:38.36045851Z","streamType":"stdout","text":"2020-09-25 07:30:38,359 INFO RPC interface 'supervisor' initialized\n"},{"line":3,"timestamp":"2020-09-25T07:30:38.360565651Z","streamType":"stdout","text":"2020-09-25 07:30:38,360 CRIT Server 'unix_http_server' running without any HTTP authentication checking\n"},{"line":4,"timestamp":"2020-09-25T07:30:38.360831923Z","streamType":"stdout","text":"2020-09-25 07:30:38,360 INFO supervisord started with pid 1\n"},{"line":5,"timestamp":"2020-09-25T07:30:39.363838094Z","streamType":"stdout","text":"2020-09-25 07:30:39,363 INFO spawned: 'start' with pid 7\n"},{"line":6,"timestamp":"2020-09-25T07:30:39.373154647Z","streamType":"stdout","text":"Clean up..\n"},{"line":7,"timestamp":"2020-09-25T07:30:39.390710375Z","streamType":"stdout","text":"Setting up networking..\n"},{"line":8,"timestamp":"2020-09-25T07:30:39.391949652Z","streamType":"stdout","text":"Extracting cache..\n"},{"line":9,"timestamp":"2020-09-25T07:30:40.393430711Z","streamType":"stdout","text":"2020-09-25 07:30:40,392 INFO success: start entered RUNNING state, process has stayed up for \u003e than 1 seconds (startsecs)\n"},{"line":10,"timestamp":"2020-09-25T07:30:53.289926778Z","streamType":"stdout","text":"2020-09-25 07:30:53,289 INFO spawned: 'dockerd' with pid 18\n"},{"line":11,"timestamp":"2020-09-25T07:30:54.593291686Z","streamType":"stdout","text":"2020-09-25 07:30:54,592 INFO success: dockerd entered RUNNING state, process has stayed up for \u003e than 1 seconds (startsecs)\n"},{"line":12,"timestamp":"2020-09-25T07:30:54.594389475Z","streamType":"stdout","text":"dockerd: started\n"},{"line":13,"timestamp":"2020-09-25T07:31:22.756253393Z","streamType":"stdout","text":"Containers: 0\n"},{"line":14,"timestamp":"2020-09-25T07:31:22.7563052Z","streamType":"stdout","text":" Running: 0\n"},{"line":15,"timestamp":"2020-09-25T07:31:22.756307692Z","streamType":"stdout","text":" Paused: 0\n"},{"line":16,"timestamp":"2020-09-25T07:31:22.756309068Z","streamType":"stdout","text":" Stopped: 0\n"},{"line":17,"timestamp":"2020-09-25T07:31:22.756310789Z","streamType":"stdout","text":"Images: 10\n"},{"line":18,"timestamp":"2020-09-25T07:31:22.756314734Z","streamType":"stdout","text":"Server Version: 18.06.3-ce\n"},{"line":19,"timestamp":"2020-09-25T07:31:22.756317107Z","streamType":"stdout","text":"Storage Driver: overlay2\n"},{"line":20,"timestamp":"2020-09-25T07:31:22.756319057Z","streamType":"stdout","text":" Backing Filesystem: extfs\n"},{"line":21,"timestamp":"2020-09-25T07:31:22.756320908Z","streamType":"stdout","text":" Supports d_type: true\n"},{"line":22,"timestamp":"2020-09-25T07:31:22.756322828Z","streamType":"stdout","text":" Native Overlay Diff: true\n"},{"line":23,"timestamp":"2020-09-25T07:31:22.756335117Z","streamType":"stdout","text":"Logging Driver: json-file\n"},{"line":24,"timestamp":"2020-09-25T07:31:22.756337152Z","streamType":"stdout","text":"Cgroup Driver: cgroupfs\n"},{"line":25,"timestamp":"2020-09-25T07:31:22.756338963Z","streamType":"stdout","text":"Plugins:\n"},{"line":26,"timestamp":"2020-09-25T07:31:22.756340483Z","streamType":"stdout","text":" Volume: local\n"},{"line":27,"timestamp":"2020-09-25T07:31:22.756344241Z","streamType":"stdout","text":" Network: bridge host macvlan null overlay\n"},{"line":28,"timestamp":"2020-09-25T07:31:22.756381233Z","streamType":"stdout","text":" Log: awslogs fluentd gcplogs gelf journald json-file logentries splunk syslog\n"},{"line":29,"timestamp":"2020-09-25T07:31:22.756382489Z","streamType":"stdout","text":"Swarm: inactive\n"},{"line":30,"timestamp":"2020-09-25T07:31:22.756385229Z","streamType":"stdout","text":"Runtimes: runc\n"},{"line":31,"timestamp":"2020-09-25T07:31:22.7563863Z","streamType":"stdout","text":"Default Runtime: runc\n"},{"line":32,"timestamp":"2020-09-25T07:31:22.756387832Z","streamType":"stdout","text":"Init Binary: docker-init\n"},{"line":33,"timestamp":"2020-09-25T07:31:22.756391084Z","streamType":"stdout","text":"containerd version: 468a545b9edcd5932818eb9de8e72413e616e86e\n"},{"line":34,"timestamp":"2020-09-25T07:31:22.756392848Z","streamType":"stdout","text":"runc version: a592beb5bc4c4092b1b1bac971afed27687340c5\n"},{"line":35,"timestamp":"2020-09-25T07:31:22.756393994Z","streamType":"stdout","text":"init version: fec3683\n"},{"line":36,"timestamp":"2020-09-25T07:31:22.756394977Z","streamType":"stdout","text":"Security Options:\n"},{"line":37,"timestamp":"2020-09-25T07:31:22.756396103Z","streamType":"stdout","text":" apparmor\n"},{"line":38,"timestamp":"2020-09-25T07:31:22.756396931Z","streamType":"stdout","text":" seccomp\n"},{"line":39,"timestamp":"2020-09-25T07:31:22.756398101Z","streamType":"stdout","text":"  Profile: default\n"},{"line":40,"timestamp":"2020-09-25T07:31:22.756399154Z","streamType":"stdout","text":"Kernel Version: 4.19.112+\n"},{"line":41,"timestamp":"2020-09-25T07:31:22.756400911Z","streamType":"stdout","text":"Operating System: Alpine Linux v3.9 (containerized)\n"},{"line":42,"timestamp":"2020-09-25T07:31:22.756401894Z","streamType":"stdout","text":"OSType: linux\n"},{"line":43,"timestamp":"2020-09-25T07:31:22.75640275Z","streamType":"stdout","text":"Architecture: x86_64\n"},{"line":44,"timestamp":"2020-09-25T07:31:22.756403555Z","streamType":"stdout","text":"CPUs: 8\n"},{"line":45,"timestamp":"2020-09-25T07:31:22.756404762Z","streamType":"stdout","text":"Total Memory: 29.45GiB\n"},{"line":46,"timestamp":"2020-09-25T07:31:22.756405521Z","streamType":"stdout","text":"Name: c4b6f6550cc5\n"},{"line":47,"timestamp":"2020-09-25T07:31:22.756407475Z","streamType":"stdout","text":"ID: 6OAT:H6GE:FHGQ:LMC6:NSSQ:VEAP:A5Y2:LMAC:JP4A:UCI6:NC4B:573L\n"},{"line":48,"timestamp":"2020-09-25T07:31:22.756408869Z","streamType":"stdout","text":"Docker Root Dir: /var/lib/docker\n"},{"line":49,"timestamp":"2020-09-25T07:31:22.757932364Z","streamType":"stdout","text":"Debug Mode (client): false\n"},{"line":50,"timestamp":"2020-09-25T07:31:22.757943151Z","streamType":"stdout","text":"Debug Mode (server): false\n"},{"line":51,"timestamp":"2020-09-25T07:31:22.757946601Z","streamType":"stdout","text":"Registry: https://index.docker.io/v1/\n"},{"line":52,"timestamp":"2020-09-25T07:31:22.757947388Z","streamType":"stdout","text":"Labels:\n"},{"line":53,"timestamp":"2020-09-25T07:31:22.757948555Z","streamType":"stdout","text":"Experimental: false\n"},{"line":54,"timestamp":"2020-09-25T07:31:22.757949544Z","streamType":"stdout","text":"Insecure Registries:\n"},{"line":55,"timestamp":"2020-09-25T07:31:22.757950552Z","streamType":"stdout","text":" 127.0.0.0/8\n"},{"line":56,"timestamp":"2020-09-25T07:31:22.757952193Z","streamType":"stdout","text":"Live Restore Enabled: false\n"},{"line":57,"timestamp":"2020-09-25T07:31:22.757953269Z","streamType":"stdout","text":"\n"},{"line":58,"timestamp":"2020-09-25T07:31:22.75795428Z","streamType":"stdout","text":"Docker ready\n"},{"line":59,"timestamp":"2020-09-25T07:31:22.759221162Z","streamType":"stdout","text":"Logging into docker-registry  with user \n"},{"line":60,"timestamp":"2020-09-25T07:31:22.759233553Z","streamType":"stdout","text":"no docker-registry/-credentials supplied\n"},{"line":61,"timestamp":"2020-09-25T07:31:22.759244566Z","streamType":"stdout","text":"Starting config server..\n"},{"line":62,"timestamp":"2020-09-25T07:31:22.936500095Z","streamType":"stdout","text":"2020-09-25 07:31:22,920 INFO spawned: 'config-serve' with pid 214\n"},{"line":63,"timestamp":"2020-09-25T07:31:24.007008502Z","streamType":"stdout","text":"192.168.2.3 - - [25/Sep/2020:07:31:24 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":64,"timestamp":"2020-09-25T07:31:24.007030346Z","streamType":"stdout","text":"2020-09-25 07:31:24,006 INFO success: config-serve entered RUNNING state, process has stayed up for \u003e than 1 seconds (startsecs)\n"},{"line":65,"timestamp":"2020-09-25T07:31:24.008546108Z","streamType":"stdout","text":"config-serve: started\n"},{"line":66,"timestamp":"2020-09-25T07:31:24.023475647Z","streamType":"stdout","text":"Starting Kubernetes..\n"},{"line":67,"timestamp":"2020-09-25T07:31:24.172836452Z","streamType":"stdout","text":"2020-09-25 07:31:24,171 INFO spawned: 'kubelet' with pid 313\n"},{"line":68,"timestamp":"2020-09-25T07:31:25.021341323Z","streamType":"stdout","text":"192.168.2.3 - - [25/Sep/2020:07:31:25 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":69,"timestamp":"2020-09-25T07:31:26.023310941Z","streamType":"stdout","text":"2020-09-25 07:31:26,022 INFO success: kubelet entered RUNNING state, process has stayed up for \u003e than 1 seconds (startsecs)\n"},{"line":70,"timestamp":"2020-09-25T07:31:26.024633035Z","streamType":"stdout","text":"kubelet: started\n"},{"line":71,"timestamp":"2020-09-25T07:31:26.029957102Z","streamType":"stdout","text":"192.168.2.3 - - [25/Sep/2020:07:31:26 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":72,"timestamp":"2020-09-25T07:31:26.930238376Z","streamType":"stdout","text":"2020-09-25 07:31:26,929 INFO exited: kubelet (exit status 255; not expected)\n"},{"line":73,"timestamp":"2020-09-25T07:31:27.037522428Z","streamType":"stdout","text":"192.168.2.3 - - [25/Sep/2020:07:31:27 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":74,"timestamp":"2020-09-25T07:31:27.03948886Z","streamType":"stdout","text":"2020-09-25 07:31:27,038 INFO spawned: 'kubelet' with pid 331\n"},{"line":75,"timestamp":"2020-09-25T07:31:28.041553106Z","streamType":"stdout","text":"2020-09-25 07:31:28,041 INFO success: kubelet entered RUNNING state, process has stayed up for \u003e than 1 seconds (startsecs)\n"},{"line":76,"timestamp":"2020-09-25T07:31:28.045487192Z","streamType":"stdout","text":"192.168.2.3 - - [25/Sep/2020:07:31:28 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":77,"timestamp":"2020-09-25T07:31:29.053351258Z","streamType":"stdout","text":"192.168.2.3 - - [25/Sep/2020:07:31:29 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":78,"timestamp":"2020-09-25T07:31:29.148928052Z","streamType":"stdout","text":"2020-09-25 07:31:29,148 INFO exited: kubelet (exit status 255; not expected)\n"},{"line":79,"timestamp":"2020-09-25T07:31:30.072996628Z","streamType":"stdout","text":"192.168.2.3 - - [25/Sep/2020:07:31:30 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":80,"timestamp":"2020-09-25T07:31:30.074688266Z","streamType":"stdout","text":"2020-09-25 07:31:30,074 INFO spawned: 'kubelet' with pid 348\n"},{"line":81,"timestamp":"2020-09-25T07:31:31.045617723Z","streamType":"stdout","text":"Checking startup status..\n"},{"line":82,"timestamp":"2020-09-25T07:31:31.080429992Z","streamType":"stdout","text":"2020-09-25 07:31:31,079 INFO success: kubelet entered RUNNING state, process has stayed up for \u003e than 1 seconds (startsecs)\n"},{"line":83,"timestamp":"2020-09-25T07:31:31.080788212Z","streamType":"stdout","text":"192.168.2.3 - - [25/Sep/2020:07:31:31 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":84,"timestamp":"2020-09-25T07:31:32.08805605Z","streamType":"stdout","text":"192.168.2.3 - - [25/Sep/2020:07:31:32 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":85,"timestamp":"2020-09-25T07:31:32.176268864Z","streamType":"stdout","text":"2020-09-25 07:31:32,175 INFO exited: kubelet (exit status 255; not expected)\n"},{"line":86,"timestamp":"2020-09-25T07:31:33.095512709Z","streamType":"stdout","text":"192.168.2.3 - - [25/Sep/2020:07:31:33 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":87,"timestamp":"2020-09-25T07:31:33.097008003Z","streamType":"stdout","text":"2020-09-25 07:31:33,096 INFO spawned: 'kubelet' with pid 438\n"},{"line":88,"timestamp":"2020-09-25T07:31:34.098693096Z","streamType":"stdout","text":"2020-09-25 07:31:34,098 INFO success: kubelet entered RUNNING state, process has stayed up for \u003e than 1 seconds (startsecs)\n"},{"line":89,"timestamp":"2020-09-25T07:31:34.103616209Z","streamType":"stdout","text":"192.168.2.3 - - [25/Sep/2020:07:31:34 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":90,"timestamp":"2020-09-25T07:31:35.119673026Z","streamType":"stdout","text":"192.168.2.3 - - [25/Sep/2020:07:31:35 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":91,"timestamp":"2020-09-25T07:31:35.197597762Z","streamType":"stdout","text":"2020-09-25 07:31:35,196 INFO exited: kubelet (exit status 255; not expected)\n"},{"line":92,"timestamp":"2020-09-25T07:31:36.128910427Z","streamType":"stdout","text":"2020-09-25 07:31:36,128 INFO spawned: 'kubelet' with pid 455\n"},{"line":93,"timestamp":"2020-09-25T07:31:36.129727246Z","streamType":"stdout","text":"192.168.2.3 - - [25/Sep/2020:07:31:36 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":94,"timestamp":"2020-09-25T07:31:36.356930536Z","streamType":"stdout","text":"Checking startup status..\n"},{"line":95,"timestamp":"2020-09-25T07:31:37.134647429Z","streamType":"stdout","text":"192.168.2.3 - - [25/Sep/2020:07:31:37 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":96,"timestamp":"2020-09-25T07:31:37.134841834Z","streamType":"stdout","text":"2020-09-25 07:31:37,134 INFO success: kubelet entered RUNNING state, process has stayed up for \u003e than 1 seconds (startsecs)\n"},{"line":97,"timestamp":"2020-09-25T07:31:38.142476593Z","streamType":"stdout","text":"192.168.2.3 - - [25/Sep/2020:07:31:38 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":98,"timestamp":"2020-09-25T07:31:38.233375636Z","streamType":"stdout","text":"2020-09-25 07:31:38,232 INFO exited: kubelet (exit status 255; not expected)\n"},{"line":99,"timestamp":"2020-09-25T07:31:39.149868614Z","streamType":"stdout","text":"192.168.2.3 - - [25/Sep/2020:07:31:39 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":100,"timestamp":"2020-09-25T07:31:39.151690624Z","streamType":"stdout","text":"2020-09-25 07:31:39,151 INFO spawned: 'kubelet' with pid 542\n"},{"line":101,"timestamp":"2020-09-25T07:31:40.152903805Z","streamType":"stdout","text":"2020-09-25 07:31:40,152 INFO success: kubelet entered RUNNING state, process has stayed up for \u003e than 1 seconds (startsecs)\n"},{"line":102,"timestamp":"2020-09-25T07:31:40.164364312Z","streamType":"stdout","text":"192.168.2.3 - - [25/Sep/2020:07:31:40 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":103,"timestamp":"2020-09-25T07:31:41.264945998Z","streamType":"stdout","text":"2020-09-25 07:31:41,264 INFO exited: kubelet (exit status 255; not expected)\n"},{"line":10000,"timestamp":"2020-09-25T07:31:41.448100346Z","streamType":"stderr","text":"Failed with exit code: 1"},{"line":104,"timestamp":"2020-09-25T07:31:41.465638425Z","streamType":"stdout","text":"2020-09-25 07:31:41,464 INFO spawned: 'kubelet' with pid 560\n"},{"line":105,"timestamp":"2020-09-25T07:31:41.466013852Z","streamType":"stdout","text":"2020-09-25 07:31:41,465 WARN received SIGTERM indicating exit request\n"},{"line":106,"timestamp":"2020-09-25T07:31:41.466944978Z","streamType":"stdout","text":"2020-09-25 07:31:41,466 INFO waiting for kubelet, config-serve, start, dockerd to die\n"},{"line":107,"timestamp":"2020-09-25T07:31:41.659138957Z","streamType":"stdout","text":"Checking startup status..\n"},{"line":108,"timestamp":"2020-09-25T07:31:41.744277834Z","streamType":"stdout","text":"2020-09-25 07:31:41,743 INFO exited: config-serve (exit status 0; expected)\n"},{"line":109,"timestamp":"2020-09-25T07:31:42.743275569Z","streamType":"stdout","text":"2020-09-25 07:31:42,742 INFO success: kubelet entered RUNNING state, process has stayed up for \u003e than 1 seconds (startsecs)\n"},{"line":110,"timestamp":"2020-09-25T07:31:42.743305699Z","streamType":"stdout","text":"2020-09-25 07:31:42,742 INFO stopped: dockerd (exit status 0)\n"},{"line":111,"timestamp":"2020-09-25T07:31:42.743751345Z","streamType":"stdout","text":"2020-09-25 07:31:42,743 INFO stopped: start (terminated by SIGTERM)\n"},{"line":112,"timestamp":"2020-09-25T07:31:42.744621635Z","streamType":"stdout","text":"2020-09-25 07:31:42,744 INFO stopped: kubelet (terminated by SIGTERM)\n"}],"exitCode":0,"status":"SUCCEEDED"}]},{"step":"clone-charts-repo","image":{"name":"extensions/git-clone","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true,"hasInjectedCredentials":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"publish-helm-chart","image":{"name":"extensions/helm","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true,"hasInjectedCredentials":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"slack-notify","image":{"name":"extensions/slack-build-status","tag":"dev","isPulled":false,"imageSize":12653738,"pullDuration":1911742982,"isTrusted":true,"hasInjectedCredentials":true},"duration":969122518,"logLines":[{"line":1,"timestamp":"2020-09-25T07:31:45.437845133Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-slack-build-status\u001b[0m version \u001b[1m0.1.66\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-03-04T09:34:02Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0me3cdae7bc38d796404b561d6f47e0d28009738c2\n"},{"line":2,"timestamp":"2020-09-25T07:31:45.437856914Z","streamType":"stdout","text":"Unmarshalling credentials...\n"},{"line":3,"timestamp":"2020-09-25T07:31:45.437863682Z","streamType":"stdout","text":"Checking if credential estafette exists...\n"},{"line":4,"timestamp":"2020-09-25T07:31:45.437888508Z","streamType":"stdout","text":"Checking credential slack-webhook-estafette for workspace estafette...\n"},{"line":5,"timestamp":"2020-09-25T07:31:45.437891612Z","streamType":"stdout","text":"Found credential slack-webhook-estafette for workspace estafette\n"},{"line":6,"timestamp":"2020-09-25T07:31:45.638480696Z","streamType":"stdout","text":"Finished estafette-extension-slack-build-status...\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"injected-after","image":null,"duration":1562400957,"logLines":null,"exitCode":0,"status":"SUCCEEDED","autoInjected":true,"nestedSteps":[{"step":"set-build-status","depth":1,"image":null,"duration":1559037485,"logLines":[{"line":1,"timestamp":"2020-09-25T07:31:46.742806322Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-github-status\u001b[0m version \u001b[1m0.1.46\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-03-04T09:32:11Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m6db9d43ca763f9104293785ed2c594320dd7946a\n"},{"line":2,"timestamp":"2020-09-25T07:31:46.744273515Z","streamType":"stdout","text":"Setting logs url https://estafette.***.com/pipelines/github.com/estafette/estafette-letsencrypt-certificate/builds/592931953286512650/logs\n"},{"line":3,"timestamp":"2020-09-25T07:31:47.189091422Z","streamType":"stdout","text":"Received successful response for 'https://api.github.com/repos/estafette/estafette-letsencrypt-certificate/statuses/c6e0d6310a23f112c2692c0bc1caea5740ee1f0c' Github api call with status code 201\n"},{"line":4,"timestamp":"2020-09-25T07:31:47.189106471Z","streamType":"stdout","text":"Finished estafette-extension-github-status...\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true}]}]