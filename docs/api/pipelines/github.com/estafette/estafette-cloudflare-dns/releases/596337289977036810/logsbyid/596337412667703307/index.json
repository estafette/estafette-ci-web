[{"step":"builder-info","image":null,"duration":0,"logLines":[{"line":1,"timestamp":"2020-10-07T08:08:20.430650988Z","streamType":"stdout","text":"Starting \u001b[1mestafette-ci-builder\u001b[0m version \u001b[1m0.0.688\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-09-25T15:40:45Z \u001b[36mgoVersion=\u001b[0mgo1.15.1 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m042bd87e49716eaebff0a20295e47dbe8ef7826c"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true},{"step":"injected-before","image":null,"duration":2593692695,"logLines":null,"exitCode":0,"status":"SUCCEEDED","autoInjected":true,"nestedSteps":[{"step":"envvars","depth":1,"image":{"name":"extensions/envvars","tag":"stable","isPulled":false,"imageSize":11158339,"pullDuration":1871532962},"duration":720650794,"logLines":[{"line":1,"timestamp":"2020-10-07T08:08:22.785038627Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-envvars\u001b[0m version \u001b[1m0.1.16\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-09-25T07:21:34Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0ma1eec2828262801647117796b44ee95ed842ef2f\n"},{"line":2,"timestamp":"2020-10-07T08:08:22.785058151Z","streamType":"stdout","text":"All available estafette environment variables; the _DNS_SAFE suffixed ones can be used to set dns labels. Since leading digits are not allowed some of them are empty.\n"},{"line":3,"timestamp":"2020-10-07T08:08:22.785061157Z","streamType":"stdout","text":"ESTAFETTE_BUILD_CURRENT_COUNTER: 8\n"},{"line":4,"timestamp":"2020-10-07T08:08:22.785063274Z","streamType":"stdout","text":"ESTAFETTE_BUILD_CURRENT_COUNTER_DNS_SAFE: \n"},{"line":5,"timestamp":"2020-10-07T08:08:22.785070741Z","streamType":"stdout","text":"ESTAFETTE_BUILD_DATETIME: 2020-10-07T08:08:20Z\n"},{"line":6,"timestamp":"2020-10-07T08:08:22.785072885Z","streamType":"stdout","text":"ESTAFETTE_BUILD_DATETIME_DNS_SAFE: t08-08-20z\n"},{"line":7,"timestamp":"2020-10-07T08:08:22.785145628Z","streamType":"stdout","text":"ESTAFETTE_BUILD_MAX_COUNTER: 8\n"},{"line":8,"timestamp":"2020-10-07T08:08:22.785147768Z","streamType":"stdout","text":"ESTAFETTE_BUILD_MAX_COUNTER_CURRENT_BRANCH: 8\n"},{"line":9,"timestamp":"2020-10-07T08:08:22.785150721Z","streamType":"stdout","text":"ESTAFETTE_BUILD_MAX_COUNTER_CURRENT_BRANCH_DNS_SAFE: \n"},{"line":10,"timestamp":"2020-10-07T08:08:22.785152526Z","streamType":"stdout","text":"ESTAFETTE_BUILD_MAX_COUNTER_DNS_SAFE: \n"},{"line":11,"timestamp":"2020-10-07T08:08:22.785154434Z","streamType":"stdout","text":"ESTAFETTE_BUILD_STATUS: succeeded\n"},{"line":12,"timestamp":"2020-10-07T08:08:22.785156202Z","streamType":"stdout","text":"ESTAFETTE_BUILD_STATUS_DNS_SAFE: succeeded\n"},{"line":13,"timestamp":"2020-10-07T08:08:22.785157956Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION: 1.2.8\n"},{"line":14,"timestamp":"2020-10-07T08:08:22.785159403Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_DNS_SAFE: \n"},{"line":15,"timestamp":"2020-10-07T08:08:22.785161252Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_LABEL: branch-1-2-8-8\n"},{"line":16,"timestamp":"2020-10-07T08:08:22.785163591Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_LABEL_DNS_SAFE: branch-1-2-8-8\n"},{"line":17,"timestamp":"2020-10-07T08:08:22.785166919Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MAJOR: 1\n"},{"line":18,"timestamp":"2020-10-07T08:08:22.785168336Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MAJOR_DNS_SAFE: \n"},{"line":19,"timestamp":"2020-10-07T08:08:22.785170063Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MINOR: 2\n"},{"line":20,"timestamp":"2020-10-07T08:08:22.785171559Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MINOR_DNS_SAFE: \n"},{"line":21,"timestamp":"2020-10-07T08:08:22.785173083Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_PATCH: 8\n"},{"line":22,"timestamp":"2020-10-07T08:08:22.785174594Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_PATCH_DNS_SAFE: \n"},{"line":23,"timestamp":"2020-10-07T08:08:22.785176579Z","streamType":"stdout","text":"ESTAFETTE_CI_SERVER_BASE_URL: https://estafette.***.com/\n"},{"line":24,"timestamp":"2020-10-07T08:08:22.785179157Z","streamType":"stdout","text":"ESTAFETTE_CI_SERVER_BASE_URL_DNS_SAFE: https-estafette-***-com\n"},{"line":25,"timestamp":"2020-10-07T08:08:22.785180926Z","streamType":"stdout","text":"ESTAFETTE_EXTENSION_CUSTOM_PROPERTIES: {}\n"},{"line":26,"timestamp":"2020-10-07T08:08:22.785182637Z","streamType":"stdout","text":"ESTAFETTE_EXTENSION_CUSTOM_PROPERTIES_YAML: {}\n"},{"line":27,"timestamp":"2020-10-07T08:08:22.785183588Z","streamType":"stdout","text":"\n"},{"line":28,"timestamp":"2020-10-07T08:08:22.785185338Z","streamType":"stdout","text":"ESTAFETTE_GIT_BRANCH: 1.2.8\n"},{"line":29,"timestamp":"2020-10-07T08:08:22.785186875Z","streamType":"stdout","text":"ESTAFETTE_GIT_BRANCH_DNS_SAFE: \n"},{"line":30,"timestamp":"2020-10-07T08:08:22.785188988Z","streamType":"stdout","text":"ESTAFETTE_GIT_FULLNAME: estafette/estafette-cloudflare-dns\n"},{"line":31,"timestamp":"2020-10-07T08:08:22.785191422Z","streamType":"stdout","text":"ESTAFETTE_GIT_FULLNAME_DNS_SAFE: estafette-estafette-cloudflare-dns\n"},{"line":32,"timestamp":"2020-10-07T08:08:22.785193317Z","streamType":"stdout","text":"ESTAFETTE_GIT_NAME: estafette-cloudflare-dns\n"},{"line":33,"timestamp":"2020-10-07T08:08:22.785194981Z","streamType":"stdout","text":"ESTAFETTE_GIT_NAME_DNS_SAFE: estafette-cloudflare-dns\n"},{"line":34,"timestamp":"2020-10-07T08:08:22.785196349Z","streamType":"stdout","text":"ESTAFETTE_GIT_OWNER: estafette\n"},{"line":35,"timestamp":"2020-10-07T08:08:22.785197789Z","streamType":"stdout","text":"ESTAFETTE_GIT_OWNER_DNS_SAFE: estafette\n"},{"line":36,"timestamp":"2020-10-07T08:08:22.785200101Z","streamType":"stdout","text":"ESTAFETTE_GIT_REVISION: 1e27d00a26d23f54ab61120e26c673b054b3fd0d\n"},{"line":37,"timestamp":"2020-10-07T08:08:22.785202139Z","streamType":"stdout","text":"ESTAFETTE_GIT_REVISION_DNS_SAFE: e27d00a26d23f54ab61120e26c673b054b3fd0d\n"},{"line":38,"timestamp":"2020-10-07T08:08:22.785215721Z","streamType":"stdout","text":"ESTAFETTE_GIT_SOURCE: github.com\n"},{"line":39,"timestamp":"2020-10-07T08:08:22.785217328Z","streamType":"stdout","text":"ESTAFETTE_GIT_SOURCE_DNS_SAFE: github-com\n"},{"line":40,"timestamp":"2020-10-07T08:08:22.785219161Z","streamType":"stdout","text":"ESTAFETTE_LABEL_APP_GROUP: estafette-controllers\n"},{"line":41,"timestamp":"2020-10-07T08:08:22.785221169Z","streamType":"stdout","text":"ESTAFETTE_LABEL_APP_GROUP_DNS_SAFE: estafette-controllers\n"},{"line":42,"timestamp":"2020-10-07T08:08:22.785222783Z","streamType":"stdout","text":"ESTAFETTE_LABEL_LANGUAGE: golang\n"},{"line":43,"timestamp":"2020-10-07T08:08:22.785224312Z","streamType":"stdout","text":"ESTAFETTE_LABEL_LANGUAGE_DNS_SAFE: golang\n"},{"line":44,"timestamp":"2020-10-07T08:08:22.785225837Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TEAM: estafette-team\n"},{"line":45,"timestamp":"2020-10-07T08:08:22.785227548Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TEAM_DNS_SAFE: estafette-team\n"},{"line":46,"timestamp":"2020-10-07T08:08:22.785229038Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TYPE: service\n"},{"line":47,"timestamp":"2020-10-07T08:08:22.785232581Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TYPE_DNS_SAFE: service\n"},{"line":48,"timestamp":"2020-10-07T08:08:22.785234038Z","streamType":"stdout","text":"ESTAFETTE_LOG_FORMAT: console\n"},{"line":49,"timestamp":"2020-10-07T08:08:22.785236066Z","streamType":"stdout","text":"ESTAFETTE_RELEASE_ACTION: \n"},{"line":50,"timestamp":"2020-10-07T08:08:22.785237687Z","streamType":"stdout","text":"ESTAFETTE_RELEASE_ACTION_DNS_SAFE: \n"},{"line":51,"timestamp":"2020-10-07T08:08:22.785239616Z","streamType":"stdout","text":"ESTAFETTE_RELEASE_ID: 596337289977036810\n"},{"line":52,"timestamp":"2020-10-07T08:08:22.785241062Z","streamType":"stdout","text":"ESTAFETTE_RELEASE_ID_DNS_SAFE: \n"},{"line":53,"timestamp":"2020-10-07T08:08:22.785242533Z","streamType":"stdout","text":"ESTAFETTE_RELEASE_NAME: release\n"},{"line":54,"timestamp":"2020-10-07T08:08:22.785244073Z","streamType":"stdout","text":"ESTAFETTE_RELEASE_NAME_DNS_SAFE: release\n"},{"line":55,"timestamp":"2020-10-07T08:08:22.785245907Z","streamType":"stdout","text":"ESTAFETTE_RELEASE_TRIGGERED_BY: varins@***.com\n"},{"line":56,"timestamp":"2020-10-07T08:08:22.785248022Z","streamType":"stdout","text":"ESTAFETTE_RELEASE_TRIGGERED_BY_DNS_SAFE: varins-***-com\n"},{"line":57,"timestamp":"2020-10-07T08:08:22.785302791Z","streamType":"stdout","text":"ESTAFETTE_STAGES: [{\"Name\":\"injected-before***\"ContainerImage\":\"***\"Shell\":\"***\"WorkingDirectory\":\"***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'***\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":[{\"Name\":\"envvars***\"ContainerImage\":\"extensions/envvars:stable***\"Shell\":\"/bin/sh***\"WorkingDirectory\":\"/estafette-work***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'***\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{}}],\"Services\":null,\"CustomProperties\":null},{\"Name\":\"clone-charts-repo***\"ContainerImage\":\"extensions/git-clone:dev***\"Shell\":\"/bin/sh***\"WorkingDirectory\":\"/estafette-work***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'***\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"branch\":\"main***\"repo\":\"helm-charts\"}},{\"Name\":\"purge-prerelease-helm-charts***\"ContainerImage\":\"extensions/helm:dev***\"Shell\":\"/bin/sh***\"WorkingDirectory\":\"/estafette-work***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'***\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"purge***\"repoBranch\":\"main\"}},{\"Name\":\"create-github-release***\"ContainerImage\":\"extensions/github-release:dev***\"Shell\":\"/bin/sh***\"WorkingDirectory\":\"/estafette-work***\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'***\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{}}]\n"},{"line":58,"timestamp":"2020-10-07T08:08:22.785307008Z","streamType":"stdout","text":"ESTAFETTE_STAGES_DNS_SAFE: name-injected-before-containerimage-shell-workingdirectory-comm\n"},{"line":59,"timestamp":"2020-10-07T08:08:22.785308622Z","streamType":"stdout","text":"ESTAFETTE_STAGE_NAME: envvars\n"},{"line":60,"timestamp":"2020-10-07T08:08:22.785311169Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_MANUAL_USER_ID: varins@***.com\n"},{"line":61,"timestamp":"2020-10-07T08:08:22.785313466Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_MANUAL_USER_ID_DNS_SAFE: varins-***-com\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true}]},{"step":"clone-charts-repo","image":{"name":"extensions/git-clone","tag":"dev","isPulled":false,"imageSize":30942891,"pullDuration":2125550063,"isTrusted":true},"duration":3412611868,"logLines":[{"line":1,"timestamp":"2020-10-07T08:08:25.732179136Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-git-clone\u001b[0m version \u001b[1m0.1.85\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-10-04T09:18:50Z \u001b[36mgoVersion=\u001b[0mgo1.15.2 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m294f856e79dd08db39e4ba9c9184120b1b9cd5e9\n"},{"line":2,"timestamp":"2020-10-07T08:08:25.732192087Z","streamType":"stdout","text":"Unmarshalling injected github api token credentials\n"},{"line":3,"timestamp":"2020-10-07T08:08:25.732197973Z","streamType":"stdout","text":"Cloning git repository helm-charts to branch main into subdir helm-charts with shallow clone is true and depth 50...\n"},{"line":4,"timestamp":"2020-10-07T08:08:25.732206501Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e git clone --depth=50 --branch=main https://x-access-token:***@github.com/estafette/helm-charts /estafette-work/helm-charts\u001b[0m\n"},{"line":5,"timestamp":"2020-10-07T08:08:25.732209296Z","streamType":"stderr","text":"Cloning into '/estafette-work/helm-charts'...\n"},{"line":6,"timestamp":"2020-10-07T08:08:28.311391913Z","streamType":"stdout","text":"Finished cloning git repository helm-charts to branch main into subdir helm-charts with shallow clone is true and depth 50\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"purge-prerelease-helm-charts","image":{"name":"extensions/helm","tag":"dev","isPulled":false,"imageSize":739020893,"pullDuration":10673474304,"isTrusted":true},"duration":12301109924,"logLines":[{"line":1,"timestamp":"2020-10-07T08:08:47.497042997Z","streamType":"stdout","text":"Starting estafette-extension-helm version 0.1.154... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-09-25T08:38:21Z \u001b[36mgoVersion=\u001b[0mgo1.15 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m13d163fb066281f945b970d2b770bf0e739a6dd0\n"},{"line":2,"timestamp":"2020-10-07T08:08:47.497055756Z","streamType":"stdout","text":"Unmarshalling parameters / custom properties...\n"},{"line":3,"timestamp":"2020-10-07T08:08:47.497061018Z","streamType":"stdout","text":"Setting defaults for parameters that are not set in the manifest...\n"},{"line":4,"timestamp":"2020-10-07T08:08:47.497066212Z","streamType":"stdout","text":"Purging pre-release version for chart estafette-cloudflare-dns with versions '1.2.8-.+'...\n"},{"line":5,"timestamp":"2020-10-07T08:08:47.497068562Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e mkdir -p helm-charts/charts\u001b[0m\n"},{"line":6,"timestamp":"2020-10-07T08:08:47.497072253Z","streamType":"stdout","text":"glob: charts/estafette-cloudflare-dns-1.2.8-*.tgz\n"},{"line":7,"timestamp":"2020-10-07T08:08:47.497077647Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e rm -f charts/estafette-cloudflare-dns-1.2.8-fix-service-update-133.tgz charts/estafette-cloudflare-dns-1.2.8-main-132.tgz charts/estafette-cloudflare-dns-1.2.8-main-134.tgz\u001b[0m\n"},{"line":8,"timestamp":"2020-10-07T08:08:47.497080387Z","streamType":"stdout","text":"Generating/updating index file for repository https://helm.estafette.io/...\n"},{"line":9,"timestamp":"2020-10-07T08:08:47.497082511Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e helm repo index --url https://helm.estafette.io/ .\u001b[0m\n"},{"line":10,"timestamp":"2020-10-07T08:08:47.748102386Z","streamType":"stdout","text":"Pushing changes to repository...\n"},{"line":11,"timestamp":"2020-10-07T08:08:47.748118849Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e git config --global user.email 'bot@estafette.io'\u001b[0m\n"},{"line":12,"timestamp":"2020-10-07T08:08:47.749763396Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e git config --global user.name 'estafette-bot'\u001b[0m\n"},{"line":13,"timestamp":"2020-10-07T08:08:47.751352295Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e git add --all\u001b[0m\n"},{"line":14,"timestamp":"2020-10-07T08:08:47.763306896Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e git commit --allow-empty -m 'purged estafette-cloudflare-dns v1.2.8-.+'\u001b[0m\n"},{"line":15,"timestamp":"2020-10-07T08:08:47.774504995Z","streamType":"stdout","text":"[main e982f0e] 'purged estafette-cloudflare-dns v1.2.8-.+'\n"},{"line":16,"timestamp":"2020-10-07T08:08:47.775874368Z","streamType":"stdout","text":" 4 files changed, 201 insertions(+), 237 deletions(-)\n"},{"line":17,"timestamp":"2020-10-07T08:08:47.775889584Z","streamType":"stdout","text":" delete mode 100644 charts/estafette-cloudflare-dns-1.2.8-fix-service-update-133.tgz\n"},{"line":18,"timestamp":"2020-10-07T08:08:47.775892624Z","streamType":"stdout","text":" delete mode 100644 charts/estafette-cloudflare-dns-1.2.8-main-132.tgz\n"},{"line":19,"timestamp":"2020-10-07T08:08:47.775894106Z","streamType":"stdout","text":" delete mode 100644 charts/estafette-cloudflare-dns-1.2.8-main-134.tgz\n"},{"line":20,"timestamp":"2020-10-07T08:08:47.776185396Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e git push origin main\u001b[0m\n"},{"line":21,"timestamp":"2020-10-07T08:08:51.286285614Z","streamType":"stderr","text":"To https://github.com/estafette/helm-charts\n"},{"line":22,"timestamp":"2020-10-07T08:08:51.286299369Z","streamType":"stderr","text":"   1c6bfc3..e982f0e  main -\u003e main\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"create-github-release","image":{"name":"extensions/github-release","tag":"dev","isPulled":false,"imageSize":13200396,"pullDuration":1941382417,"isTrusted":true},"duration":2223918936,"logLines":[{"line":1,"timestamp":"2020-10-07T08:08:53.960789771Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-github-release\u001b[0m version \u001b[1m0.1.45\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-09-25T07:39:24Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0mc52143e1e3f740554ec5b391d55d2c1912487039\n"},{"line":2,"timestamp":"2020-10-07T08:08:53.960807073Z","streamType":"stdout","text":"Unmarshalling parameters...\n"},{"line":3,"timestamp":"2020-10-07T08:08:53.960810591Z","streamType":"stdout","text":"Retrieving milestone with title 1.2.8...\n"},{"line":4,"timestamp":"2020-10-07T08:08:54.168771337Z","streamType":"stdout","text":"Retrieved milestone\n"},{"line":5,"timestamp":"2020-10-07T08:08:54.168782916Z","streamType":"stdout","text":"Retrieving issues for milestone #9...\n"},{"line":6,"timestamp":"2020-10-07T08:08:54.384913166Z","streamType":"stdout","text":"Retrieved 1 issues and 0 pull requests\n"},{"line":7,"timestamp":"2020-10-07T08:08:54.384931118Z","streamType":"stdout","text":"Creating release 1.2.8...\n"},{"line":8,"timestamp":"2020-10-07T08:08:55.138741843Z","streamType":"stdout","text":"Created release\n"},{"line":9,"timestamp":"2020-10-07T08:08:55.138753564Z","streamType":"stdout","text":"Closing milestone #9...\n"},{"line":10,"timestamp":"2020-10-07T08:08:55.457869164Z","streamType":"stdout","text":"Closed milestone\n"},{"line":11,"timestamp":"2020-10-07T08:08:55.457887593Z","streamType":"stdout","text":"Finished estafette-extension-github-release...\n"}],"exitCode":0,"status":"SUCCEEDED"}]