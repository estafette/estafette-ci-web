[{"step":"initialize","image":{"name":"","tag":"","isPulled":false,"imageSize":0,"pullDuration":0},"duration":7310657418,"logLines":[],"exitCode":0,"status":"SUCCEEDED","autoInjected":true,"nestedSteps":[{"step":"set-pending-build-status","depth":1,"image":{"name":"extensions/github-status","tag":"dev","isPulled":false,"imageSize":10349120,"pullDuration":3170387274,"isTrusted":true},"duration":2727647534,"logLines":[{"line":1,"timestamp":"2019-11-15T13:45:20.16549686Z","streamType":"stdout","text":"Starting estafette-extension-github-status version 0.1.38...\n"},{"line":2,"timestamp":"2019-11-15T13:45:20.165601693Z","streamType":"stdout","text":"Setting logs url https://estafette.travix.com/pipelines/github.com/estafette/estafette-cloudflare-dns/builds/503824748697354244/logs\n"},{"line":3,"timestamp":"2019-11-15T13:45:20.583426065Z","streamType":"stdout","text":"Received successful response for 'https://api.github.com/repos/estafette/estafette-cloudflare-dns/statuses/903796a8db20d174be0b79eeeef30f4db1883342' Github api call with status code 201\n"},{"line":4,"timestamp":"2019-11-15T13:45:20.583531991Z","streamType":"stdout","text":"Finished estafette-extension-github-status...\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true},{"step":"git-clone","depth":1,"image":{"name":"extensions/git-clone","tag":"dev","isPulled":false,"imageSize":26411532,"pullDuration":3088718058,"isTrusted":true},"duration":4219258389,"logLines":[{"line":1,"timestamp":"2019-11-15T13:45:20.043235045Z","streamType":"stdout","text":"Starting estafette-extension-git-clone version 0.1.70...\n"},{"line":2,"timestamp":"2019-11-15T13:45:20.04331283Z","streamType":"stdout","text":"Unmarshalling injected github api token credentials\n"},{"line":3,"timestamp":"2019-11-15T13:45:20.043332194Z","streamType":"stdout","text":"Cloning git repository estafette-cloudflare-dns to branch 1.2.3 and revision 903796a8db20d174be0b79eeeef30f4db1883342 with shallow clone is true and depth 50...\n"},{"line":4,"timestamp":"2019-11-15T13:45:20.043348639Z","streamType":"stderr","text":"Cloning into '/estafette-work'...\n"},{"line":5,"timestamp":"2019-11-15T13:45:22.736992964Z","streamType":"stdout","text":"Finished cloning git repository estafette-cloudflare-dns to branch 1.2.3 and revision 903796a8db20d174be0b79eeeef30f4db1883342 with shallow clone is true and depth 50\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true}]},{"step":"build-lint-and-package","image":{"name":"","tag":"","isPulled":false,"imageSize":0,"pullDuration":0},"duration":51039280141,"logLines":[],"exitCode":0,"status":"SUCCEEDED","nestedSteps":[{"step":"lint-helm-chart","depth":1,"image":{"name":"extensions/helm","tag":"dev","isPulled":false,"imageSize":397136256,"pullDuration":12614103427,"isTrusted":true},"duration":10981656669,"logLines":[{"line":1,"timestamp":"2019-11-15T13:45:45.980310382Z","streamType":"stdout","text":"\u001b[1m Starting estafette-extension-helm version 0.1.82...\u001b[0m \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2019-11-13T13:53:29Z \u001b[36mgoVersion=\u001b[0mgo1.13.4 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m3baa835c3da425760f45db73411284566a862456\n"},{"line":2,"timestamp":"2019-11-15T13:45:45.980382353Z","streamType":"stdout","text":"\u001b[1m Unmarshalling parameters / custom properties...\u001b[0m\n"},{"line":3,"timestamp":"2019-11-15T13:45:45.980395757Z","streamType":"stdout","text":"\u001b[1m Setting defaults for parameters that are not set in the manifest...\u001b[0m\n"},{"line":4,"timestamp":"2019-11-15T13:45:45.980405862Z","streamType":"stdout","text":"\u001b[1m Linting chart estafette-cloudflare-dns...\u001b[0m\n"},{"line":5,"timestamp":"2019-11-15T13:45:45.980414115Z","streamType":"stdout","text":"\u001b[38;5;250m \u003e helm lint helm/estafette-cloudflare-dns\u001b[0m\n"},{"line":6,"timestamp":"2019-11-15T13:45:46.170165686Z","streamType":"stdout","text":"==\u003e Linting helm/estafette-cloudflare-dns\n"},{"line":7,"timestamp":"2019-11-15T13:45:46.170249649Z","streamType":"stdout","text":"Lint OK\n"},{"line":8,"timestamp":"2019-11-15T13:45:46.170266238Z","streamType":"stdout","text":"\n"},{"line":9,"timestamp":"2019-11-15T13:45:46.170278163Z","streamType":"stdout","text":"1 chart(s) linted, no failures\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"package-helm-chart","depth":1,"image":{"name":"extensions/helm","tag":"dev","isPulled":false,"imageSize":397136256,"pullDuration":12625723619,"isTrusted":true},"duration":11000404513,"logLines":[{"line":1,"timestamp":"2019-11-15T13:45:46.032123707Z","streamType":"stdout","text":"\u001b[1m Starting estafette-extension-helm version 0.1.82...\u001b[0m \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2019-11-13T13:53:29Z \u001b[36mgoVersion=\u001b[0mgo1.13.4 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m3baa835c3da425760f45db73411284566a862456\n"},{"line":2,"timestamp":"2019-11-15T13:45:46.032207743Z","streamType":"stdout","text":"\u001b[1m Unmarshalling parameters / custom properties...\u001b[0m\n"},{"line":3,"timestamp":"2019-11-15T13:45:46.032226206Z","streamType":"stdout","text":"\u001b[1m Setting defaults for parameters that are not set in the manifest...\u001b[0m\n"},{"line":4,"timestamp":"2019-11-15T13:45:46.032237115Z","streamType":"stdout","text":"\u001b[1m Packaging chart estafette-cloudflare-dns with app version 1.2.3 and version 1.2.3...\u001b[0m\n"},{"line":5,"timestamp":"2019-11-15T13:45:46.032257042Z","streamType":"stdout","text":"\u001b[38;5;250m \u003e helm package --save=false --app-version 1.2.3 --version 1.2.3 helm/estafette-cloudflare-dns\u001b[0m\n"},{"line":6,"timestamp":"2019-11-15T13:45:46.257095983Z","streamType":"stdout","text":"Successfully packaged chart and saved it to: /estafette-work/estafette-cloudflare-dns-1.2.3.tgz\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"build","depth":1,"image":{"name":"golang","tag":"1.13.4-alpine3.10","isPulled":false,"imageSize":359122654,"pullDuration":13407922355,"isTrusted":true},"duration":37627292855,"logLines":[{"line":1,"timestamp":"2019-11-15T13:45:45.913685073Z","streamType":"stderr","text":"go: downloading github.com/ericchiang/k8s v0.2.0\n"},{"line":2,"timestamp":"2019-11-15T13:45:45.916941638Z","streamType":"stderr","text":"go: downloading github.com/prometheus/client_golang v0.9.2\n"},{"line":3,"timestamp":"2019-11-15T13:45:45.940484356Z","streamType":"stderr","text":"go: downloading github.com/rs/zerolog v1.15.0\n"},{"line":4,"timestamp":"2019-11-15T13:45:46.047392935Z","streamType":"stderr","text":"go: downloading github.com/stretchr/testify v1.2.2\n"},{"line":5,"timestamp":"2019-11-15T13:45:46.06088209Z","streamType":"stderr","text":"go: downloading github.com/estafette/estafette-foundation v0.0.21\n"},{"line":6,"timestamp":"2019-11-15T13:45:46.084331676Z","streamType":"stderr","text":"go: extracting github.com/prometheus/client_golang v0.9.2\n"},{"line":7,"timestamp":"2019-11-15T13:45:46.096431357Z","streamType":"stderr","text":"go: extracting github.com/estafette/estafette-foundation v0.0.21\n"},{"line":8,"timestamp":"2019-11-15T13:45:46.098084926Z","streamType":"stderr","text":"go: extracting github.com/rs/zerolog v1.15.0\n"},{"line":9,"timestamp":"2019-11-15T13:45:46.10198521Z","streamType":"stderr","text":"go: downloading github.com/fsnotify/fsnotify v1.4.7\n"},{"line":10,"timestamp":"2019-11-15T13:45:46.108288846Z","streamType":"stderr","text":"go: extracting github.com/stretchr/testify v1.2.2\n"},{"line":11,"timestamp":"2019-11-15T13:45:46.133344363Z","streamType":"stderr","text":"go: downloading github.com/stretchr/objx v0.1.1\n"},{"line":12,"timestamp":"2019-11-15T13:45:46.143026559Z","streamType":"stderr","text":"go: downloading github.com/davecgh/go-spew v1.1.1\n"},{"line":13,"timestamp":"2019-11-15T13:45:46.150921395Z","streamType":"stderr","text":"go: extracting github.com/ericchiang/k8s v0.2.0\n"},{"line":14,"timestamp":"2019-11-15T13:45:46.165553133Z","streamType":"stderr","text":"go: downloading github.com/pmezard/go-difflib v1.0.0\n"},{"line":15,"timestamp":"2019-11-15T13:45:46.172455853Z","streamType":"stderr","text":"go: extracting github.com/fsnotify/fsnotify v1.4.7\n"},{"line":16,"timestamp":"2019-11-15T13:45:46.192577471Z","streamType":"stderr","text":"go: downloading golang.org/x/sys v0.0.0-20190215142949-d0b11bdaac8a\n"},{"line":17,"timestamp":"2019-11-15T13:45:46.196463637Z","streamType":"stderr","text":"go: extracting github.com/stretchr/objx v0.1.1\n"},{"line":18,"timestamp":"2019-11-15T13:45:46.197686855Z","streamType":"stderr","text":"go: downloading github.com/golang/protobuf v1.2.0\n"},{"line":19,"timestamp":"2019-11-15T13:45:46.19843715Z","streamType":"stderr","text":"go: extracting github.com/pmezard/go-difflib v1.0.0\n"},{"line":20,"timestamp":"2019-11-15T13:45:46.202115712Z","streamType":"stderr","text":"go: downloading golang.org/x/net v0.0.0-20190311183353-d8887717615a\n"},{"line":21,"timestamp":"2019-11-15T13:45:46.203157433Z","streamType":"stderr","text":"go: downloading github.com/prometheus/client_model v0.0.0-20190115171406-56726106282f\n"},{"line":22,"timestamp":"2019-11-15T13:45:46.203569544Z","streamType":"stderr","text":"go: downloading github.com/prometheus/common v0.2.0\n"},{"line":23,"timestamp":"2019-11-15T13:45:46.219648561Z","streamType":"stderr","text":"go: extracting github.com/davecgh/go-spew v1.1.1\n"},{"line":24,"timestamp":"2019-11-15T13:45:46.225754789Z","streamType":"stderr","text":"go: downloading github.com/beorn7/perks v0.0.0-20180321164747-3a771d992973\n"},{"line":25,"timestamp":"2019-11-15T13:45:46.227014685Z","streamType":"stderr","text":"go: downloading github.com/prometheus/procfs v0.0.0-20190117184657-bf6a532e95b1\n"},{"line":26,"timestamp":"2019-11-15T13:45:46.269508876Z","streamType":"stderr","text":"go: extracting github.com/prometheus/client_model v0.0.0-20190115171406-56726106282f\n"},{"line":27,"timestamp":"2019-11-15T13:45:46.288675618Z","streamType":"stderr","text":"go: extracting github.com/beorn7/perks v0.0.0-20180321164747-3a771d992973\n"},{"line":28,"timestamp":"2019-11-15T13:45:46.331090333Z","streamType":"stderr","text":"go: extracting github.com/prometheus/procfs v0.0.0-20190117184657-bf6a532e95b1\n"},{"line":29,"timestamp":"2019-11-15T13:45:46.355760237Z","streamType":"stderr","text":"go: extracting github.com/golang/protobuf v1.2.0\n"},{"line":30,"timestamp":"2019-11-15T13:45:46.357474483Z","streamType":"stderr","text":"go: extracting github.com/prometheus/common v0.2.0\n"},{"line":31,"timestamp":"2019-11-15T13:45:46.432766413Z","streamType":"stderr","text":"go: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n"},{"line":32,"timestamp":"2019-11-15T13:45:46.454818847Z","streamType":"stderr","text":"go: extracting github.com/matttproud/golang_protobuf_extensions v1.0.1\n"},{"line":33,"timestamp":"2019-11-15T13:45:46.459274927Z","streamType":"stderr","text":"go: extracting golang.org/x/net v0.0.0-20190311183353-d8887717615a\n"},{"line":34,"timestamp":"2019-11-15T13:45:46.492257163Z","streamType":"stderr","text":"go: extracting golang.org/x/sys v0.0.0-20190215142949-d0b11bdaac8a\n"},{"line":35,"timestamp":"2019-11-15T13:45:46.629487027Z","streamType":"stderr","text":"go: downloading golang.org/x/text v0.3.0\n"},{"line":36,"timestamp":"2019-11-15T13:45:47.093294559Z","streamType":"stderr","text":"go: extracting golang.org/x/text v0.3.0\n"},{"line":37,"timestamp":"2019-11-15T13:45:47.494365345Z","streamType":"stderr","text":"go: finding github.com/ericchiang/k8s v0.2.0\n"},{"line":38,"timestamp":"2019-11-15T13:45:47.496316433Z","streamType":"stderr","text":"go: finding github.com/estafette/estafette-foundation v0.0.21\n"},{"line":39,"timestamp":"2019-11-15T13:45:47.502667883Z","streamType":"stderr","text":"go: finding github.com/prometheus/client_golang v0.9.2\n"},{"line":40,"timestamp":"2019-11-15T13:45:47.504888293Z","streamType":"stderr","text":"go: finding github.com/rs/zerolog v1.15.0\n"},{"line":41,"timestamp":"2019-11-15T13:45:47.523396189Z","streamType":"stderr","text":"go: finding github.com/fsnotify/fsnotify v1.4.7\n"},{"line":42,"timestamp":"2019-11-15T13:45:47.531402311Z","streamType":"stderr","text":"go: finding github.com/golang/protobuf v1.2.0\n"},{"line":43,"timestamp":"2019-11-15T13:45:47.537698035Z","streamType":"stderr","text":"go: finding github.com/prometheus/client_model v0.0.0-20190115171406-56726106282f\n"},{"line":44,"timestamp":"2019-11-15T13:45:47.537876987Z","streamType":"stderr","text":"go: finding github.com/beorn7/perks v0.0.0-20180321164747-3a771d992973\n"},{"line":45,"timestamp":"2019-11-15T13:45:47.541789883Z","streamType":"stderr","text":"go: finding github.com/prometheus/common v0.2.0\n"},{"line":46,"timestamp":"2019-11-15T13:45:47.552697043Z","streamType":"stderr","text":"go: finding github.com/prometheus/procfs v0.0.0-20190117184657-bf6a532e95b1\n"},{"line":47,"timestamp":"2019-11-15T13:45:47.552970021Z","streamType":"stderr","text":"go: finding golang.org/x/sys v0.0.0-20190215142949-d0b11bdaac8a\n"},{"line":48,"timestamp":"2019-11-15T13:45:47.56006837Z","streamType":"stderr","text":"go: finding github.com/matttproud/golang_protobuf_extensions v1.0.1\n"},{"line":49,"timestamp":"2019-11-15T13:45:47.571983604Z","streamType":"stderr","text":"go: finding golang.org/x/net v0.0.0-20190311183353-d8887717615a\n"},{"line":50,"timestamp":"2019-11-15T13:45:47.584908447Z","streamType":"stderr","text":"go: finding golang.org/x/text v0.3.0\n"},{"line":51,"timestamp":"2019-11-15T13:45:47.601517169Z","streamType":"stderr","text":"go: finding github.com/stretchr/testify v1.2.2\n"},{"line":52,"timestamp":"2019-11-15T13:45:47.607771135Z","streamType":"stderr","text":"go: finding github.com/pmezard/go-difflib v1.0.0\n"},{"line":53,"timestamp":"2019-11-15T13:45:47.60842046Z","streamType":"stderr","text":"go: finding github.com/stretchr/objx v0.1.1\n"},{"line":54,"timestamp":"2019-11-15T13:45:47.609359218Z","streamType":"stderr","text":"go: finding github.com/davecgh/go-spew v1.1.1\n"},{"line":55,"timestamp":"2019-11-15T13:45:58.665451371Z","streamType":"stdout","text":"ok  \tgithub.com/estafette/estafette-cloudflare-dns\t0.015s\n"}],"exitCode":0,"status":"SUCCEEDED"}]},{"step":"bake","image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":6267914,"pullDuration":1903688149,"isTrusted":true},"duration":5313506071,"logLines":[{"line":1,"timestamp":"2019-11-15T13:46:17.044403146Z","streamType":"stdout","text":"Starting estafette-extension-docker version 0.1.117...\n"},{"line":2,"timestamp":"2019-11-15T13:46:17.044498177Z","streamType":"stdout","text":"Ensuring build directory ./publish exists\n"},{"line":3,"timestamp":"2019-11-15T13:46:17.044511308Z","streamType":"stdout","text":"Copying file /etc/ssl/certs/ca-certificates.crt to ./publish\n"},{"line":4,"timestamp":"2019-11-15T13:46:17.04451886Z","streamType":"stdout","text":"Reading dockerfile content from Dockerfile...\n"},{"line":5,"timestamp":"2019-11-15T13:46:17.044528996Z","streamType":"stdout","text":"Expanding environment variables in Dockerfile...\n"},{"line":6,"timestamp":"2019-11-15T13:46:17.044565835Z","streamType":"stdout","text":"Writing Dockerfile to publish/Dockerfile...\n"},{"line":7,"timestamp":"2019-11-15T13:46:17.044629136Z","streamType":"stdout","text":"Listing directory ./publish content\n"},{"line":8,"timestamp":"2019-11-15T13:46:17.044657581Z","streamType":"stdout","text":"- Dockerfile\n"},{"line":9,"timestamp":"2019-11-15T13:46:17.044698493Z","streamType":"stdout","text":"- ca-certificates.crt\n"},{"line":10,"timestamp":"2019-11-15T13:46:17.044744311Z","streamType":"stdout","text":"- estafette-cloudflare-dns\n"},{"line":11,"timestamp":"2019-11-15T13:46:17.044798297Z","streamType":"stdout","text":"Filtering credentials for images [estafette/estafette-cloudflare-dns:1.2.3]\n"},{"line":12,"timestamp":"2019-11-15T13:46:17.044830373Z","streamType":"stdout","text":"Filtered 7 container-registry credentials down to 1\n"},{"line":13,"timestamp":"2019-11-15T13:46:17.044843569Z","streamType":"stdout","text":"Logging in to repository 'estafette'\n"},{"line":14,"timestamp":"2019-11-15T13:46:18.167298253Z","streamType":"stdout","text":"Pulling docker image estafette/estafette-cloudflare-dns:cache-1.2.3 to use as cache during build...\n"},{"line":15,"timestamp":"2019-11-15T13:46:18.167413498Z","streamType":"stdout","text":"Running command 'docker pull estafette/estafette-cloudflare-dns:cache-1.2.3'...\n"},{"line":16,"timestamp":"2019-11-15T13:46:19.362824176Z","streamType":"stdout","text":"cache-1.2.3: Pulling from estafette/estafette-cloudflare-dns\n"},{"line":17,"timestamp":"2019-11-15T13:46:19.362912802Z","streamType":"stdout","text":"602b3d49ed01: Pulling fs layer\n"},{"line":18,"timestamp":"2019-11-15T13:46:19.36297293Z","streamType":"stdout","text":"73e9253d9369: Pulling fs layer\n"},{"line":19,"timestamp":"2019-11-15T13:46:19.830876009Z","streamType":"stdout","text":"602b3d49ed01: Verifying Checksum\n"},{"line":20,"timestamp":"2019-11-15T13:46:19.831004002Z","streamType":"stdout","text":"602b3d49ed01: Download complete\n"},{"line":21,"timestamp":"2019-11-15T13:46:19.907859329Z","streamType":"stdout","text":"73e9253d9369: Verifying Checksum\n"},{"line":22,"timestamp":"2019-11-15T13:46:19.907955945Z","streamType":"stdout","text":"73e9253d9369: Download complete\n"},{"line":23,"timestamp":"2019-11-15T13:46:19.918392273Z","streamType":"stdout","text":"602b3d49ed01: Pull complete\n"},{"line":24,"timestamp":"2019-11-15T13:46:20.148197331Z","streamType":"stdout","text":"73e9253d9369: Pull complete\n"},{"line":25,"timestamp":"2019-11-15T13:46:20.159643171Z","streamType":"stdout","text":"Digest: sha256:3a36fc02914ec59abf10afad7711299ad06679ad93f9db5499d56548dfd1259f\n"},{"line":26,"timestamp":"2019-11-15T13:46:20.164351955Z","streamType":"stdout","text":"Status: Downloaded newer image for estafette/estafette-cloudflare-dns:cache-1.2.3\n"},{"line":27,"timestamp":"2019-11-15T13:46:20.164435397Z","streamType":"stdout","text":"docker.io/estafette/estafette-cloudflare-dns:cache-1.2.3\n"},{"line":28,"timestamp":"2019-11-15T13:46:20.166190645Z","streamType":"stdout","text":"Building docker image estafette/estafette-cloudflare-dns:1.2.3...\n"},{"line":29,"timestamp":"2019-11-15T13:46:20.166277716Z","streamType":"stdout","text":"\n"},{"line":30,"timestamp":"2019-11-15T13:46:20.166289624Z","streamType":"stdout","text":"FROM scratch\n"},{"line":31,"timestamp":"2019-11-15T13:46:20.166302438Z","streamType":"stdout","text":"\n"},{"line":32,"timestamp":"2019-11-15T13:46:20.16631392Z","streamType":"stdout","text":"LABEL maintainer=\"estafette.io\" \\\n"},{"line":33,"timestamp":"2019-11-15T13:46:20.166334243Z","streamType":"stdout","text":"      description=\"The estafette-cloudflare-dns component is a Kubernetes controller that sets dns records in Cloudflare for annotated Kubernetes services and ingresses\"\n"},{"line":34,"timestamp":"2019-11-15T13:46:20.166383644Z","streamType":"stdout","text":"\n"},{"line":35,"timestamp":"2019-11-15T13:46:20.166408675Z","streamType":"stdout","text":"COPY ca-certificates.crt /etc/ssl/certs/\n"},{"line":36,"timestamp":"2019-11-15T13:46:20.166423097Z","streamType":"stdout","text":"COPY estafette-cloudflare-dns /\n"},{"line":37,"timestamp":"2019-11-15T13:46:20.166432913Z","streamType":"stdout","text":"\n"},{"line":38,"timestamp":"2019-11-15T13:46:20.16644204Z","streamType":"stdout","text":"ENTRYPOINT [\"/estafette-cloudflare-dns\"]\n"},{"line":39,"timestamp":"2019-11-15T13:46:20.166452136Z","streamType":"stdout","text":"\n"},{"line":40,"timestamp":"2019-11-15T13:46:20.166462025Z","streamType":"stdout","text":"\n"},{"line":41,"timestamp":"2019-11-15T13:46:20.166498457Z","streamType":"stdout","text":"Running command 'docker build --tag estafette/estafette-cloudflare-dns:cache-1.2.3 --tag estafette/estafette-cloudflare-dns:1.2.3 --cache-from estafette/estafette-cloudflare-dns:cache-1.2.3 --file publish/Dockerfile ./publish'...\n"},{"line":42,"timestamp":"2019-11-15T13:46:20.358464732Z","streamType":"stdout","text":"Sending build context to Docker daemon  18.13MB\r\r\n"},{"line":43,"timestamp":"2019-11-15T13:46:20.367035208Z","streamType":"stdout","text":"Step 1/5 : FROM scratch\n"},{"line":44,"timestamp":"2019-11-15T13:46:20.367111083Z","streamType":"stdout","text":" ---\u003e \n"},{"line":45,"timestamp":"2019-11-15T13:46:20.367134045Z","streamType":"stdout","text":"Step 2/5 : LABEL maintainer=\"estafette.io\"       description=\"The estafette-cloudflare-dns component is a Kubernetes controller that sets dns records in Cloudflare for annotated Kubernetes services and ingresses\"\n"},{"line":46,"timestamp":"2019-11-15T13:46:20.373832278Z","streamType":"stdout","text":" ---\u003e Using cache\n"},{"line":47,"timestamp":"2019-11-15T13:46:20.373939807Z","streamType":"stdout","text":" ---\u003e 0dcb15884501\n"},{"line":48,"timestamp":"2019-11-15T13:46:20.3739532Z","streamType":"stdout","text":"Step 3/5 : COPY ca-certificates.crt /etc/ssl/certs/\n"},{"line":49,"timestamp":"2019-11-15T13:46:20.380737869Z","streamType":"stdout","text":" ---\u003e Using cache\n"},{"line":50,"timestamp":"2019-11-15T13:46:20.380803594Z","streamType":"stdout","text":" ---\u003e aebc71a0b7ff\n"},{"line":51,"timestamp":"2019-11-15T13:46:20.381022957Z","streamType":"stdout","text":"Step 4/5 : COPY estafette-cloudflare-dns /\n"},{"line":52,"timestamp":"2019-11-15T13:46:20.933458017Z","streamType":"stdout","text":" ---\u003e 3fa8e7cd544c\n"},{"line":53,"timestamp":"2019-11-15T13:46:20.933558688Z","streamType":"stdout","text":"Step 5/5 : ENTRYPOINT [\"/estafette-cloudflare-dns\"]\n"},{"line":54,"timestamp":"2019-11-15T13:46:20.986572305Z","streamType":"stdout","text":" ---\u003e Running in 377925b5706b\n"},{"line":55,"timestamp":"2019-11-15T13:46:21.085662763Z","streamType":"stdout","text":"Removing intermediate container 377925b5706b\n"},{"line":56,"timestamp":"2019-11-15T13:46:21.085727092Z","streamType":"stdout","text":" ---\u003e 0839eed51462\n"},{"line":57,"timestamp":"2019-11-15T13:46:21.089953124Z","streamType":"stdout","text":"Successfully built 0839eed51462\n"},{"line":58,"timestamp":"2019-11-15T13:46:21.098008151Z","streamType":"stdout","text":"Successfully tagged estafette/estafette-cloudflare-dns:cache-1.2.3\n"},{"line":59,"timestamp":"2019-11-15T13:46:21.105382356Z","streamType":"stdout","text":"Successfully tagged estafette/estafette-cloudflare-dns:1.2.3\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"push-to-docker-hub","image":{"name":"extensions/docker","tag":"dev","isPulled":true,"imageSize":6267914,"pullDuration":0,"isTrusted":true},"duration":18837239705,"logLines":[{"line":1,"timestamp":"2019-11-15T13:46:22.211272772Z","streamType":"stdout","text":"Starting estafette-extension-docker version 0.1.117...\n"},{"line":2,"timestamp":"2019-11-15T13:46:22.211373409Z","streamType":"stdout","text":"Filtering credentials for images [estafette/estafette-cloudflare-dns:1.2.3]\n"},{"line":3,"timestamp":"2019-11-15T13:46:22.211385838Z","streamType":"stdout","text":"Filtered 7 container-registry credentials down to 1\n"},{"line":4,"timestamp":"2019-11-15T13:46:22.211401301Z","streamType":"stdout","text":"Logging in to repository 'estafette'\n"},{"line":5,"timestamp":"2019-11-15T13:46:23.349866345Z","streamType":"stdout","text":"Pushing container image estafette/estafette-cloudflare-dns:1.2.3\n"},{"line":6,"timestamp":"2019-11-15T13:46:23.350037875Z","streamType":"stdout","text":"Running command 'docker push estafette/estafette-cloudflare-dns:1.2.3'...\n"},{"line":7,"timestamp":"2019-11-15T13:46:23.400021632Z","streamType":"stdout","text":"The push refers to repository [docker.io/estafette/estafette-cloudflare-dns]\n"},{"line":8,"timestamp":"2019-11-15T13:46:23.755197977Z","streamType":"stdout","text":"dbef733a9c6f: Preparing\n"},{"line":9,"timestamp":"2019-11-15T13:46:23.755295805Z","streamType":"stdout","text":"2ca3086b2e25: Preparing\n"},{"line":10,"timestamp":"2019-11-15T13:46:24.585855811Z","streamType":"stdout","text":"2ca3086b2e25: Layer already exists\n"},{"line":11,"timestamp":"2019-11-15T13:46:33.977160705Z","streamType":"stdout","text":"dbef733a9c6f: Pushed\n"},{"line":12,"timestamp":"2019-11-15T13:46:37.808853607Z","streamType":"stdout","text":"1.2.3: digest: sha256:9ee4cc346e270f6e27aadaa1007f7c99400edc645470cf02ece91625a89559c8 size: 738\n"},{"line":13,"timestamp":"2019-11-15T13:46:37.81953995Z","streamType":"stdout","text":"Pushing cache container image estafette/estafette-cloudflare-dns:cache-1.2.3\n"},{"line":14,"timestamp":"2019-11-15T13:46:37.819611732Z","streamType":"stdout","text":"Running command 'docker push estafette/estafette-cloudflare-dns:cache-1.2.3'...\n"},{"line":15,"timestamp":"2019-11-15T13:46:37.869734787Z","streamType":"stdout","text":"The push refers to repository [docker.io/estafette/estafette-cloudflare-dns]\n"},{"line":16,"timestamp":"2019-11-15T13:46:38.21011205Z","streamType":"stdout","text":"dbef733a9c6f: Preparing\n"},{"line":17,"timestamp":"2019-11-15T13:46:38.210173718Z","streamType":"stdout","text":"2ca3086b2e25: Preparing\n"},{"line":18,"timestamp":"2019-11-15T13:46:39.023219333Z","streamType":"stdout","text":"dbef733a9c6f: Layer already exists\n"},{"line":19,"timestamp":"2019-11-15T13:46:39.034853862Z","streamType":"stdout","text":"2ca3086b2e25: Layer already exists\n"},{"line":20,"timestamp":"2019-11-15T13:46:39.937014072Z","streamType":"stdout","text":"cache-1.2.3: digest: sha256:9ee4cc346e270f6e27aadaa1007f7c99400edc645470cf02ece91625a89559c8 size: 738\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"test-helm-chart","image":{"name":"extensions/helm","tag":"dev","isPulled":true,"imageSize":397136256,"pullDuration":0,"isTrusted":true},"duration":92583741523,"logLines":[{"line":1,"timestamp":"2019-11-15T13:47:36.827026834Z","streamType":"stdout","text":"\u001b[1m Starting estafette-extension-helm version 0.1.82...\u001b[0m \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2019-11-13T13:53:29Z \u001b[36mgoVersion=\u001b[0mgo1.13.4 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m3baa835c3da425760f45db73411284566a862456\n"},{"line":2,"timestamp":"2019-11-15T13:47:36.827147867Z","streamType":"stdout","text":"\u001b[1m Unmarshalling parameters / custom properties...\u001b[0m\n"},{"line":3,"timestamp":"2019-11-15T13:47:36.827243508Z","streamType":"stdout","text":"\u001b[1m Setting defaults for parameters that are not set in the manifest...\u001b[0m\n"},{"line":4,"timestamp":"2019-11-15T13:47:36.827272847Z","streamType":"stdout","text":"\u001b[1m Testing chart estafette-cloudflare-dns with app version 1.2.3 and version 1.2.3 on kind host kubernetes...\u001b[0m\n"},{"line":5,"timestamp":"2019-11-15T13:47:36.827296344Z","streamType":"stdout","text":"\u001b[0m \n"},{"line":6,"timestamp":"2019-11-15T13:47:36.827312547Z","streamType":"stdout","text":"Waiting for kind host to be ready...\u001b[0m\n"},{"line":7,"timestamp":"2019-11-15T13:47:36.828419006Z","streamType":"stdout","text":"\u001b[0m \n"},{"line":8,"timestamp":"2019-11-15T13:47:36.828484961Z","streamType":"stdout","text":"Preparing kind host for using Helm...\u001b[0m\n"},{"line":9,"timestamp":"2019-11-15T13:47:36.829717507Z","streamType":"stdout","text":"\u001b[38;5;250m \u003e kubectl -n kube-system create serviceaccount tiller\u001b[0m\n"},{"line":10,"timestamp":"2019-11-15T13:47:41.208423671Z","streamType":"stdout","text":"serviceaccount/tiller created\n"},{"line":11,"timestamp":"2019-11-15T13:47:41.211370683Z","streamType":"stdout","text":"\u001b[38;5;250m \u003e kubectl create clusterrolebinding tiller --clusterrole=cluster-admin --serviceaccount=kube-system:tiller\u001b[0m\n"},{"line":12,"timestamp":"2019-11-15T13:47:41.317647893Z","streamType":"stdout","text":"clusterrolebinding.rbac.authorization.k8s.io/tiller created\n"},{"line":13,"timestamp":"2019-11-15T13:47:41.320826266Z","streamType":"stdout","text":"\u001b[38;5;250m \u003e helm init --client-only\u001b[0m\n"},{"line":14,"timestamp":"2019-11-15T13:47:41.40780539Z","streamType":"stdout","text":"Creating /root/.helm/repository \n"},{"line":15,"timestamp":"2019-11-15T13:47:41.407878571Z","streamType":"stdout","text":"Creating /root/.helm/repository/cache \n"},{"line":16,"timestamp":"2019-11-15T13:47:41.407903124Z","streamType":"stdout","text":"Creating /root/.helm/repository/local \n"},{"line":17,"timestamp":"2019-11-15T13:47:41.407912647Z","streamType":"stdout","text":"Creating /root/.helm/starters \n"},{"line":18,"timestamp":"2019-11-15T13:47:41.407946211Z","streamType":"stdout","text":"Creating /root/.helm/cache/archive \n"},{"line":19,"timestamp":"2019-11-15T13:47:41.407963818Z","streamType":"stdout","text":"Creating /root/.helm/repository/repositories.yaml \n"},{"line":20,"timestamp":"2019-11-15T13:47:41.407984597Z","streamType":"stdout","text":"Adding stable repo with URL: https://kubernetes-charts.storage.googleapis.com \n"},{"line":21,"timestamp":"2019-11-15T13:47:43.098657658Z","streamType":"stdout","text":"Adding local repo with URL: http://127.0.0.1:8879/charts \n"},{"line":22,"timestamp":"2019-11-15T13:47:43.099522348Z","streamType":"stdout","text":"$HELM_HOME has been configured at /root/.helm.\n"},{"line":23,"timestamp":"2019-11-15T13:47:43.099582067Z","streamType":"stdout","text":"Not installing Tiller due to 'client-only' flag having been set\n"},{"line":24,"timestamp":"2019-11-15T13:47:43.111718876Z","streamType":"stdout","text":"\u001b[38;5;250m \u003e kubectl create ns helm-extension-releases\u001b[0m\n"},{"line":25,"timestamp":"2019-11-15T13:47:43.234096265Z","streamType":"stdout","text":"namespace/helm-extension-releases created\n"},{"line":26,"timestamp":"2019-11-15T13:47:43.236784763Z","streamType":"stdout","text":"\u001b[38;5;250m \u003e helm tiller start-ci helm-extension-releases\u001b[0m\n"},{"line":27,"timestamp":"2019-11-15T13:47:43.424131597Z","streamType":"stdout","text":"Installed Helm version v2.16.0\n"},{"line":28,"timestamp":"2019-11-15T13:47:43.430058917Z","streamType":"stdout","text":"Installing Tiller v2.16.0 ...\n"},{"line":29,"timestamp":"2019-11-15T13:47:44.809861489Z","streamType":"stdout","text":"Set the following vars to use tiller:\n"},{"line":30,"timestamp":"2019-11-15T13:47:44.810055576Z","streamType":"stdout","text":"export TILLER_NAMESPACE=helm-extension-releases\n"},{"line":31,"timestamp":"2019-11-15T13:47:44.810128599Z","streamType":"stdout","text":"export HELM_HOST=127.0.0.1:44134\n"},{"line":32,"timestamp":"2019-11-15T13:47:44.810215394Z","streamType":"stdout","text":"Starting Tiller...\n"},{"line":33,"timestamp":"2019-11-15T13:47:44.89996275Z","streamType":"stdout","text":"Tiller namespace: helm-extension-releases\n"},{"line":34,"timestamp":"2019-11-15T13:47:44.902671491Z","streamType":"stdout","text":"\u001b[38;5;250m \u003e helm version\u001b[0m\n"},{"line":35,"timestamp":"2019-11-15T13:47:44.993069247Z","streamType":"stdout","text":"Client: \u0026version.Version{SemVer:\"v2.16.0\", GitCommit:\"e13bc94621d4ef666270cfbe734aaabf342a49bb\", GitTreeState:\"clean\"}\n"},{"line":36,"timestamp":"2019-11-15T13:47:45.996838624Z","streamType":"stdout","text":"Server: \u0026version.Version{SemVer:\"v2.16.0\", GitCommit:\"e13bc94621d4ef666270cfbe734aaabf342a49bb\", GitTreeState:\"clean\"}\n"},{"line":37,"timestamp":"2019-11-15T13:47:45.999447866Z","streamType":"stdout","text":"\u001b[0m \n"},{"line":38,"timestamp":"2019-11-15T13:47:45.999510653Z","streamType":"stdout","text":"Writing values to override.yaml...\u001b[0m\n"},{"line":39,"timestamp":"2019-11-15T13:47:45.999524315Z","streamType":"stdout","text":"\u001b[38;5;250m \u003e cat override.yaml\u001b[0m\n"},{"line":40,"timestamp":"2019-11-15T13:47:46.000493649Z","streamType":"stdout","text":"secret:\n"},{"line":41,"timestamp":"2019-11-15T13:47:46.000574356Z","streamType":"stdout","text":"  cloudflareApiEmail: bot@estafette.io\n"},{"line":42,"timestamp":"2019-11-15T13:47:46.000752439Z","streamType":"stdout","text":"  cloudflareApiKey: abc\u001b[0m \n"},{"line":43,"timestamp":"2019-11-15T13:47:46.000781086Z","streamType":"stdout","text":"Showing template to be installed...\u001b[0m\n"},{"line":44,"timestamp":"2019-11-15T13:47:46.000796067Z","streamType":"stdout","text":"\u001b[38;5;250m \u003e helm diff upgrade estafette-cloudflare-dns estafette-cloudflare-dns-1.2.3.tgz -f override.yaml --allow-unreleased\u001b[0m\n"},{"line":45,"timestamp":"2019-11-15T13:47:46.126268482Z","streamType":"stdout","text":"********************\n"},{"line":46,"timestamp":"2019-11-15T13:47:46.126384389Z","streamType":"stdout","text":"\n"},{"line":47,"timestamp":"2019-11-15T13:47:46.126401158Z","streamType":"stdout","text":"\tRelease was not present in Helm.  Diff will show entire contents as new.\n"},{"line":48,"timestamp":"2019-11-15T13:47:46.126415357Z","streamType":"stdout","text":"\n"},{"line":49,"timestamp":"2019-11-15T13:47:46.126429171Z","streamType":"stdout","text":"********************\n"},{"line":50,"timestamp":"2019-11-15T13:47:46.158597737Z","streamType":"stdout","text":"\u001b[33mdefault, estafette-cloudflare-dns, Secret (v1) has been added:\u001b[0m\n"},{"line":51,"timestamp":"2019-11-15T13:47:46.158701746Z","streamType":"stdout","text":"\u001b[31m- \u001b[0m\n"},{"line":52,"timestamp":"2019-11-15T13:47:46.158717112Z","streamType":"stdout","text":"\u001b[32m+ # Source: estafette-cloudflare-dns/templates/secret.yaml\u001b[0m\n"},{"line":53,"timestamp":"2019-11-15T13:47:46.158726772Z","streamType":"stdout","text":"\u001b[32m+ apiVersion: v1\u001b[0m\n"},{"line":54,"timestamp":"2019-11-15T13:47:46.158739234Z","streamType":"stdout","text":"\u001b[32m+ kind: Secret\u001b[0m\n"},{"line":55,"timestamp":"2019-11-15T13:47:46.158747098Z","streamType":"stdout","text":"\u001b[32m+ metadata:\u001b[0m\n"},{"line":56,"timestamp":"2019-11-15T13:47:46.158756236Z","streamType":"stdout","text":"\u001b[32m+   name: estafette-cloudflare-dns\u001b[0m\n"},{"line":57,"timestamp":"2019-11-15T13:47:46.158865368Z","streamType":"stdout","text":"\u001b[32m+   namespace: default\u001b[0m\n"},{"line":58,"timestamp":"2019-11-15T13:47:46.158903036Z","streamType":"stdout","text":"\u001b[32m+   labels:\u001b[0m\n"},{"line":59,"timestamp":"2019-11-15T13:47:46.158917091Z","streamType":"stdout","text":"\u001b[32m+     app.kubernetes.io/name: estafette-cloudflare-dns\u001b[0m\n"},{"line":60,"timestamp":"2019-11-15T13:47:46.159009471Z","streamType":"stdout","text":"\u001b[32m+     helm.sh/chart: estafette-cloudflare-dns-1.2.3\u001b[0m\n"},{"line":61,"timestamp":"2019-11-15T13:47:46.159018983Z","streamType":"stdout","text":"\u001b[32m+     app.kubernetes.io/instance: estafette-cloudflare-dns\u001b[0m\n"},{"line":62,"timestamp":"2019-11-15T13:47:46.159056988Z","streamType":"stdout","text":"\u001b[32m+     app.kubernetes.io/version: \"1.2.3\"\u001b[0m\n"},{"line":63,"timestamp":"2019-11-15T13:47:46.159081901Z","streamType":"stdout","text":"\u001b[32m+     app.kubernetes.io/managed-by: Tiller\u001b[0m\n"},{"line":64,"timestamp":"2019-11-15T13:47:46.15909876Z","streamType":"stdout","text":"\u001b[32m+ type: Opaque\u001b[0m\n"},{"line":65,"timestamp":"2019-11-15T13:47:46.159146057Z","streamType":"stdout","text":"\u001b[32m+ data:\u001b[0m\n"},{"line":66,"timestamp":"2019-11-15T13:47:46.159249317Z","streamType":"stdout","text":"\u001b[32m+   cloudflareApiEmail: Ym90QGVzdGFmZXR0ZS5pbw==\u001b[0m\n"},{"line":67,"timestamp":"2019-11-15T13:47:46.1593275Z","streamType":"stdout","text":"\u001b[32m+   cloudflareApiKey: YWJj\u001b[0m\n"},{"line":68,"timestamp":"2019-11-15T13:47:46.159345769Z","streamType":"stdout","text":"\u001b[33mdefault, estafette-cloudflare-dns, ServiceAccount (v1) has been added:\u001b[0m\n"},{"line":69,"timestamp":"2019-11-15T13:47:46.159356064Z","streamType":"stdout","text":"\u001b[31m- \u001b[0m\n"},{"line":70,"timestamp":"2019-11-15T13:47:46.159365544Z","streamType":"stdout","text":"\u001b[32m+ # Source: estafette-cloudflare-dns/templates/serviceaccount.yaml\u001b[0m\n"},{"line":71,"timestamp":"2019-11-15T13:47:46.159508578Z","streamType":"stdout","text":"\u001b[32m+ apiVersion: v1\u001b[0m\n"},{"line":72,"timestamp":"2019-11-15T13:47:46.159530831Z","streamType":"stdout","text":"\u001b[32m+ kind: ServiceAccount\u001b[0m\n"},{"line":73,"timestamp":"2019-11-15T13:47:46.159542585Z","streamType":"stdout","text":"\u001b[32m+ metadata:\u001b[0m\n"},{"line":74,"timestamp":"2019-11-15T13:47:46.159564002Z","streamType":"stdout","text":"\u001b[32m+   name: estafette-cloudflare-dns\u001b[0m\n"},{"line":75,"timestamp":"2019-11-15T13:47:46.159573003Z","streamType":"stdout","text":"\u001b[32m+   namespace: default\u001b[0m\n"},{"line":76,"timestamp":"2019-11-15T13:47:46.159589315Z","streamType":"stdout","text":"\u001b[32m+   labels:\u001b[0m\n"},{"line":77,"timestamp":"2019-11-15T13:47:46.159600919Z","streamType":"stdout","text":"\u001b[32m+     app.kubernetes.io/name: estafette-cloudflare-dns\u001b[0m\n"},{"line":78,"timestamp":"2019-11-15T13:47:46.159609245Z","streamType":"stdout","text":"\u001b[32m+     helm.sh/chart: estafette-cloudflare-dns-1.2.3\u001b[0m\n"},{"line":79,"timestamp":"2019-11-15T13:47:46.15962739Z","streamType":"stdout","text":"\u001b[32m+     app.kubernetes.io/instance: estafette-cloudflare-dns\u001b[0m\n"},{"line":80,"timestamp":"2019-11-15T13:47:46.159641548Z","streamType":"stdout","text":"\u001b[32m+     app.kubernetes.io/version: \"1.2.3\"\u001b[0m\n"},{"line":81,"timestamp":"2019-11-15T13:47:46.159658545Z","streamType":"stdout","text":"\u001b[32m+     app.kubernetes.io/managed-by: Tiller\u001b[0m\n"},{"line":82,"timestamp":"2019-11-15T13:47:46.159668315Z","streamType":"stdout","text":"\u001b[33mdefault, estafette-cloudflare-dns, ClusterRole (rbac.authorization.k8s.io) has been added:\u001b[0m\n"},{"line":83,"timestamp":"2019-11-15T13:47:46.15967869Z","streamType":"stdout","text":"\u001b[31m- \u001b[0m\n"},{"line":84,"timestamp":"2019-11-15T13:47:46.159791823Z","streamType":"stdout","text":"\u001b[32m+ # Source: estafette-cloudflare-dns/templates/clusterrole.yaml\u001b[0m\n"},{"line":85,"timestamp":"2019-11-15T13:47:46.159809185Z","streamType":"stdout","text":"\u001b[32m+ apiVersion: rbac.authorization.k8s.io/v1\u001b[0m\n"},{"line":86,"timestamp":"2019-11-15T13:47:46.159817607Z","streamType":"stdout","text":"\u001b[32m+ kind: ClusterRole\u001b[0m\n"},{"line":87,"timestamp":"2019-11-15T13:47:46.159825895Z","streamType":"stdout","text":"\u001b[32m+ metadata:\u001b[0m\n"},{"line":88,"timestamp":"2019-11-15T13:47:46.159841023Z","streamType":"stdout","text":"\u001b[32m+   name: estafette-cloudflare-dns\u001b[0m\n"},{"line":89,"timestamp":"2019-11-15T13:47:46.159856863Z","streamType":"stdout","text":"\u001b[32m+   labels:\u001b[0m\n"},{"line":90,"timestamp":"2019-11-15T13:47:46.159874041Z","streamType":"stdout","text":"\u001b[32m+     app.kubernetes.io/name: estafette-cloudflare-dns\u001b[0m\n"},{"line":91,"timestamp":"2019-11-15T13:47:46.159886761Z","streamType":"stdout","text":"\u001b[32m+     helm.sh/chart: estafette-cloudflare-dns-1.2.3\u001b[0m\n"},{"line":92,"timestamp":"2019-11-15T13:47:46.159905739Z","streamType":"stdout","text":"\u001b[32m+     app.kubernetes.io/instance: estafette-cloudflare-dns\u001b[0m\n"},{"line":93,"timestamp":"2019-11-15T13:47:46.15998045Z","streamType":"stdout","text":"\u001b[32m+     app.kubernetes.io/version: \"1.2.3\"\u001b[0m\n"},{"line":94,"timestamp":"2019-11-15T13:47:46.159996371Z","streamType":"stdout","text":"\u001b[32m+     app.kubernetes.io/managed-by: Tiller\u001b[0m\n"},{"line":95,"timestamp":"2019-11-15T13:47:46.160008202Z","streamType":"stdout","text":"\u001b[32m+ rules:\u001b[0m\n"},{"line":96,"timestamp":"2019-11-15T13:47:46.160020142Z","streamType":"stdout","text":"\u001b[32m+ - apiGroups: [\"\"] # \"\" indicates the core API group\u001b[0m\n"},{"line":97,"timestamp":"2019-11-15T13:47:46.160038751Z","streamType":"stdout","text":"\u001b[32m+   resources:\u001b[0m\n"},{"line":98,"timestamp":"2019-11-15T13:47:46.160049238Z","streamType":"stdout","text":"\u001b[32m+   - services\u001b[0m\n"},{"line":99,"timestamp":"2019-11-15T13:47:46.160103842Z","streamType":"stdout","text":"\u001b[32m+   verbs:\u001b[0m\n"},{"line":100,"timestamp":"2019-11-15T13:47:46.160112523Z","streamType":"stdout","text":"\u001b[32m+   - list\u001b[0m\n"},{"line":101,"timestamp":"2019-11-15T13:47:46.160129557Z","streamType":"stdout","text":"\u001b[32m+   - watch\u001b[0m\n"},{"line":102,"timestamp":"2019-11-15T13:47:46.160137871Z","streamType":"stdout","text":"\u001b[32m+   - update\u001b[0m\n"},{"line":103,"timestamp":"2019-11-15T13:47:46.160159134Z","streamType":"stdout","text":"\u001b[32m+ - apiGroups: [\"extensions\"]\u001b[0m\n"},{"line":104,"timestamp":"2019-11-15T13:47:46.160169551Z","streamType":"stdout","text":"\u001b[32m+   resources:\u001b[0m\n"},{"line":105,"timestamp":"2019-11-15T13:47:46.160183396Z","streamType":"stdout","text":"\u001b[32m+   - ingresses\u001b[0m\n"},{"line":106,"timestamp":"2019-11-15T13:47:46.1601925Z","streamType":"stdout","text":"\u001b[32m+   verbs:\u001b[0m\n"},{"line":107,"timestamp":"2019-11-15T13:47:46.160203925Z","streamType":"stdout","text":"\u001b[32m+   - list\u001b[0m\n"},{"line":108,"timestamp":"2019-11-15T13:47:46.160212701Z","streamType":"stdout","text":"\u001b[32m+   - watch\u001b[0m\n"},{"line":109,"timestamp":"2019-11-15T13:47:46.160220859Z","streamType":"stdout","text":"\u001b[32m+   - update\u001b[0m\n"},{"line":110,"timestamp":"2019-11-15T13:47:46.160229833Z","streamType":"stdout","text":"\u001b[33mdefault, estafette-cloudflare-dns, ClusterRoleBinding (rbac.authorization.k8s.io) has been added:\u001b[0m\n"},{"line":111,"timestamp":"2019-11-15T13:47:46.160238426Z","streamType":"stdout","text":"\u001b[31m- \u001b[0m\n"},{"line":112,"timestamp":"2019-11-15T13:47:46.160247166Z","streamType":"stdout","text":"\u001b[32m+ # Source: estafette-cloudflare-dns/templates/clusterrolebinding.yaml\u001b[0m\n"},{"line":113,"timestamp":"2019-11-15T13:47:46.160260193Z","streamType":"stdout","text":"\u001b[32m+ apiVersion: rbac.authorization.k8s.io/v1\u001b[0m\n"},{"line":114,"timestamp":"2019-11-15T13:47:46.160275629Z","streamType":"stdout","text":"\u001b[32m+ kind: ClusterRoleBinding\u001b[0m\n"},{"line":115,"timestamp":"2019-11-15T13:47:46.160283308Z","streamType":"stdout","text":"\u001b[32m+ metadata:\u001b[0m\n"},{"line":116,"timestamp":"2019-11-15T13:47:46.160292285Z","streamType":"stdout","text":"\u001b[32m+   name: estafette-cloudflare-dns\u001b[0m\n"},{"line":117,"timestamp":"2019-11-15T13:47:46.160300947Z","streamType":"stdout","text":"\u001b[32m+   labels:\u001b[0m\n"},{"line":118,"timestamp":"2019-11-15T13:47:46.160339283Z","streamType":"stdout","text":"\u001b[32m+     app.kubernetes.io/name: estafette-cloudflare-dns\u001b[0m\n"},{"line":119,"timestamp":"2019-11-15T13:47:46.160363942Z","streamType":"stdout","text":"\u001b[32m+     helm.sh/chart: estafette-cloudflare-dns-1.2.3\u001b[0m\n"},{"line":120,"timestamp":"2019-11-15T13:47:46.160376568Z","streamType":"stdout","text":"\u001b[32m+     app.kubernetes.io/instance: estafette-cloudflare-dns\u001b[0m\n"},{"line":121,"timestamp":"2019-11-15T13:47:46.160384652Z","streamType":"stdout","text":"\u001b[32m+     app.kubernetes.io/version: \"1.2.3\"\u001b[0m\n"},{"line":122,"timestamp":"2019-11-15T13:47:46.160393405Z","streamType":"stdout","text":"\u001b[32m+     app.kubernetes.io/managed-by: Tiller\u001b[0m\n"},{"line":123,"timestamp":"2019-11-15T13:47:46.160401608Z","streamType":"stdout","text":"\u001b[32m+ roleRef:\u001b[0m\n"},{"line":124,"timestamp":"2019-11-15T13:47:46.160409625Z","streamType":"stdout","text":"\u001b[32m+   apiGroup: rbac.authorization.k8s.io\u001b[0m\n"},{"line":125,"timestamp":"2019-11-15T13:47:46.160417566Z","streamType":"stdout","text":"\u001b[32m+   kind: ClusterRole\u001b[0m\n"},{"line":126,"timestamp":"2019-11-15T13:47:46.160428048Z","streamType":"stdout","text":"\u001b[32m+   name: estafette-cloudflare-dns\u001b[0m\n"},{"line":127,"timestamp":"2019-11-15T13:47:46.160476804Z","streamType":"stdout","text":"\u001b[32m+ subjects:\u001b[0m\n"},{"line":128,"timestamp":"2019-11-15T13:47:46.160497352Z","streamType":"stdout","text":"\u001b[32m+ - kind: ServiceAccount\u001b[0m\n"},{"line":129,"timestamp":"2019-11-15T13:47:46.160516664Z","streamType":"stdout","text":"\u001b[32m+   name: estafette-cloudflare-dns\u001b[0m\n"},{"line":130,"timestamp":"2019-11-15T13:47:46.160549853Z","streamType":"stdout","text":"\u001b[32m+   namespace: default\u001b[0m\n"},{"line":131,"timestamp":"2019-11-15T13:47:46.160567727Z","streamType":"stdout","text":"\u001b[33mdefault, estafette-cloudflare-dns, Deployment (apps) has been added:\u001b[0m\n"},{"line":132,"timestamp":"2019-11-15T13:47:46.160581867Z","streamType":"stdout","text":"\u001b[31m- \u001b[0m\n"},{"line":133,"timestamp":"2019-11-15T13:47:46.160599949Z","streamType":"stdout","text":"\u001b[32m+ # Source: estafette-cloudflare-dns/templates/deployment.yaml\u001b[0m\n"},{"line":134,"timestamp":"2019-11-15T13:47:46.160613101Z","streamType":"stdout","text":"\u001b[32m+ apiVersion: apps/v1\u001b[0m\n"},{"line":135,"timestamp":"2019-11-15T13:47:46.160628879Z","streamType":"stdout","text":"\u001b[32m+ kind: Deployment\u001b[0m\n"},{"line":136,"timestamp":"2019-11-15T13:47:46.160647281Z","streamType":"stdout","text":"\u001b[32m+ metadata:\u001b[0m\n"},{"line":137,"timestamp":"2019-11-15T13:47:46.160656751Z","streamType":"stdout","text":"\u001b[32m+   name: estafette-cloudflare-dns\u001b[0m\n"},{"line":138,"timestamp":"2019-11-15T13:47:46.16067243Z","streamType":"stdout","text":"\u001b[32m+   namespace: default\u001b[0m\n"},{"line":139,"timestamp":"2019-11-15T13:47:46.160685319Z","streamType":"stdout","text":"\u001b[32m+   labels:\u001b[0m\n"},{"line":140,"timestamp":"2019-11-15T13:47:46.160696865Z","streamType":"stdout","text":"\u001b[32m+     app.kubernetes.io/name: estafette-cloudflare-dns\u001b[0m\n"},{"line":141,"timestamp":"2019-11-15T13:47:46.160712871Z","streamType":"stdout","text":"\u001b[32m+     helm.sh/chart: estafette-cloudflare-dns-1.2.3\u001b[0m\n"},{"line":142,"timestamp":"2019-11-15T13:47:46.16072164Z","streamType":"stdout","text":"\u001b[32m+     app.kubernetes.io/instance: estafette-cloudflare-dns\u001b[0m\n"},{"line":143,"timestamp":"2019-11-15T13:47:46.160734007Z","streamType":"stdout","text":"\u001b[32m+     app.kubernetes.io/version: \"1.2.3\"\u001b[0m\n"},{"line":144,"timestamp":"2019-11-15T13:47:46.160747775Z","streamType":"stdout","text":"\u001b[32m+     app.kubernetes.io/managed-by: Tiller\u001b[0m\n"},{"line":145,"timestamp":"2019-11-15T13:47:46.160755273Z","streamType":"stdout","text":"\u001b[32m+ spec:\u001b[0m\n"},{"line":146,"timestamp":"2019-11-15T13:47:46.160768648Z","streamType":"stdout","text":"\u001b[32m+   replicas: 1\u001b[0m\n"},{"line":147,"timestamp":"2019-11-15T13:47:46.16078146Z","streamType":"stdout","text":"\u001b[32m+   strategy:\u001b[0m\n"},{"line":148,"timestamp":"2019-11-15T13:47:46.160889204Z","streamType":"stdout","text":"\u001b[32m+     type: Recreate\u001b[0m\n"},{"line":149,"timestamp":"2019-11-15T13:47:46.160897699Z","streamType":"stdout","text":"\u001b[32m+   selector:\u001b[0m\n"},{"line":150,"timestamp":"2019-11-15T13:47:46.160909259Z","streamType":"stdout","text":"\u001b[32m+     matchLabels:\u001b[0m\n"},{"line":151,"timestamp":"2019-11-15T13:47:46.160945545Z","streamType":"stdout","text":"\u001b[32m+       app.kubernetes.io/name: estafette-cloudflare-dns\u001b[0m\n"},{"line":152,"timestamp":"2019-11-15T13:47:46.160954315Z","streamType":"stdout","text":"\u001b[32m+       app.kubernetes.io/instance: estafette-cloudflare-dns\u001b[0m\n"},{"line":153,"timestamp":"2019-11-15T13:47:46.160963717Z","streamType":"stdout","text":"\u001b[32m+   template:\u001b[0m\n"},{"line":154,"timestamp":"2019-11-15T13:47:46.160971453Z","streamType":"stdout","text":"\u001b[32m+     metadata:\u001b[0m\n"},{"line":155,"timestamp":"2019-11-15T13:47:46.160979744Z","streamType":"stdout","text":"\u001b[32m+       labels:\u001b[0m\n"},{"line":156,"timestamp":"2019-11-15T13:47:46.160988177Z","streamType":"stdout","text":"\u001b[32m+         app.kubernetes.io/name: estafette-cloudflare-dns\u001b[0m\n"},{"line":157,"timestamp":"2019-11-15T13:47:46.161002636Z","streamType":"stdout","text":"\u001b[32m+         app.kubernetes.io/instance: estafette-cloudflare-dns\u001b[0m\n"},{"line":158,"timestamp":"2019-11-15T13:47:46.16102319Z","streamType":"stdout","text":"\u001b[32m+         app.kubernetes.io/version: \"1.2.3\"\u001b[0m\n"},{"line":159,"timestamp":"2019-11-15T13:47:46.161114675Z","streamType":"stdout","text":"\u001b[32m+       annotations:\u001b[0m\n"},{"line":160,"timestamp":"2019-11-15T13:47:46.161136775Z","streamType":"stdout","text":"\u001b[32m+         prometheus.io/scrape: \"true\"\u001b[0m\n"},{"line":161,"timestamp":"2019-11-15T13:47:46.161145211Z","streamType":"stdout","text":"\u001b[32m+         prometheus.io/port: \"9101\"\u001b[0m\n"},{"line":162,"timestamp":"2019-11-15T13:47:46.161158572Z","streamType":"stdout","text":"\u001b[32m+         checksum/secrets: 495437084151f1be11ddc8809b4b530f9867e58f6658eda8359fa317e39733ef\u001b[0m\n"},{"line":163,"timestamp":"2019-11-15T13:47:46.161174531Z","streamType":"stdout","text":"\u001b[32m+     spec:\u001b[0m\n"},{"line":164,"timestamp":"2019-11-15T13:47:46.161183483Z","streamType":"stdout","text":"\u001b[32m+       serviceAccountName: estafette-cloudflare-dns\u001b[0m\n"},{"line":165,"timestamp":"2019-11-15T13:47:46.161198621Z","streamType":"stdout","text":"\u001b[32m+       securityContext:\u001b[0m\n"},{"line":166,"timestamp":"2019-11-15T13:47:46.161210424Z","streamType":"stdout","text":"\u001b[32m+         {}\u001b[0m\n"},{"line":167,"timestamp":"2019-11-15T13:47:46.161224927Z","streamType":"stdout","text":"\u001b[32m+         \u001b[0m\n"},{"line":168,"timestamp":"2019-11-15T13:47:46.161238376Z","streamType":"stdout","text":"\u001b[32m+       containers:\u001b[0m\n"},{"line":169,"timestamp":"2019-11-15T13:47:46.161260186Z","streamType":"stdout","text":"\u001b[32m+         - name: estafette-cloudflare-dns\u001b[0m\n"},{"line":170,"timestamp":"2019-11-15T13:47:46.161273451Z","streamType":"stdout","text":"\u001b[32m+           securityContext:\u001b[0m\n"},{"line":171,"timestamp":"2019-11-15T13:47:46.161284025Z","streamType":"stdout","text":"\u001b[32m+             {}\u001b[0m\n"},{"line":172,"timestamp":"2019-11-15T13:47:46.161298238Z","streamType":"stdout","text":"\u001b[32m+             \u001b[0m\n"},{"line":173,"timestamp":"2019-11-15T13:47:46.161314477Z","streamType":"stdout","text":"\u001b[32m+           image: \"estafette/estafette-cloudflare-dns:1.2.3\"\u001b[0m\n"},{"line":174,"timestamp":"2019-11-15T13:47:46.161328101Z","streamType":"stdout","text":"\u001b[32m+           imagePullPolicy: IfNotPresent\u001b[0m\n"},{"line":175,"timestamp":"2019-11-15T13:47:46.161341142Z","streamType":"stdout","text":"\u001b[32m+           env:\u001b[0m\n"},{"line":176,"timestamp":"2019-11-15T13:47:46.161349151Z","streamType":"stdout","text":"\u001b[32m+             - name: \"CF_API_EMAIL\"\u001b[0m\n"},{"line":177,"timestamp":"2019-11-15T13:47:46.161360102Z","streamType":"stdout","text":"\u001b[32m+               valueFrom:\u001b[0m\n"},{"line":178,"timestamp":"2019-11-15T13:47:46.161373388Z","streamType":"stdout","text":"\u001b[32m+                 secretKeyRef:\u001b[0m\n"},{"line":179,"timestamp":"2019-11-15T13:47:46.161421092Z","streamType":"stdout","text":"\u001b[32m+                   name: estafette-cloudflare-dns\u001b[0m\n"},{"line":180,"timestamp":"2019-11-15T13:47:46.161430392Z","streamType":"stdout","text":"\u001b[32m+                   key: cloudflareApiEmail\u001b[0m\n"},{"line":181,"timestamp":"2019-11-15T13:47:46.161444904Z","streamType":"stdout","text":"\u001b[32m+             - name: \"CF_API_KEY\"\u001b[0m\n"},{"line":182,"timestamp":"2019-11-15T13:47:46.161455573Z","streamType":"stdout","text":"\u001b[32m+               valueFrom:\u001b[0m\n"},{"line":183,"timestamp":"2019-11-15T13:47:46.161478504Z","streamType":"stdout","text":"\u001b[32m+                 secretKeyRef:\u001b[0m\n"},{"line":184,"timestamp":"2019-11-15T13:47:46.161501236Z","streamType":"stdout","text":"\u001b[32m+                   name: estafette-cloudflare-dns\u001b[0m\n"},{"line":185,"timestamp":"2019-11-15T13:47:46.161525683Z","streamType":"stdout","text":"\u001b[32m+                   key: cloudflareApiKey\u001b[0m\n"},{"line":186,"timestamp":"2019-11-15T13:47:46.161536447Z","streamType":"stdout","text":"\u001b[32m+           ports:\u001b[0m\n"},{"line":187,"timestamp":"2019-11-15T13:47:46.161555974Z","streamType":"stdout","text":"\u001b[32m+             - name: metrics\u001b[0m\n"},{"line":188,"timestamp":"2019-11-15T13:47:46.161568675Z","streamType":"stdout","text":"\u001b[32m+               containerPort: 9101\u001b[0m\n"},{"line":189,"timestamp":"2019-11-15T13:47:46.161582637Z","streamType":"stdout","text":"\u001b[32m+               protocol: TCP\u001b[0m\n"},{"line":190,"timestamp":"2019-11-15T13:47:46.161596435Z","streamType":"stdout","text":"\u001b[32m+           livenessProbe:\u001b[0m\n"},{"line":191,"timestamp":"2019-11-15T13:47:46.161613061Z","streamType":"stdout","text":"\u001b[32m+             httpGet:\u001b[0m\n"},{"line":192,"timestamp":"2019-11-15T13:47:46.161626413Z","streamType":"stdout","text":"\u001b[32m+               path: /metrics\u001b[0m\n"},{"line":193,"timestamp":"2019-11-15T13:47:46.161635748Z","streamType":"stdout","text":"\u001b[32m+               port: metrics\u001b[0m\n"},{"line":194,"timestamp":"2019-11-15T13:47:46.161648034Z","streamType":"stdout","text":"\u001b[32m+             initialDelaySeconds: 30\u001b[0m\n"},{"line":195,"timestamp":"2019-11-15T13:47:46.161662883Z","streamType":"stdout","text":"\u001b[32m+             timeoutSeconds: 1\u001b[0m\n"},{"line":196,"timestamp":"2019-11-15T13:47:46.161675783Z","streamType":"stdout","text":"\u001b[32m+           resources:\u001b[0m\n"},{"line":197,"timestamp":"2019-11-15T13:47:46.161695653Z","streamType":"stdout","text":"\u001b[32m+             limits:\u001b[0m\n"},{"line":198,"timestamp":"2019-11-15T13:47:46.161704533Z","streamType":"stdout","text":"\u001b[32m+               cpu: 25m\u001b[0m\n"},{"line":199,"timestamp":"2019-11-15T13:47:46.161716891Z","streamType":"stdout","text":"\u001b[32m+               memory: 50Mi\u001b[0m\n"},{"line":200,"timestamp":"2019-11-15T13:47:46.161728652Z","streamType":"stdout","text":"\u001b[32m+             requests:\u001b[0m\n"},{"line":201,"timestamp":"2019-11-15T13:47:46.161750444Z","streamType":"stdout","text":"\u001b[32m+               cpu: 10m\u001b[0m\n"},{"line":202,"timestamp":"2019-11-15T13:47:46.161763091Z","streamType":"stdout","text":"\u001b[32m+               memory: 15Mi\u001b[0m\n"},{"line":203,"timestamp":"2019-11-15T13:47:46.161780082Z","streamType":"stdout","text":"\u001b[32m+             \u001b[0m\n"},{"line":204,"timestamp":"2019-11-15T13:47:46.161790807Z","streamType":"stdout","text":"\u001b[32m+       terminationGracePeriodSeconds: 300\u001b[0m\n"},{"line":205,"timestamp":"2019-11-15T13:47:46.161799788Z","streamType":"stdout","text":"\u001b[32m+       affinity:\u001b[0m\n"},{"line":206,"timestamp":"2019-11-15T13:47:46.161808524Z","streamType":"stdout","text":"\u001b[32m+         nodeAffinity:\u001b[0m\n"},{"line":207,"timestamp":"2019-11-15T13:47:46.161821444Z","streamType":"stdout","text":"\u001b[32m+           preferredDuringSchedulingIgnoredDuringExecution:\u001b[0m\n"},{"line":208,"timestamp":"2019-11-15T13:47:46.161848022Z","streamType":"stdout","text":"\u001b[32m+           - preference:\u001b[0m\n"},{"line":209,"timestamp":"2019-11-15T13:47:46.161861015Z","streamType":"stdout","text":"\u001b[32m+               matchExpressions:\u001b[0m\n"},{"line":210,"timestamp":"2019-11-15T13:47:46.161874309Z","streamType":"stdout","text":"\u001b[32m+               - key: cloud.google.com/gke-preemptible\u001b[0m\n"},{"line":211,"timestamp":"2019-11-15T13:47:46.161890612Z","streamType":"stdout","text":"\u001b[32m+                 operator: In\u001b[0m\n"},{"line":212,"timestamp":"2019-11-15T13:47:46.161899704Z","streamType":"stdout","text":"\u001b[32m+                 values:\u001b[0m\n"},{"line":213,"timestamp":"2019-11-15T13:47:46.161909787Z","streamType":"stdout","text":"\u001b[32m+                 - \"true\"\u001b[0m\n"},{"line":214,"timestamp":"2019-11-15T13:47:46.161918252Z","streamType":"stdout","text":"\u001b[32m+             weight: 10\u001b[0m\n"},{"line":215,"timestamp":"2019-11-15T13:47:46.164053719Z","streamType":"stdout","text":"\u001b[0m \n"},{"line":216,"timestamp":"2019-11-15T13:47:46.164115466Z","streamType":"stdout","text":"Installing chart file estafette-cloudflare-dns-1.2.3.tgz and waiting for 120s for it to be ready...\u001b[0m\n"},{"line":217,"timestamp":"2019-11-15T13:47:46.1641295Z","streamType":"stdout","text":"\u001b[38;5;250m \u003e helm upgrade --install estafette-cloudflare-dns estafette-cloudflare-dns-1.2.3.tgz -f override.yaml --wait --timeout 120\u001b[0m\n"},{"line":218,"timestamp":"2019-11-15T13:47:46.258121013Z","streamType":"stdout","text":"Release \"estafette-cloudflare-dns\" does not exist. Installing it now.\n"},{"line":219,"timestamp":"2019-11-15T13:48:12.365185757Z","streamType":"stdout","text":"NAME:   estafette-cloudflare-dns\n"},{"line":220,"timestamp":"2019-11-15T13:48:12.4112042Z","streamType":"stdout","text":"LAST DEPLOYED: Fri Nov 15 13:47:46 2019\n"},{"line":221,"timestamp":"2019-11-15T13:48:12.412114326Z","streamType":"stdout","text":"NAMESPACE: default\n"},{"line":222,"timestamp":"2019-11-15T13:48:12.412156907Z","streamType":"stdout","text":"STATUS: DEPLOYED\n"},{"line":223,"timestamp":"2019-11-15T13:48:12.412172902Z","streamType":"stdout","text":"\n"},{"line":224,"timestamp":"2019-11-15T13:48:12.412188455Z","streamType":"stdout","text":"RESOURCES:\n"},{"line":225,"timestamp":"2019-11-15T13:48:12.412198286Z","streamType":"stdout","text":"==\u003e v1/ClusterRole\n"},{"line":226,"timestamp":"2019-11-15T13:48:12.412218749Z","streamType":"stdout","text":"NAME                      AGE\n"},{"line":227,"timestamp":"2019-11-15T13:48:12.412498094Z","streamType":"stdout","text":"estafette-cloudflare-dns  26s\n"},{"line":228,"timestamp":"2019-11-15T13:48:12.412586214Z","streamType":"stdout","text":"\n"},{"line":229,"timestamp":"2019-11-15T13:48:12.412607632Z","streamType":"stdout","text":"==\u003e v1/ClusterRoleBinding\n"},{"line":230,"timestamp":"2019-11-15T13:48:12.412622882Z","streamType":"stdout","text":"NAME                      AGE\n"},{"line":231,"timestamp":"2019-11-15T13:48:12.412653877Z","streamType":"stdout","text":"estafette-cloudflare-dns  26s\n"},{"line":232,"timestamp":"2019-11-15T13:48:12.4126726Z","streamType":"stdout","text":"\n"},{"line":233,"timestamp":"2019-11-15T13:48:12.412697511Z","streamType":"stdout","text":"==\u003e v1/Deployment\n"},{"line":234,"timestamp":"2019-11-15T13:48:12.41271514Z","streamType":"stdout","text":"NAME                      AGE\n"},{"line":235,"timestamp":"2019-11-15T13:48:12.412734373Z","streamType":"stdout","text":"estafette-cloudflare-dns  26s\n"},{"line":236,"timestamp":"2019-11-15T13:48:12.41275231Z","streamType":"stdout","text":"\n"},{"line":237,"timestamp":"2019-11-15T13:48:12.412775515Z","streamType":"stdout","text":"==\u003e v1/Pod(related)\n"},{"line":238,"timestamp":"2019-11-15T13:48:12.412801246Z","streamType":"stdout","text":"NAME                                       AGE\n"},{"line":239,"timestamp":"2019-11-15T13:48:12.41281481Z","streamType":"stdout","text":"estafette-cloudflare-dns-7fb846c46d-2mp6d  12s\n"},{"line":240,"timestamp":"2019-11-15T13:48:12.412836495Z","streamType":"stdout","text":"\n"},{"line":241,"timestamp":"2019-11-15T13:48:12.412851279Z","streamType":"stdout","text":"==\u003e v1/Secret\n"},{"line":242,"timestamp":"2019-11-15T13:48:12.412862617Z","streamType":"stdout","text":"NAME                      AGE\n"},{"line":243,"timestamp":"2019-11-15T13:48:12.412876147Z","streamType":"stdout","text":"estafette-cloudflare-dns  26s\n"},{"line":244,"timestamp":"2019-11-15T13:48:12.412908616Z","streamType":"stdout","text":"\n"},{"line":245,"timestamp":"2019-11-15T13:48:12.412981991Z","streamType":"stdout","text":"==\u003e v1/ServiceAccount\n"},{"line":246,"timestamp":"2019-11-15T13:48:12.413007962Z","streamType":"stdout","text":"NAME                      AGE\n"},{"line":247,"timestamp":"2019-11-15T13:48:12.41302632Z","streamType":"stdout","text":"estafette-cloudflare-dns  26s\n"},{"line":248,"timestamp":"2019-11-15T13:48:12.413071592Z","streamType":"stdout","text":"\n"},{"line":249,"timestamp":"2019-11-15T13:48:12.413090025Z","streamType":"stdout","text":"\n"},{"line":250,"timestamp":"2019-11-15T13:48:12.413104816Z","streamType":"stdout","text":"NOTES:\n"},{"line":251,"timestamp":"2019-11-15T13:48:12.41311787Z","streamType":"stdout","text":"1. Get the application logs by running this command:\n"},{"line":252,"timestamp":"2019-11-15T13:48:12.413137624Z","streamType":"stdout","text":"kubectl logs -f -l app.kubernetes.io/name=estafette-cloudflare-dns,app.kubernetes.io/instance=estafette-cloudflare-dns -n default\n"},{"line":253,"timestamp":"2019-11-15T13:48:12.41518106Z","streamType":"stdout","text":"\u001b[0m \n"},{"line":254,"timestamp":"2019-11-15T13:48:12.415238725Z","streamType":"stdout","text":"Showing logs for container...\u001b[0m\n"},{"line":255,"timestamp":"2019-11-15T13:48:12.415257437Z","streamType":"stdout","text":"\u001b[38;5;250m \u003e kubectl logs -l app.kubernetes.io/instance=estafette-cloudflare-dns --all-containers=true%!(EXTRA string=estafette-cloudflare-dns)\u001b[0m\n"},{"line":256,"timestamp":"2019-11-15T13:48:12.4918058Z","streamType":"stderr","text":"Error: invalid argument \"true%!(EXTRA\" for \"--all-containers\" flag: strconv.ParseBool: parsing \"true%!(EXTRA\": invalid syntax\n"},{"line":257,"timestamp":"2019-11-15T13:48:12.493026164Z","streamType":"stderr","text":"\n"},{"line":258,"timestamp":"2019-11-15T13:48:12.4931466Z","streamType":"stderr","text":"\n"},{"line":259,"timestamp":"2019-11-15T13:48:12.493174373Z","streamType":"stderr","text":"Aliases:\n"},{"line":260,"timestamp":"2019-11-15T13:48:12.49325738Z","streamType":"stderr","text":"logs, log\n"},{"line":261,"timestamp":"2019-11-15T13:48:12.493285279Z","streamType":"stderr","text":"\n"},{"line":262,"timestamp":"2019-11-15T13:48:12.49329423Z","streamType":"stderr","text":"Examples:\n"},{"line":263,"timestamp":"2019-11-15T13:48:12.493307727Z","streamType":"stderr","text":"  # Return snapshot logs from pod nginx with only one container\n"},{"line":264,"timestamp":"2019-11-15T13:48:12.49332265Z","streamType":"stderr","text":"  kubectl logs nginx\n"},{"line":265,"timestamp":"2019-11-15T13:48:12.493336992Z","streamType":"stderr","text":"  \n"},{"line":266,"timestamp":"2019-11-15T13:48:12.493354635Z","streamType":"stderr","text":"  # Return snapshot logs from pod nginx with multi containers\n"},{"line":267,"timestamp":"2019-11-15T13:48:12.493362721Z","streamType":"stderr","text":"  kubectl logs nginx --all-containers=true\n"},{"line":268,"timestamp":"2019-11-15T13:48:12.493370121Z","streamType":"stderr","text":"  \n"},{"line":269,"timestamp":"2019-11-15T13:48:12.49339022Z","streamType":"stderr","text":"  # Return snapshot logs from all containers in pods defined by label app=nginx\n"},{"line":270,"timestamp":"2019-11-15T13:48:12.49341712Z","streamType":"stderr","text":"  kubectl logs -lapp=nginx --all-containers=true\n"},{"line":271,"timestamp":"2019-11-15T13:48:12.493438595Z","streamType":"stderr","text":"  \n"},{"line":272,"timestamp":"2019-11-15T13:48:12.493458651Z","streamType":"stderr","text":"  # Return snapshot of previous terminated ruby container logs from pod web-1\n"},{"line":273,"timestamp":"2019-11-15T13:48:12.49347091Z","streamType":"stderr","text":"  kubectl logs -p -c ruby web-1\n"},{"line":274,"timestamp":"2019-11-15T13:48:12.493479455Z","streamType":"stderr","text":"  \n"},{"line":275,"timestamp":"2019-11-15T13:48:12.493497622Z","streamType":"stderr","text":"  # Begin streaming the logs of the ruby container in pod web-1\n"},{"line":276,"timestamp":"2019-11-15T13:48:12.493507273Z","streamType":"stderr","text":"  kubectl logs -f -c ruby web-1\n"},{"line":277,"timestamp":"2019-11-15T13:48:12.493520314Z","streamType":"stderr","text":"  \n"},{"line":278,"timestamp":"2019-11-15T13:48:12.493530213Z","streamType":"stderr","text":"  # Begin streaming the logs from all containers in pods defined by label app=nginx\n"},{"line":279,"timestamp":"2019-11-15T13:48:12.493557641Z","streamType":"stderr","text":"  kubectl logs -f -lapp=nginx --all-containers=true\n"},{"line":280,"timestamp":"2019-11-15T13:48:12.493566824Z","streamType":"stderr","text":"  \n"},{"line":281,"timestamp":"2019-11-15T13:48:12.493575141Z","streamType":"stderr","text":"  # Display only the most recent 20 lines of output in pod nginx\n"},{"line":282,"timestamp":"2019-11-15T13:48:12.493589127Z","streamType":"stderr","text":"  kubectl logs --tail=20 nginx\n"},{"line":283,"timestamp":"2019-11-15T13:48:12.493600754Z","streamType":"stderr","text":"  \n"},{"line":284,"timestamp":"2019-11-15T13:48:12.493609528Z","streamType":"stderr","text":"  # Show all logs from pod nginx written in the last hour\n"},{"line":285,"timestamp":"2019-11-15T13:48:12.493626754Z","streamType":"stderr","text":"  kubectl logs --since=1h nginx\n"},{"line":286,"timestamp":"2019-11-15T13:48:12.493640708Z","streamType":"stderr","text":"  \n"},{"line":287,"timestamp":"2019-11-15T13:48:12.49365018Z","streamType":"stderr","text":"  # Return snapshot logs from first container of a job named hello\n"},{"line":288,"timestamp":"2019-11-15T13:48:12.493661674Z","streamType":"stderr","text":"  kubectl logs job/hello\n"},{"line":289,"timestamp":"2019-11-15T13:48:12.493676519Z","streamType":"stderr","text":"  \n"},{"line":290,"timestamp":"2019-11-15T13:48:12.493692077Z","streamType":"stderr","text":"  # Return snapshot logs from container nginx-1 of a deployment named nginx\n"},{"line":291,"timestamp":"2019-11-15T13:48:12.493705721Z","streamType":"stderr","text":"  kubectl logs deployment/nginx -c nginx-1\n"},{"line":292,"timestamp":"2019-11-15T13:48:12.493718088Z","streamType":"stderr","text":"\n"},{"line":293,"timestamp":"2019-11-15T13:48:12.493731564Z","streamType":"stderr","text":"Options:\n"},{"line":294,"timestamp":"2019-11-15T13:48:12.493778789Z","streamType":"stderr","text":"      --all-containers=false: Get all containers' logs in the pod(s).\n"},{"line":295,"timestamp":"2019-11-15T13:48:12.493798665Z","streamType":"stderr","text":"  -c, --container='': Print the logs of this container\n"},{"line":296,"timestamp":"2019-11-15T13:48:12.49381235Z","streamType":"stderr","text":"  -f, --follow=false: Specify if the logs should be streamed.\n"},{"line":297,"timestamp":"2019-11-15T13:48:12.493841529Z","streamType":"stderr","text":"      --ignore-errors=false: If watching / following pod logs, allow for any errors that occur to be non-fatal\n"},{"line":298,"timestamp":"2019-11-15T13:48:12.493857514Z","streamType":"stderr","text":"      --limit-bytes=0: Maximum bytes of logs to return. Defaults to no limit.\n"},{"line":299,"timestamp":"2019-11-15T13:48:12.49387142Z","streamType":"stderr","text":"      --max-log-requests=5: Specify maximum number of concurrent logs to follow when using by a selector. Defaults to 5.\n"},{"line":300,"timestamp":"2019-11-15T13:48:12.493886385Z","streamType":"stderr","text":"      --pod-running-timeout=20s: The length of time (like 5s, 2m, or 3h, higher than zero) to wait until at least one pod is running\n"},{"line":301,"timestamp":"2019-11-15T13:48:12.493896999Z","streamType":"stderr","text":"  -p, --previous=false: If true, print the logs for the previous instance of the container in a pod if it exists.\n"},{"line":302,"timestamp":"2019-11-15T13:48:12.493906604Z","streamType":"stderr","text":"  -l, --selector='': Selector (label query) to filter on.\n"},{"line":303,"timestamp":"2019-11-15T13:48:12.493916798Z","streamType":"stderr","text":"      --since=0s: Only return logs newer than a relative duration like 5s, 2m, or 3h. Defaults to all logs. Only one of since-time / since may be used.\n"},{"line":304,"timestamp":"2019-11-15T13:48:12.494050749Z","streamType":"stderr","text":"      --since-time='': Only return logs after a specific date (RFC3339). Defaults to all logs. Only one of since-time / since may be used.\n"},{"line":305,"timestamp":"2019-11-15T13:48:12.494075927Z","streamType":"stderr","text":"      --tail=-1: Lines of recent log file to display. Defaults to -1 with no selector, showing all log lines otherwise 10, if a selector is provided.\n"},{"line":306,"timestamp":"2019-11-15T13:48:12.494093064Z","streamType":"stderr","text":"      --timestamps=false: Include timestamps on each line in the log output\n"},{"line":307,"timestamp":"2019-11-15T13:48:12.494122592Z","streamType":"stderr","text":"\n"},{"line":308,"timestamp":"2019-11-15T13:48:12.494142345Z","streamType":"stderr","text":"Usage:\n"},{"line":309,"timestamp":"2019-11-15T13:48:12.494163325Z","streamType":"stderr","text":"  kubectl logs [-f] [-p] (POD | TYPE/NAME) [-c CONTAINER] [options]\n"},{"line":310,"timestamp":"2019-11-15T13:48:12.494181456Z","streamType":"stderr","text":"\n"},{"line":311,"timestamp":"2019-11-15T13:48:12.49420362Z","streamType":"stderr","text":"Use \"kubectl options\" for a list of global command-line options (applies to all commands).\n"},{"line":312,"timestamp":"2019-11-15T13:48:12.49422125Z","streamType":"stderr","text":"\n"},{"line":313,"timestamp":"2019-11-15T13:48:12.494234148Z","streamType":"stderr","text":"invalid argument \"true%!(EXTRA\" for \"--all-containers\" flag: strconv.ParseBool: parsing \"true%!(EXTRA\": invalid syntax\n"}],"exitCode":0,"status":"SUCCEEDED","services":[{"step":"kubernetes","image":{"name":"bsycorp/kind","tag":"latest-1.12","isPulled":false,"imageSize":938597805,"pullDuration":0,"isTrusted":true},"duration":40975259369,"logLines":[],"exitCode":0,"status":""}]},{"step":"clone-charts-repo","image":{"name":"extensions/git-clone","tag":"dev","isPulled":true,"imageSize":26411532,"pullDuration":0,"isTrusted":true},"duration":3695356676,"logLines":[{"line":1,"timestamp":"2019-11-15T13:48:13.757557926Z","streamType":"stdout","text":"Starting estafette-extension-git-clone version 0.1.70...\n"},{"line":2,"timestamp":"2019-11-15T13:48:13.757637546Z","streamType":"stdout","text":"Unmarshalling injected github api token credentials\n"},{"line":3,"timestamp":"2019-11-15T13:48:13.757651247Z","streamType":"stdout","text":"Cloning git repository helm-charts to branch master into subdir helm-charts with shallow clone is true and depth 50...\n"},{"line":4,"timestamp":"2019-11-15T13:48:13.75766718Z","streamType":"stderr","text":"Cloning into '/estafette-work/helm-charts'...\n"},{"line":5,"timestamp":"2019-11-15T13:48:16.210195678Z","streamType":"stdout","text":"Finished cloning git repository helm-charts to branch master into subdir helm-charts with shallow clone is true and depth 50\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"publish-helm-chart","image":{"name":"extensions/helm","tag":"dev","isPulled":true,"imageSize":397136256,"pullDuration":0,"isTrusted":true},"duration":4442206654,"logLines":[{"line":1,"timestamp":"2019-11-15T13:48:17.353202698Z","streamType":"stdout","text":"\u001b[1m Starting estafette-extension-helm version 0.1.82...\u001b[0m \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2019-11-13T13:53:29Z \u001b[36mgoVersion=\u001b[0mgo1.13.4 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m3baa835c3da425760f45db73411284566a862456\n"},{"line":2,"timestamp":"2019-11-15T13:48:17.353289425Z","streamType":"stdout","text":"\u001b[1m Unmarshalling parameters / custom properties...\u001b[0m\n"},{"line":3,"timestamp":"2019-11-15T13:48:17.353302969Z","streamType":"stdout","text":"\u001b[1m Setting defaults for parameters that are not set in the manifest...\u001b[0m\n"},{"line":4,"timestamp":"2019-11-15T13:48:17.353316662Z","streamType":"stdout","text":"\u001b[0m Publishing chart estafette-cloudflare-dns with app version 1.2.3 and version 1.2.3...\u001b[0m\n"},{"line":5,"timestamp":"2019-11-15T13:48:17.353326316Z","streamType":"stdout","text":"\u001b[38;5;250m \u003e mkdir -p helm-charts/charts\u001b[0m\n"},{"line":6,"timestamp":"2019-11-15T13:48:17.353339861Z","streamType":"stdout","text":"\u001b[38;5;250m \u003e cp estafette-cloudflare-dns-1.2.3.tgz helm-charts/charts\u001b[0m\n"},{"line":7,"timestamp":"2019-11-15T13:48:17.353369115Z","streamType":"stdout","text":"\u001b[0m \n"},{"line":8,"timestamp":"2019-11-15T13:48:17.353389995Z","streamType":"stdout","text":"Generating/updating index file for repository https://helm.estafette.io/...\u001b[0m\n"},{"line":9,"timestamp":"2019-11-15T13:48:17.353402158Z","streamType":"stdout","text":"\u001b[38;5;250m \u003e helm repo index --url https://helm.estafette.io/ .\u001b[0m\n"},{"line":10,"timestamp":"2019-11-15T13:48:17.460007023Z","streamType":"stdout","text":"\u001b[0m \n"},{"line":11,"timestamp":"2019-11-15T13:48:17.460081647Z","streamType":"stdout","text":"Pushing changes to repository...\u001b[0m\n"},{"line":12,"timestamp":"2019-11-15T13:48:17.460100665Z","streamType":"stdout","text":"\u001b[38;5;250m \u003e git config --global user.email 'bot@estafette.io'\u001b[0m\n"},{"line":13,"timestamp":"2019-11-15T13:48:17.462374943Z","streamType":"stdout","text":"\u001b[38;5;250m \u003e git config --global user.name 'estafette-bot'\u001b[0m\n"},{"line":14,"timestamp":"2019-11-15T13:48:17.464560166Z","streamType":"stdout","text":"\u001b[38;5;250m \u003e git status\u001b[0m\n"},{"line":15,"timestamp":"2019-11-15T13:48:17.469316805Z","streamType":"stdout","text":"On branch master\n"},{"line":16,"timestamp":"2019-11-15T13:48:17.469448084Z","streamType":"stdout","text":"Your branch is up to date with 'origin/master'.\n"},{"line":17,"timestamp":"2019-11-15T13:48:17.469479764Z","streamType":"stdout","text":"\n"},{"line":18,"timestamp":"2019-11-15T13:48:17.469495921Z","streamType":"stdout","text":"Changes not staged for commit:\n"},{"line":19,"timestamp":"2019-11-15T13:48:17.469505352Z","streamType":"stdout","text":"  (use \"git add \u003cfile\u003e...\" to update what will be committed)\n"},{"line":20,"timestamp":"2019-11-15T13:48:17.469514361Z","streamType":"stdout","text":"  (use \"git checkout -- \u003cfile\u003e...\" to discard changes in working directory)\n"},{"line":21,"timestamp":"2019-11-15T13:48:17.469529731Z","streamType":"stdout","text":"\n"},{"line":22,"timestamp":"2019-11-15T13:48:17.469540229Z","streamType":"stdout","text":"\tmodified:   charts/estafette-cloudflare-dns-1.2.3.tgz\n"},{"line":23,"timestamp":"2019-11-15T13:48:17.469549001Z","streamType":"stdout","text":"\tmodified:   index.yaml\n"},{"line":24,"timestamp":"2019-11-15T13:48:17.469574355Z","streamType":"stdout","text":"\n"},{"line":25,"timestamp":"2019-11-15T13:48:17.469602331Z","streamType":"stdout","text":"no changes added to commit (use \"git add\" and/or \"git commit -a\")\n"},{"line":26,"timestamp":"2019-11-15T13:48:17.46961767Z","streamType":"stdout","text":"\u001b[38;5;250m \u003e git add --all\u001b[0m\n"},{"line":27,"timestamp":"2019-11-15T13:48:17.474028018Z","streamType":"stdout","text":"\u001b[38;5;250m \u003e git commit --allow-empty -m 'estafette-cloudflare-dns v1.2.3'\u001b[0m\n"},{"line":28,"timestamp":"2019-11-15T13:48:17.483359637Z","streamType":"stdout","text":"[master aebb43f] 'estafette-cloudflare-dns v1.2.3'\n"},{"line":29,"timestamp":"2019-11-15T13:48:17.483705599Z","streamType":"stdout","text":" 2 files changed, 55 insertions(+), 55 deletions(-)\n"},{"line":30,"timestamp":"2019-11-15T13:48:17.483750261Z","streamType":"stdout","text":" rewrite charts/estafette-cloudflare-dns-1.2.3.tgz (97%)\n"},{"line":31,"timestamp":"2019-11-15T13:48:17.484169799Z","streamType":"stdout","text":"\u001b[38;5;250m \u003e git push origin master\u001b[0m\n"},{"line":32,"timestamp":"2019-11-15T13:48:20.642218813Z","streamType":"stderr","text":"To https://github.com/estafette/helm-charts\n"},{"line":33,"timestamp":"2019-11-15T13:48:20.64231342Z","streamType":"stderr","text":" ! [remote rejected] master -\u003e master (cannot lock ref 'refs/heads/master': is at f97476f2730ff298333591eb06a0c1dbc22d4b71 but expected a7c9d352a3ad3c806a13e9db83dcac7b07b00d24)\n"},{"line":34,"timestamp":"2019-11-15T13:48:20.642343971Z","streamType":"stderr","text":"error: failed to push some refs to 'https://x-access-token:v1.4cc2a7a730e4983f74fca03fa6a67b278607ff81@github.com/estafette/helm-charts'\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"slack-notify","image":{"name":"extensions/slack-build-status","tag":"dev","isPulled":false,"imageSize":10366077,"pullDuration":1908541791,"isTrusted":true},"duration":1419124783,"logLines":[{"line":1,"timestamp":"2019-11-15T13:48:23.76463211Z","streamType":"stdout","text":"Starting estafette-extension-slack-build-status version 0.1.57...\n"},{"line":2,"timestamp":"2019-11-15T13:48:23.764724796Z","streamType":"stdout","text":"Unmarshalling credentials...\n"},{"line":3,"timestamp":"2019-11-15T13:48:23.764746739Z","streamType":"stdout","text":"Checking if credential estafette exists...\n"},{"line":4,"timestamp":"2019-11-15T13:48:23.764758161Z","streamType":"stdout","text":"Checking credential slack-webhook-travix for workspace estafette...\n"},{"line":5,"timestamp":"2019-11-15T13:48:23.764772374Z","streamType":"stdout","text":"Checking credential slack-webhook-estafette for workspace estafette...\n"},{"line":6,"timestamp":"2019-11-15T13:48:23.764788539Z","streamType":"stdout","text":"Found credential slack-webhook-estafette for workspace estafette\n"},{"line":7,"timestamp":"2019-11-15T13:48:23.97102701Z","streamType":"stdout","text":"Finished estafette-extension-slack-build-status...\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"set-build-status","image":{"name":"extensions/github-status","tag":"dev","isPulled":true,"imageSize":10349120,"pullDuration":0,"isTrusted":true},"duration":1532398193,"logLines":[{"line":1,"timestamp":"2019-11-15T13:48:25.136240518Z","streamType":"stdout","text":"Starting estafette-extension-github-status version 0.1.38...\n"},{"line":2,"timestamp":"2019-11-15T13:48:25.13632256Z","streamType":"stdout","text":"Setting logs url https://estafette.travix.com/pipelines/github.com/estafette/estafette-cloudflare-dns/builds/503824748697354244/logs\n"},{"line":3,"timestamp":"2019-11-15T13:48:25.529500514Z","streamType":"stdout","text":"Received successful response for 'https://api.github.com/repos/estafette/estafette-cloudflare-dns/statuses/903796a8db20d174be0b79eeeef30f4db1883342' Github api call with status code 201\n"},{"line":4,"timestamp":"2019-11-15T13:48:25.529581864Z","streamType":"stdout","text":"Finished estafette-extension-github-status...\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true}]