[{"step":"builder-info","image":null,"duration":0,"logLines":[{"line":1,"timestamp":"2020-12-01T08:24:50.375630667Z","streamType":"stdout","text":"Starting \u001b[1mestafette-ci-builder\u001b[0m version \u001b[1m0.0.694\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-11-23T15:39:44Z \u001b[36mgoVersion=\u001b[0mgo1.15.1 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0mac1b178d10cb2786f826742eb3581c6bd30506ca"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true},{"step":"injected-before","image":null,"duration":6022041775,"logLines":null,"exitCode":0,"status":"SUCCEEDED","autoInjected":true,"nestedSteps":[{"step":"envvars","depth":1,"image":{"name":"extensions/envvars","tag":"stable","isPulled":false,"imageSize":11162435,"pullDuration":1853023036},"duration":1195408396,"logLines":[{"line":1,"timestamp":"2020-12-01T08:24:52.848069983Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-envvars\u001b[0m version \u001b[1m0.1.18\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-10-07T13:33:17Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m92bc989e787f7b74ced00345a2ceba7c01f3bcb9\n"},{"line":2,"timestamp":"2020-12-01T08:24:52.848089498Z","streamType":"stdout","text":"All available estafette environment variables; the _DNS_SAFE suffixed ones can be used to set dns labels. Since leading digits are not allowed some of them are empty.\n"},{"line":3,"timestamp":"2020-12-01T08:24:52.848091089Z","streamType":"stdout","text":"\n"},{"line":4,"timestamp":"2020-12-01T08:24:52.848093167Z","streamType":"stdout","text":"ESTAFETTE_BUILD_CURRENT_COUNTER: 10\n"},{"line":5,"timestamp":"2020-12-01T08:24:52.848094495Z","streamType":"stdout","text":"ESTAFETTE_BUILD_CURRENT_COUNTER_DNS_SAFE: \n"},{"line":6,"timestamp":"2020-12-01T08:24:52.848096283Z","streamType":"stdout","text":"ESTAFETTE_BUILD_DATETIME: 2020-12-01T08:24:50Z\n"},{"line":7,"timestamp":"2020-12-01T08:24:52.848155331Z","streamType":"stdout","text":"ESTAFETTE_BUILD_DATETIME_DNS_SAFE: t08-24-50z\n"},{"line":8,"timestamp":"2020-12-01T08:24:52.848157907Z","streamType":"stdout","text":"ESTAFETTE_BUILD_ID: 611911884556828682\n"},{"line":9,"timestamp":"2020-12-01T08:24:52.848159844Z","streamType":"stdout","text":"ESTAFETTE_BUILD_ID_DNS_SAFE: \n"},{"line":10,"timestamp":"2020-12-01T08:24:52.848161935Z","streamType":"stdout","text":"ESTAFETTE_BUILD_MAX_COUNTER: 10\n"},{"line":11,"timestamp":"2020-12-01T08:24:52.848163619Z","streamType":"stdout","text":"ESTAFETTE_BUILD_MAX_COUNTER_CURRENT_BRANCH: 10\n"},{"line":12,"timestamp":"2020-12-01T08:24:52.848165656Z","streamType":"stdout","text":"ESTAFETTE_BUILD_MAX_COUNTER_CURRENT_BRANCH_DNS_SAFE: \n"},{"line":13,"timestamp":"2020-12-01T08:24:52.84816725Z","streamType":"stdout","text":"ESTAFETTE_BUILD_MAX_COUNTER_DNS_SAFE: \n"},{"line":14,"timestamp":"2020-12-01T08:24:52.848168521Z","streamType":"stdout","text":"ESTAFETTE_BUILD_STATUS: succeeded\n"},{"line":15,"timestamp":"2020-12-01T08:24:52.848169679Z","streamType":"stdout","text":"ESTAFETTE_BUILD_STATUS_DNS_SAFE: succeeded\n"},{"line":16,"timestamp":"2020-12-01T08:24:52.848171278Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION: 1.2.10-main-141\n"},{"line":17,"timestamp":"2020-12-01T08:24:52.848172332Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_DNS_SAFE: main-141\n"},{"line":18,"timestamp":"2020-12-01T08:24:52.848176128Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_LABEL: main-10\n"},{"line":19,"timestamp":"2020-12-01T08:24:52.848177397Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_LABEL_DNS_SAFE: main-10\n"},{"line":20,"timestamp":"2020-12-01T08:24:52.848178346Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MAJOR: 1\n"},{"line":21,"timestamp":"2020-12-01T08:24:52.848179329Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MAJOR_DNS_SAFE: \n"},{"line":22,"timestamp":"2020-12-01T08:24:52.848180228Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MINOR: 2\n"},{"line":23,"timestamp":"2020-12-01T08:24:52.848181201Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MINOR_DNS_SAFE: \n"},{"line":24,"timestamp":"2020-12-01T08:24:52.848182177Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_PATCH: 10\n"},{"line":25,"timestamp":"2020-12-01T08:24:52.848183135Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_PATCH_DNS_SAFE: \n"},{"line":26,"timestamp":"2020-12-01T08:24:52.848185039Z","streamType":"stdout","text":"ESTAFETTE_CI_SERVER_BASE_URL: https://estafette.***.com/\n"},{"line":27,"timestamp":"2020-12-01T08:24:52.848187943Z","streamType":"stdout","text":"ESTAFETTE_CI_SERVER_BASE_URL_DNS_SAFE: https-estafette-***-com\n"},{"line":28,"timestamp":"2020-12-01T08:24:52.848189339Z","streamType":"stdout","text":"ESTAFETTE_EXTENSION_CUSTOM_PROPERTIES: {}\n"},{"line":29,"timestamp":"2020-12-01T08:24:52.848190573Z","streamType":"stdout","text":"ESTAFETTE_EXTENSION_CUSTOM_PROPERTIES_YAML: {}\n"},{"line":30,"timestamp":"2020-12-01T08:24:52.848191137Z","streamType":"stdout","text":"\n"},{"line":31,"timestamp":"2020-12-01T08:24:52.848192159Z","streamType":"stdout","text":"ESTAFETTE_GIT_BRANCH: main\n"},{"line":32,"timestamp":"2020-12-01T08:24:52.848192984Z","streamType":"stdout","text":"ESTAFETTE_GIT_BRANCH_DNS_SAFE: main\n"},{"line":33,"timestamp":"2020-12-01T08:24:52.848214846Z","streamType":"stdout","text":"ESTAFETTE_GIT_FULLNAME: estafette/estafette-cloudflare-dns\n"},{"line":34,"timestamp":"2020-12-01T08:24:52.848217793Z","streamType":"stdout","text":"ESTAFETTE_GIT_FULLNAME_DNS_SAFE: estafette-estafette-cloudflare-dns\n"},{"line":35,"timestamp":"2020-12-01T08:24:52.848219599Z","streamType":"stdout","text":"ESTAFETTE_GIT_NAME: estafette-cloudflare-dns\n"},{"line":36,"timestamp":"2020-12-01T08:24:52.848221759Z","streamType":"stdout","text":"ESTAFETTE_GIT_NAME_DNS_SAFE: estafette-cloudflare-dns\n"},{"line":37,"timestamp":"2020-12-01T08:24:52.848223962Z","streamType":"stdout","text":"ESTAFETTE_GIT_OWNER: estafette\n"},{"line":38,"timestamp":"2020-12-01T08:24:52.848243577Z","streamType":"stdout","text":"ESTAFETTE_GIT_OWNER_DNS_SAFE: estafette\n"},{"line":39,"timestamp":"2020-12-01T08:24:52.848245996Z","streamType":"stdout","text":"ESTAFETTE_GIT_REVISION: b723421a9b74664f5dbf52bff2b5dcdf623b67a5\n"},{"line":40,"timestamp":"2020-12-01T08:24:52.848248025Z","streamType":"stdout","text":"ESTAFETTE_GIT_REVISION_DNS_SAFE: b723421a9b74664f5dbf52bff2b5dcdf623b67a5\n"},{"line":41,"timestamp":"2020-12-01T08:24:52.848249329Z","streamType":"stdout","text":"ESTAFETTE_GIT_SOURCE: github.com\n"},{"line":42,"timestamp":"2020-12-01T08:24:52.848250433Z","streamType":"stdout","text":"ESTAFETTE_GIT_SOURCE_DNS_SAFE: github-com\n"},{"line":43,"timestamp":"2020-12-01T08:24:52.848252581Z","streamType":"stdout","text":"ESTAFETTE_LABEL_APP_GROUP: estafette-controllers\n"},{"line":44,"timestamp":"2020-12-01T08:24:52.848254351Z","streamType":"stdout","text":"ESTAFETTE_LABEL_APP_GROUP_DNS_SAFE: estafette-controllers\n"},{"line":45,"timestamp":"2020-12-01T08:24:52.848255399Z","streamType":"stdout","text":"ESTAFETTE_LABEL_LANGUAGE: golang\n"},{"line":46,"timestamp":"2020-12-01T08:24:52.848256393Z","streamType":"stdout","text":"ESTAFETTE_LABEL_LANGUAGE_DNS_SAFE: golang\n"},{"line":47,"timestamp":"2020-12-01T08:24:52.84825737Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TEAM: estafette-team\n"},{"line":48,"timestamp":"2020-12-01T08:24:52.848258332Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TEAM_DNS_SAFE: estafette-team\n"},{"line":49,"timestamp":"2020-12-01T08:24:52.848259362Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TYPE: service\n"},{"line":50,"timestamp":"2020-12-01T08:24:52.848260294Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TYPE_DNS_SAFE: service\n"},{"line":51,"timestamp":"2020-12-01T08:24:52.848261506Z","streamType":"stdout","text":"ESTAFETTE_LOG_FORMAT: console\n"},{"line":52,"timestamp":"2020-12-01T08:24:52.848442086Z","streamType":"stdout","text":"ESTAFETTE_STAGES: [{\"Name\":\"injected-before\",\"ContainerImage\":\"\",\"Shell\":\"\",\"WorkingDirectory\":\"\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":[{\"Name\":\"git-clone\",\"ContainerImage\":\"extensions/git-clone:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":null},{\"Name\":\"set-pending-build-status\",\"ContainerImage\":\"extensions/github-status:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"status\":\"pending\"}},{\"Name\":\"envvars\",\"ContainerImage\":\"extensions/envvars:stable\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{}}],\"Services\":null,\"CustomProperties\":null},{\"Name\":\"build-lint-and-package\",\"ContainerImage\":\"\",\"Shell\":\"\",\"WorkingDirectory\":\"\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":[{\"Name\":\"build\",\"ContainerImage\":\"golang:1.15.5-alpine3.12\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":[\"go test ./...\",\"go build -a -installsuffix cgo -ldflags \\\"-X main.appgroup=estafette-controllers -X main.app=estafette-cloudflare-dns -X main.version=1.2.10-main-141 -X main.revision=b723421a9b74664f5dbf52bff2b5dcdf623b67a5 -X main.branch=main -X main.buildDate=2020-12-01T08:24:50Z\\\" -o ./publish/estafette-cloudflare-dns .\"],\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":{\"CGO_ENABLED\":\"0\",\"GOOS\":\"linux\"},\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{}},{\"Name\":\"lint-helm-chart\",\"ContainerImage\":\"extensions/helm:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"lint\"}},{\"Name\":\"package-helm-chart\",\"ContainerImage\":\"extensions/helm:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"package\"}}],\"Services\":null,\"CustomProperties\":{}},{\"Name\":\"bake\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"build\",\"copy\":[\"/etc/ssl/certs/ca-certificates.crt\"],\"path\":\"./publish\",\"repositories\":[\"estafette\"]}},{\"Name\":\"check-container\",\"ContainerImage\":\"\",\"Shell\":\"\",\"WorkingDirectory\":\"\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":[{\"Name\":\"check-efficiency\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"dive\",\"repositories\":[\"estafette\"]}},{\"Name\":\"vulnerability-scan\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"trivy\",\"repositories\":[\"estafette\"]}}],\"Services\":null,\"CustomProperties\":{}},{\"Name\":\"push-to-docker-hub\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"push\",\"repositories\":[\"estafette\"]}},{\"Name\":\"test-helm-chart\",\"ContainerImage\":\"extensions/helm:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":[{\"Name\":\"kubernetes\",\"ContainerImage\":\"bsycorp/kind:latest-1.17\",\"Shell\":\"/bin/sh\",\"Commands\":null,\"RunCommandsInForeground\":false,\"MultiStage\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"Readiness\":{\"Path\":\"/kubernetes-ready\",\"TimeoutSeconds\":60,\"Port\":10080,\"Protocol\":\"http\",\"Hostname\":\"kubernetes\"},\"CustomProperties\":{}}],\"CustomProperties\":{\"action\":\"test\",\"values\":\"secret:\\n  cloudflareApiEmail: bot@estafette.io\\n  cloudflareApiKey: abc\\nimagePullSecret:\\n  registryURL: https://index.docker.io/v1/\\n  username: ***\\n  password: ***\"}},{\"Name\":\"clone-charts-repo\",\"ContainerImage\":\"extensions/git-clone:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"branch\":\"main\",\"repo\":\"helm-charts\"}},{\"Name\":\"publish-helm-chart\",\"ContainerImage\":\"extensions/helm:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"publish\",\"repoBranch\":\"main\"}},{\"Name\":\"slack-notify\",\"ContainerImage\":\"extensions/slack-build-status:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded' || status == 'failed'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"channels\":[\"#build-status\"],\"workspace\":\"estafette\"}},{\"Name\":\"injected-after\",\"ContainerImage\":\"\",\"Shell\":\"\",\"WorkingDirectory\":\"\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded' || status == 'failed'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":[{\"Name\":\"set-build-status\",\"ContainerImage\":\"extensions/github-status:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded' || status == 'failed'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":null}],\"Services\":null,\"CustomProperties\":null}]\n"},{"line":53,"timestamp":"2020-12-01T08:24:52.848445431Z","streamType":"stdout","text":"ESTAFETTE_STAGES_DNS_SAFE: name-injected-before-containerimage-shell-workingdirectory-comm\n"},{"line":54,"timestamp":"2020-12-01T08:24:52.848446598Z","streamType":"stdout","text":"ESTAFETTE_STAGE_NAME: envvars\n"},{"line":55,"timestamp":"2020-12-01T08:24:52.848448696Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_MANUAL_USER_ID: ***@***.com\n"},{"line":56,"timestamp":"2020-12-01T08:24:52.848450428Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_MANUAL_USER_ID_DNS_SAFE: ***-***-com\n"},{"line":57,"timestamp":"2020-12-01T08:24:52.848450961Z","streamType":"stdout","text":"\n"},{"line":58,"timestamp":"2020-12-01T08:24:52.848452677Z","streamType":"stdout","text":"All global envvars as defined in the manifest.\n"},{"line":59,"timestamp":"2020-12-01T08:24:52.848453375Z","streamType":"stdout","text":"\n"},{"line":60,"timestamp":"2020-12-01T08:24:52.848454125Z","streamType":"stdout","text":"HOME: /\n"},{"line":61,"timestamp":"2020-12-01T08:24:52.848455187Z","streamType":"stdout","text":"HOSTNAME: 20da271112ff\n"},{"line":62,"timestamp":"2020-12-01T08:24:52.848457167Z","streamType":"stdout","text":"PATH: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true},{"step":"git-clone","depth":1,"image":{"name":"extensions/git-clone","tag":"dev","isPulled":false,"imageSize":30942891,"pullDuration":2338588282,"isTrusted":true},"duration":3681506126,"logLines":[{"line":1,"timestamp":"2020-12-01T08:24:53.468667379Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-git-clone\u001b[0m version \u001b[1m0.1.85\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-10-04T09:18:50Z \u001b[36mgoVersion=\u001b[0mgo1.15.2 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m294f856e79dd08db39e4ba9c9184120b1b9cd5e9\n"},{"line":2,"timestamp":"2020-12-01T08:24:53.468682376Z","streamType":"stdout","text":"Unmarshalling injected github api token credentials\n"},{"line":3,"timestamp":"2020-12-01T08:24:53.468688789Z","streamType":"stdout","text":"Cloning git repository estafette-cloudflare-dns to branch main and revision b723421a9b74664f5dbf52bff2b5dcdf623b67a5 with shallow clone is true and depth 50...\n"},{"line":4,"timestamp":"2020-12-01T08:24:53.468694948Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e git clone --depth=50 --branch=main https://x-access-token:***@github.com/estafette/estafette-cloudflare-dns /estafette-work\u001b[0m\n"},{"line":5,"timestamp":"2020-12-01T08:24:53.468696925Z","streamType":"stderr","text":"Cloning into '/estafette-work'...\n"},{"line":6,"timestamp":"2020-12-01T08:24:56.04068174Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e git checkout --quiet --force b723421a9b74664f5dbf52bff2b5dcdf623b67a5\u001b[0m\n"},{"line":7,"timestamp":"2020-12-01T08:24:56.045363521Z","streamType":"stdout","text":"Finished cloning git repository estafette-cloudflare-dns to branch main and revision b723421a9b74664f5dbf52bff2b5dcdf623b67a5 with shallow clone is true and depth 50\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true},{"step":"set-pending-build-status","depth":1,"image":{"name":"extensions/github-status","tag":"dev","isPulled":false,"imageSize":12649209,"pullDuration":2474116732,"isTrusted":true},"duration":1441243412,"logLines":[{"line":1,"timestamp":"2020-12-01T08:24:53.552963952Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-github-status\u001b[0m version \u001b[1m0.1.47\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-09-25T07:47:26Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m6db9d43ca763f9104293785ed2c594320dd7946a\n"},{"line":2,"timestamp":"2020-12-01T08:24:53.552981724Z","streamType":"stdout","text":"Setting logs url https://estafette.***.com/pipelines/github.com/estafette/estafette-cloudflare-dns/builds/611911884556828682/logs\n"},{"line":3,"timestamp":"2020-12-01T08:24:53.946242539Z","streamType":"stdout","text":"Received successful response for 'https://api.github.com/repos/estafette/estafette-cloudflare-dns/statuses/b723421a9b74664f5dbf52bff2b5dcdf623b67a5' Github api call with status code 201\n"},{"line":4,"timestamp":"2020-12-01T08:24:53.946265681Z","streamType":"stdout","text":"Finished estafette-extension-github-status...\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true}]},{"step":"build-lint-and-package","image":null,"duration":46838789130,"logLines":null,"exitCode":0,"status":"SUCCEEDED","nestedSteps":[{"step":"package-helm-chart","depth":1,"image":{"name":"extensions/helm","tag":"dev","isPulled":false,"imageSize":743865801,"pullDuration":11570380858,"isTrusted":true},"duration":2067535508,"logLines":[{"line":1,"timestamp":"2020-12-01T08:25:09.508951083Z","streamType":"stdout","text":"Starting estafette-extension-helm version 0.1.155... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-11-02T08:28:12Z \u001b[36mgoVersion=\u001b[0mgo1.15 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0md45468c7cc2e8a7cd384e05175733b38dfa48d73\n"},{"line":2,"timestamp":"2020-12-01T08:25:09.508963941Z","streamType":"stdout","text":"Unmarshalling parameters / custom properties...\n"},{"line":3,"timestamp":"2020-12-01T08:25:09.508968719Z","streamType":"stdout","text":"Setting defaults for parameters that are not set in the manifest...\n"},{"line":4,"timestamp":"2020-12-01T08:25:09.508973316Z","streamType":"stdout","text":"Packaging chart estafette-cloudflare-dns with app version 1.2.10-main-141 and version 1.2.10-main-141...\n"},{"line":5,"timestamp":"2020-12-01T08:25:09.508987038Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e helm package --app-version 1.2.10-main-141 --version 1.2.10-main-141 --dependency-update helm/estafette-cloudflare-dns\u001b[0m\n"},{"line":6,"timestamp":"2020-12-01T08:25:09.564158851Z","streamType":"stdout","text":"Successfully packaged chart and saved it to: /estafette-work/estafette-cloudflare-dns-1.2.10-main-141.tgz\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"lint-helm-chart","depth":1,"image":{"name":"extensions/helm","tag":"dev","isPulled":false,"imageSize":743865801,"pullDuration":11570011113,"isTrusted":true},"duration":2141606135,"logLines":[{"line":1,"timestamp":"2020-12-01T08:25:09.552595512Z","streamType":"stdout","text":"Starting estafette-extension-helm version 0.1.155... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-11-02T08:28:12Z \u001b[36mgoVersion=\u001b[0mgo1.15 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0md45468c7cc2e8a7cd384e05175733b38dfa48d73\n"},{"line":2,"timestamp":"2020-12-01T08:25:09.55260608Z","streamType":"stdout","text":"Unmarshalling parameters / custom properties...\n"},{"line":3,"timestamp":"2020-12-01T08:25:09.552609519Z","streamType":"stdout","text":"Setting defaults for parameters that are not set in the manifest...\n"},{"line":4,"timestamp":"2020-12-01T08:25:09.552623063Z","streamType":"stdout","text":"Linting chart estafette-cloudflare-dns...\n"},{"line":5,"timestamp":"2020-12-01T08:25:09.552626842Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e helm lint helm/estafette-cloudflare-dns\u001b[0m\n"},{"line":6,"timestamp":"2020-12-01T08:25:09.607844962Z","streamType":"stdout","text":"==\u003e Linting helm/estafette-cloudflare-dns\n"},{"line":7,"timestamp":"2020-12-01T08:25:09.607860387Z","streamType":"stdout","text":"\n"},{"line":8,"timestamp":"2020-12-01T08:25:09.607864122Z","streamType":"stdout","text":"1 chart(s) linted, 0 chart(s) failed\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"build","depth":1,"image":{"name":"golang","tag":"1.15.5-alpine3.12","isPulled":false,"imageSize":298827624,"pullDuration":7379415960},"duration":39456576483,"logLines":[{"line":1,"timestamp":"2020-12-01T08:25:09.489288797Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e go test ./... \u0026\u001b[0m\n"},{"line":2,"timestamp":"2020-12-01T08:25:09.867249747Z","streamType":"stderr","text":"go: downloading github.com/prometheus/client_golang v0.9.2\n"},{"line":3,"timestamp":"2020-12-01T08:25:09.867266674Z","streamType":"stderr","text":"go: downloading k8s.io/client-go v0.17.0\n"},{"line":4,"timestamp":"2020-12-01T08:25:09.867586246Z","streamType":"stderr","text":"go: downloading k8s.io/apimachinery v0.17.0\n"},{"line":5,"timestamp":"2020-12-01T08:25:09.867933025Z","streamType":"stderr","text":"go: downloading github.com/rs/zerolog v1.17.2\n"},{"line":6,"timestamp":"2020-12-01T08:25:09.868355801Z","streamType":"stderr","text":"go: downloading github.com/alecthomas/kingpin v2.2.6+incompatible\n"},{"line":7,"timestamp":"2020-12-01T08:25:09.869765315Z","streamType":"stderr","text":"go: downloading k8s.io/api v0.17.0\n"},{"line":8,"timestamp":"2020-12-01T08:25:09.869788704Z","streamType":"stderr","text":"go: downloading github.com/stretchr/testify v1.4.0\n"},{"line":9,"timestamp":"2020-12-01T08:25:09.872114968Z","streamType":"stderr","text":"go: downloading github.com/estafette/estafette-foundation v0.0.62\n"},{"line":10,"timestamp":"2020-12-01T08:25:09.895390616Z","streamType":"stderr","text":"go: downloading github.com/uber/jaeger-client-go v2.20.1+incompatible\n"},{"line":11,"timestamp":"2020-12-01T08:25:09.90628292Z","streamType":"stderr","text":"go: downloading github.com/alecthomas/units v0.0.0-20151022065526-2efee857e7cf\n"},{"line":12,"timestamp":"2020-12-01T08:25:09.916631849Z","streamType":"stderr","text":"go: downloading github.com/pmezard/go-difflib v1.0.0\n"},{"line":13,"timestamp":"2020-12-01T08:25:09.925221876Z","streamType":"stderr","text":"go: downloading github.com/alecthomas/template v0.0.0-20160405071501-a0175ee3bccc\n"},{"line":14,"timestamp":"2020-12-01T08:25:09.935350741Z","streamType":"stderr","text":"go: downloading github.com/beorn7/perks v0.0.0-20180321164747-3a771d992973\n"},{"line":15,"timestamp":"2020-12-01T08:25:09.955756589Z","streamType":"stderr","text":"go: downloading github.com/prometheus/procfs v0.0.0-20190117184657-bf6a532e95b1\n"},{"line":16,"timestamp":"2020-12-01T08:25:09.959733088Z","streamType":"stderr","text":"go: downloading github.com/google/uuid v1.1.1\n"},{"line":17,"timestamp":"2020-12-01T08:25:09.991451604Z","streamType":"stderr","text":"go: downloading github.com/prometheus/common v0.2.0\n"},{"line":18,"timestamp":"2020-12-01T08:25:10.002620056Z","streamType":"stderr","text":"go: downloading github.com/prometheus/client_model v0.0.0-20190812154241-14fe0d1b01d4\n"},{"line":19,"timestamp":"2020-12-01T08:25:10.002947019Z","streamType":"stderr","text":"go: downloading github.com/fsnotify/fsnotify v1.4.7\n"},{"line":20,"timestamp":"2020-12-01T08:25:10.03354146Z","streamType":"stderr","text":"go: downloading github.com/stretchr/objx v0.1.1\n"},{"line":21,"timestamp":"2020-12-01T08:25:10.042053195Z","streamType":"stderr","text":"go: downloading github.com/opentracing/opentracing-go v1.1.0\n"},{"line":22,"timestamp":"2020-12-01T08:25:10.048261833Z","streamType":"stderr","text":"go: downloading gopkg.in/yaml.v2 v2.2.4\n"},{"line":23,"timestamp":"2020-12-01T08:25:10.058132968Z","streamType":"stderr","text":"go: downloading github.com/logrusorgru/aurora v0.0.0-20191116043053-66b7ad493a23\n"},{"line":24,"timestamp":"2020-12-01T08:25:10.065745344Z","streamType":"stderr","text":"go: downloading github.com/davecgh/go-spew v1.1.1\n"},{"line":25,"timestamp":"2020-12-01T08:25:10.092676027Z","streamType":"stderr","text":"go: downloading github.com/golang/protobuf v1.3.5\n"},{"line":26,"timestamp":"2020-12-01T08:25:10.094757165Z","streamType":"stderr","text":"go: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n"},{"line":27,"timestamp":"2020-12-01T08:25:10.09508513Z","streamType":"stderr","text":"go: downloading github.com/pkg/errors v0.8.1\n"},{"line":28,"timestamp":"2020-12-01T08:25:10.111921707Z","streamType":"stderr","text":"go: downloading k8s.io/klog v1.0.0\n"},{"line":29,"timestamp":"2020-12-01T08:25:10.112689923Z","streamType":"stderr","text":"go: downloading github.com/google/gofuzz v1.0.0\n"},{"line":30,"timestamp":"2020-12-01T08:25:10.118024032Z","streamType":"stderr","text":"go: downloading github.com/gogo/protobuf v1.2.2-0.20190723190241-65acae22fc9d\n"},{"line":31,"timestamp":"2020-12-01T08:25:10.126138807Z","streamType":"stderr","text":"go: downloading go.uber.org/atomic v1.5.1\n"},{"line":32,"timestamp":"2020-12-01T08:25:10.135501606Z","streamType":"stderr","text":"go: downloading github.com/uber/jaeger-lib v2.2.0+incompatible\n"},{"line":33,"timestamp":"2020-12-01T08:25:10.168211369Z","streamType":"stderr","text":"go: downloading gopkg.in/inf.v0 v0.9.1\n"},{"line":34,"timestamp":"2020-12-01T08:25:10.192041147Z","streamType":"stderr","text":"go: downloading golang.org/x/sys v0.0.0-20200331124033-c3d80250170d\n"},{"line":35,"timestamp":"2020-12-01T08:25:10.20473148Z","streamType":"stderr","text":"go: downloading golang.org/x/net v0.0.0-20200226121028-0de0cce0169b\n"},{"line":36,"timestamp":"2020-12-01T08:25:10.519099692Z","streamType":"stderr","text":"go: downloading k8s.io/utils v0.0.0-20191114184206-e782cd3c129f\n"},{"line":37,"timestamp":"2020-12-01T08:25:10.519344308Z","streamType":"stderr","text":"go: downloading golang.org/x/text v0.3.2\n"},{"line":38,"timestamp":"2020-12-01T08:25:10.521300943Z","streamType":"stderr","text":"go: downloading golang.org/x/crypto v0.0.0-20191011191535-87dc89f01550\n"},{"line":39,"timestamp":"2020-12-01T08:25:10.521863716Z","streamType":"stderr","text":"go: downloading golang.org/x/time v0.0.0-20190308202827-9d24e82272b4\n"},{"line":40,"timestamp":"2020-12-01T08:25:10.526163363Z","streamType":"stderr","text":"go: downloading golang.org/x/oauth2 v0.0.0-20190604053449-0f29369cfe45\n"},{"line":41,"timestamp":"2020-12-01T08:25:10.545496957Z","streamType":"stderr","text":"go: downloading github.com/json-iterator/go v1.1.8\n"},{"line":42,"timestamp":"2020-12-01T08:25:10.562578873Z","streamType":"stderr","text":"go: downloading github.com/google/go-cmp v0.3.0\n"},{"line":43,"timestamp":"2020-12-01T08:25:10.56394121Z","streamType":"stderr","text":"go: downloading github.com/hashicorp/golang-lru v0.5.1\n"},{"line":44,"timestamp":"2020-12-01T08:25:10.576125353Z","streamType":"stderr","text":"go: downloading sigs.k8s.io/yaml v1.1.0\n"},{"line":45,"timestamp":"2020-12-01T08:25:10.584220658Z","streamType":"stderr","text":"go: downloading github.com/googleapis/gnostic v0.0.0-20170729233727-0c5108395e2d\n"},{"line":46,"timestamp":"2020-12-01T08:25:10.584240111Z","streamType":"stderr","text":"go: downloading github.com/modern-go/reflect2 v1.0.1\n"},{"line":47,"timestamp":"2020-12-01T08:25:10.603677193Z","streamType":"stderr","text":"go: downloading github.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd\n"},{"line":48,"timestamp":"2020-12-01T08:25:25.828128152Z","streamType":"stdout","text":"ok  \tgithub.com/estafette/estafette-cloudflare-dns\t0.025s\n"},{"line":49,"timestamp":"2020-12-01T08:25:25.964185369Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e go build -a -installsuffix cgo -ldflags \"-X main.appgroup=estafette-controllers -X main.app=estafette-cloudflare-dns -X main.version=1.2.10-main-141 -X main.revision=b723421a9b74664f5dbf52bff2b5dcdf623b67a5 -X main.branch=main -X main.buildDate=2020-12-01T08:24:50Z\" -o ./publish/estafette-cloudflare-dns .\u001b[0m\n"}],"exitCode":0,"status":"SUCCEEDED"}]},{"step":"bake","image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":343411626,"pullDuration":4215640983,"isTrusted":true},"duration":10312158600,"logLines":[{"line":1,"timestamp":"2020-12-01T08:25:49.118702738Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-docker\u001b[0m version \u001b[1m0.1.199\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-10-21T08:01:24Z \u001b[36mgoVersion=\u001b[0mgo1.15.3 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m64d36b7d04413a0c1d0c40673dcb55799bb55723\n"},{"line":2,"timestamp":"2020-12-01T08:25:49.118712613Z","streamType":"stdout","text":"Ensuring build directory ./publish exists\n"},{"line":3,"timestamp":"2020-12-01T08:25:49.118715765Z","streamType":"stdout","text":"Copying file /etc/ssl/certs/ca-certificates.crt to ./publish\n"},{"line":4,"timestamp":"2020-12-01T08:25:49.118717347Z","streamType":"stdout","text":"Reading dockerfile content from Dockerfile...\n"},{"line":5,"timestamp":"2020-12-01T08:25:49.118719291Z","streamType":"stdout","text":"Expanding environment variables in Dockerfile...\n"},{"line":6,"timestamp":"2020-12-01T08:25:49.118721272Z","streamType":"stdout","text":"Writing Dockerfile to publish/Dockerfile...\n"},{"line":7,"timestamp":"2020-12-01T08:25:49.118722911Z","streamType":"stdout","text":"Listing directory ./publish content\n"},{"line":8,"timestamp":"2020-12-01T08:25:49.118733728Z","streamType":"stdout","text":"- Dockerfile\n"},{"line":9,"timestamp":"2020-12-01T08:25:49.118735021Z","streamType":"stdout","text":"- ca-certificates.crt\n"},{"line":10,"timestamp":"2020-12-01T08:25:49.11873649Z","streamType":"stdout","text":"- estafette-cloudflare-dns\n"},{"line":11,"timestamp":"2020-12-01T08:25:49.118740076Z","streamType":"stdout","text":"Filtering credentials for images [estafette/estafette-cloudflare-dns:1.2.10-main-141]\n"},{"line":12,"timestamp":"2020-12-01T08:25:49.11874257Z","streamType":"stdout","text":"Filtered 10 container-registry credentials down to 1\n"},{"line":13,"timestamp":"2020-12-01T08:25:49.11874414Z","streamType":"stdout","text":"Logging in to repository 'estafette'\n"},{"line":14,"timestamp":"2020-12-01T08:25:50.265489582Z","streamType":"stdout","text":"Pulling docker image estafette/estafette-cloudflare-dns:cache-main to use as cache during build...\n"},{"line":15,"timestamp":"2020-12-01T08:25:50.265510266Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e docker pull estafette/estafette-cloudflare-dns:cache-main\u001b[0m\n"},{"line":16,"timestamp":"2020-12-01T08:25:51.546872411Z","streamType":"stdout","text":"cache-main: Pulling from estafette/estafette-cloudflare-dns\n"},{"line":17,"timestamp":"2020-12-01T08:25:51.546891954Z","streamType":"stdout","text":"92ce217928b8: Pulling fs layer\n"},{"line":18,"timestamp":"2020-12-01T08:25:51.546894442Z","streamType":"stdout","text":"2638ad7a0552: Pulling fs layer\n"},{"line":19,"timestamp":"2020-12-01T08:25:51.974377215Z","streamType":"stdout","text":"92ce217928b8: Download complete\n"},{"line":20,"timestamp":"2020-12-01T08:25:52.054565991Z","streamType":"stdout","text":"92ce217928b8: Pull complete\n"},{"line":21,"timestamp":"2020-12-01T08:25:52.108891469Z","streamType":"stdout","text":"2638ad7a0552: Verifying Checksum\n"},{"line":22,"timestamp":"2020-12-01T08:25:52.108905458Z","streamType":"stdout","text":"2638ad7a0552: Download complete\n"},{"line":23,"timestamp":"2020-12-01T08:25:52.419672864Z","streamType":"stdout","text":"2638ad7a0552: Pull complete\n"},{"line":24,"timestamp":"2020-12-01T08:25:52.425885886Z","streamType":"stdout","text":"Digest: sha256:a450cfbb0ddfd51de25a5b5b565bd9c272421b5a5183c1145a249f76ab4d3158\n"},{"line":25,"timestamp":"2020-12-01T08:25:52.429996465Z","streamType":"stdout","text":"Status: Downloaded newer image for estafette/estafette-cloudflare-dns:cache-main\n"},{"line":26,"timestamp":"2020-12-01T08:25:52.430095291Z","streamType":"stdout","text":"docker.io/estafette/estafette-cloudflare-dns:cache-main\n"},{"line":27,"timestamp":"2020-12-01T08:25:52.43212017Z","streamType":"stdout","text":"Building docker image estafette/estafette-cloudflare-dns:1.2.10-main-141...\n"},{"line":28,"timestamp":"2020-12-01T08:25:52.432129081Z","streamType":"stdout","text":"\n"},{"line":29,"timestamp":"2020-12-01T08:25:52.432131105Z","streamType":"stdout","text":"FROM scratch\n"},{"line":30,"timestamp":"2020-12-01T08:25:52.432132032Z","streamType":"stdout","text":"\n"},{"line":31,"timestamp":"2020-12-01T08:25:52.432134527Z","streamType":"stdout","text":"LABEL maintainer=\"estafette.io\" \\\n"},{"line":32,"timestamp":"2020-12-01T08:25:52.432141098Z","streamType":"stdout","text":"      description=\"The estafette-cloudflare-dns component is a Kubernetes controller that sets dns records in Cloudflare for annotated Kubernetes services and ingresses\"\n"},{"line":33,"timestamp":"2020-12-01T08:25:52.432141821Z","streamType":"stdout","text":"\n"},{"line":34,"timestamp":"2020-12-01T08:25:52.432143718Z","streamType":"stdout","text":"COPY ca-certificates.crt /etc/ssl/certs/\n"},{"line":35,"timestamp":"2020-12-01T08:25:52.43214573Z","streamType":"stdout","text":"COPY estafette-cloudflare-dns /\n"},{"line":36,"timestamp":"2020-12-01T08:25:52.432146261Z","streamType":"stdout","text":"\n"},{"line":37,"timestamp":"2020-12-01T08:25:52.432161849Z","streamType":"stdout","text":"ENTRYPOINT [\"/estafette-cloudflare-dns\"]\n"},{"line":38,"timestamp":"2020-12-01T08:25:52.432162446Z","streamType":"stdout","text":"\n"},{"line":39,"timestamp":"2020-12-01T08:25:52.432163099Z","streamType":"stdout","text":"\n"},{"line":40,"timestamp":"2020-12-01T08:25:52.432180312Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e docker build --tag estafette/estafette-cloudflare-dns:cache-main --tag estafette/estafette-cloudflare-dns:1.2.10-main-141 --cache-from estafette/estafette-cloudflare-dns:cache-main --file publish/Dockerfile ./publish\u001b[0m\n"},{"line":41,"timestamp":"2020-12-01T08:25:52.675560975Z","streamType":"stdout","text":"Sending build context to Docker daemon  39.83MB\r\r\n"},{"line":42,"timestamp":"2020-12-01T08:25:52.685854691Z","streamType":"stdout","text":"Step 1/5 : FROM scratch\n"},{"line":43,"timestamp":"2020-12-01T08:25:52.685867771Z","streamType":"stdout","text":" ---\u003e \n"},{"line":44,"timestamp":"2020-12-01T08:25:52.685879338Z","streamType":"stdout","text":"Step 2/5 : LABEL maintainer=\"estafette.io\"       description=\"The estafette-cloudflare-dns component is a Kubernetes controller that sets dns records in Cloudflare for annotated Kubernetes services and ingresses\"\n"},{"line":45,"timestamp":"2020-12-01T08:25:52.691541138Z","streamType":"stdout","text":" ---\u003e Using cache\n"},{"line":46,"timestamp":"2020-12-01T08:25:52.691552214Z","streamType":"stdout","text":" ---\u003e 6508e10891c3\n"},{"line":47,"timestamp":"2020-12-01T08:25:52.691556015Z","streamType":"stdout","text":"Step 3/5 : COPY ca-certificates.crt /etc/ssl/certs/\n"},{"line":48,"timestamp":"2020-12-01T08:25:52.696072698Z","streamType":"stdout","text":" ---\u003e Using cache\n"},{"line":49,"timestamp":"2020-12-01T08:25:52.696083691Z","streamType":"stdout","text":" ---\u003e aaf9f7be9bed\n"},{"line":50,"timestamp":"2020-12-01T08:25:52.696086617Z","streamType":"stdout","text":"Step 4/5 : COPY estafette-cloudflare-dns /\n"},{"line":51,"timestamp":"2020-12-01T08:25:53.688281047Z","streamType":"stdout","text":" ---\u003e 0cf4f3c8b82b\n"},{"line":52,"timestamp":"2020-12-01T08:25:53.688299769Z","streamType":"stdout","text":"Step 5/5 : ENTRYPOINT [\"/estafette-cloudflare-dns\"]\n"},{"line":53,"timestamp":"2020-12-01T08:25:53.730533252Z","streamType":"stdout","text":" ---\u003e Running in 09a060a5aba9\n"},{"line":54,"timestamp":"2020-12-01T08:25:53.845887794Z","streamType":"stdout","text":"Removing intermediate container 09a060a5aba9\n"},{"line":55,"timestamp":"2020-12-01T08:25:53.845902748Z","streamType":"stdout","text":" ---\u003e 0ae4739116ae\n"},{"line":56,"timestamp":"2020-12-01T08:25:53.851669716Z","streamType":"stdout","text":"Successfully built 0ae4739116ae\n"},{"line":57,"timestamp":"2020-12-01T08:25:53.858250869Z","streamType":"stdout","text":"Successfully tagged estafette/estafette-cloudflare-dns:cache-main\n"},{"line":58,"timestamp":"2020-12-01T08:25:53.863304167Z","streamType":"stdout","text":"Successfully tagged estafette/estafette-cloudflare-dns:1.2.10-main-141\n"},{"line":59,"timestamp":"2020-12-01T08:25:53.865007087Z","streamType":"stdout","text":"Updating trivy vulnerabilities database...\n"},{"line":60,"timestamp":"2020-12-01T08:25:53.865022418Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e /trivy --cache-dir /trivy-cache image --light --download-db-only estafette/estafette-cloudflare-dns:1.2.10-main-141\u001b[0m\n"},{"line":61,"timestamp":"2020-12-01T08:25:53.892627908Z","streamType":"stdout","text":"2020-12-01T08:25:53.891Z\t\u001b[34mINFO\u001b[0m\tUse your github token\n"},{"line":62,"timestamp":"2020-12-01T08:25:53.89272964Z","streamType":"stdout","text":"2020-12-01T08:25:53.892Z\t\u001b[34mINFO\u001b[0m\tNeed to update DB\n"},{"line":63,"timestamp":"2020-12-01T08:25:53.892734413Z","streamType":"stdout","text":"2020-12-01T08:25:53.892Z\t\u001b[34mINFO\u001b[0m\tDownloading DB...\n"},{"line":64,"timestamp":"2020-12-01T08:25:56.980587085Z","streamType":"stdout","text":"Saving docker image to file for scanning...\n"},{"line":65,"timestamp":"2020-12-01T08:25:56.980608505Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e docker save estafette/estafette-cloudflare-dns:1.2.10-main-141 -o /tmp/150901185.tar\u001b[0m\n"},{"line":66,"timestamp":"2020-12-01T08:25:57.345596467Z","streamType":"stdout","text":"Scanning container image estafette/estafette-cloudflare-dns:1.2.10-main-141 for vulnerabilities of severities CRITICAL...\n"},{"line":67,"timestamp":"2020-12-01T08:25:57.345618252Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e /trivy --cache-dir /trivy-cache image --severity CRITICAL --light --skip-update --no-progress --exit-code 15 --ignore-unfixed --input /tmp/150901185.tar\u001b[0m\n"},{"line":68,"timestamp":"2020-12-01T08:25:57.384973413Z","streamType":"stdout","text":"2020-12-01T08:25:57.384Z\t\u001b[34mINFO\u001b[0m\tUse your github token\n"},{"line":69,"timestamp":"2020-12-01T08:25:57.411753324Z","streamType":"stdout","text":"2020-12-01T08:25:57.411Z\t\u001b[33mWARN\u001b[0m\tOS is not detected and vulnerabilities in OS packages are not detected.\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"check-container","image":null,"duration":4369355069,"logLines":null,"exitCode":0,"status":"SUCCEEDED","nestedSteps":[{"step":"check-efficiency","depth":1,"image":null,"duration":1153100630,"logLines":[{"line":1,"timestamp":"2020-12-01T08:25:58.314783076Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-docker\u001b[0m version \u001b[1m0.1.199\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-10-21T08:01:24Z \u001b[36mgoVersion=\u001b[0mgo1.15.3 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m64d36b7d04413a0c1d0c40673dcb55799bb55723\n"},{"line":2,"timestamp":"2020-12-01T08:25:58.314793414Z","streamType":"stdout","text":"Inspecting container image estafette/estafette-cloudflare-dns:1.2.10-main-141 layers...\n"},{"line":3,"timestamp":"2020-12-01T08:25:58.314796454Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e /dive estafette/estafette-cloudflare-dns:1.2.10-main-141\u001b[0m\n"},{"line":4,"timestamp":"2020-12-01T08:25:58.320326838Z","streamType":"stdout","text":"  Using default CI config\n"},{"line":5,"timestamp":"2020-12-01T08:25:58.320339693Z","streamType":"stdout","text":"\u001b[1mImage Source: \u001b[0mdocker://estafette/estafette-cloudflare-dns:1.2.10-main-141\n"},{"line":6,"timestamp":"2020-12-01T08:25:58.320343158Z","streamType":"stdout","text":"\u001b[1mFetching image...\u001b[0m (this can take a while for large images)\n"},{"line":7,"timestamp":"2020-12-01T08:25:58.597622978Z","streamType":"stdout","text":"\u001b[1mAnalyzing image...\u001b[0m\n"},{"line":8,"timestamp":"2020-12-01T08:25:58.597642566Z","streamType":"stdout","text":"  efficiency: 100.0000 %\n"},{"line":9,"timestamp":"2020-12-01T08:25:58.597646591Z","streamType":"stdout","text":"  wastedBytes: 0 bytes (0 B)\n"},{"line":10,"timestamp":"2020-12-01T08:25:58.597648855Z","streamType":"stdout","text":"  userWastedPercent: 0.0000 %\n"},{"line":11,"timestamp":"2020-12-01T08:25:58.597660296Z","streamType":"stdout","text":"\u001b[1mInefficient Files:\u001b[0m\n"},{"line":12,"timestamp":"2020-12-01T08:25:58.597662913Z","streamType":"stdout","text":"Count  Wasted Space  File Path\n"},{"line":13,"timestamp":"2020-12-01T08:25:58.597664027Z","streamType":"stdout","text":"None\n"},{"line":14,"timestamp":"2020-12-01T08:25:58.597665486Z","streamType":"stdout","text":"\u001b[1mResults:\u001b[0m\n"},{"line":15,"timestamp":"2020-12-01T08:25:58.597668574Z","streamType":"stdout","text":"  PASS: highestUserWastedPercent\n"},{"line":16,"timestamp":"2020-12-01T08:25:58.597672028Z","streamType":"stdout","text":"  \u001b[34mSKIP\u001b[0m: highestWastedBytes: rule disabled\n"},{"line":17,"timestamp":"2020-12-01T08:25:58.59767467Z","streamType":"stdout","text":"  PASS: lowestEfficiency\n"},{"line":18,"timestamp":"2020-12-01T08:25:58.597680743Z","streamType":"stdout","text":"\u001b[32mResult:PASS [Total:3] [Passed:2] [Failed:0] [Warn:0] [Skipped:1]\u001b[0m\n"},{"line":19,"timestamp":"2020-12-01T08:25:58.597682253Z","streamType":"stdout","text":"\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"vulnerability-scan","depth":1,"image":null,"duration":4366447222,"logLines":[{"line":1,"timestamp":"2020-12-01T08:25:58.265720261Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-docker\u001b[0m version \u001b[1m0.1.199\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-10-21T08:01:24Z \u001b[36mgoVersion=\u001b[0mgo1.15.3 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m64d36b7d04413a0c1d0c40673dcb55799bb55723\n"},{"line":2,"timestamp":"2020-12-01T08:25:58.265732332Z","streamType":"stdout","text":"Updating trivy vulnerabilities database...\n"},{"line":3,"timestamp":"2020-12-01T08:25:58.265738591Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e /trivy --cache-dir /trivy-cache image --light --download-db-only estafette/estafette-cloudflare-dns:1.2.10-main-141\u001b[0m\n"},{"line":4,"timestamp":"2020-12-01T08:25:58.284172634Z","streamType":"stdout","text":"2020-12-01T08:25:58.283Z\t\u001b[34mINFO\u001b[0m\tUse your github token\n"},{"line":5,"timestamp":"2020-12-01T08:25:58.284185725Z","streamType":"stdout","text":"2020-12-01T08:25:58.283Z\t\u001b[34mINFO\u001b[0m\tNeed to update DB\n"},{"line":6,"timestamp":"2020-12-01T08:25:58.284188592Z","streamType":"stdout","text":"2020-12-01T08:25:58.283Z\t\u001b[34mINFO\u001b[0m\tDownloading DB...\n"},{"line":7,"timestamp":"2020-12-01T08:26:01.354933755Z","streamType":"stdout","text":"Saving docker image to file for scanning...\n"},{"line":8,"timestamp":"2020-12-01T08:26:01.354953686Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e docker save estafette/estafette-cloudflare-dns:1.2.10-main-141 -o /tmp/996357427.tar\u001b[0m\n"},{"line":9,"timestamp":"2020-12-01T08:26:01.708219003Z","streamType":"stdout","text":"Scanning container image estafette/estafette-cloudflare-dns:1.2.10-main-141 for vulnerabilities...\n"},{"line":10,"timestamp":"2020-12-01T08:26:01.708243099Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e /trivy --cache-dir /trivy-cache image --light --skip-update --no-progress --exit-code 15 --ignore-unfixed --input /tmp/996357427.tar\u001b[0m\n"},{"line":11,"timestamp":"2020-12-01T08:26:01.751261051Z","streamType":"stdout","text":"2020-12-01T08:26:01.750Z\t\u001b[34mINFO\u001b[0m\tUse your github token\n"},{"line":12,"timestamp":"2020-12-01T08:26:01.778822776Z","streamType":"stdout","text":"2020-12-01T08:26:01.778Z\t\u001b[33mWARN\u001b[0m\tOS is not detected and vulnerabilities in OS packages are not detected.\n"}],"exitCode":0,"status":"SUCCEEDED"}]},{"step":"push-to-docker-hub","image":null,"duration":16468910583,"logLines":[{"line":1,"timestamp":"2020-12-01T08:26:02.585121122Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-docker\u001b[0m version \u001b[1m0.1.199\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-10-21T08:01:24Z \u001b[36mgoVersion=\u001b[0mgo1.15.3 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m64d36b7d04413a0c1d0c40673dcb55799bb55723\n"},{"line":2,"timestamp":"2020-12-01T08:26:02.585131669Z","streamType":"stdout","text":"Filtering credentials for images [estafette/estafette-cloudflare-dns:1.2.10-main-141]\n"},{"line":3,"timestamp":"2020-12-01T08:26:02.585134701Z","streamType":"stdout","text":"Filtered 10 container-registry credentials down to 1\n"},{"line":4,"timestamp":"2020-12-01T08:26:02.58513713Z","streamType":"stdout","text":"Logging in to repository 'estafette'\n"},{"line":5,"timestamp":"2020-12-01T08:26:03.713509509Z","streamType":"stdout","text":"Pushing container image estafette/estafette-cloudflare-dns:1.2.10-main-141\n"},{"line":6,"timestamp":"2020-12-01T08:26:03.713526869Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e docker push estafette/estafette-cloudflare-dns:1.2.10-main-141\u001b[0m\n"},{"line":7,"timestamp":"2020-12-01T08:26:03.76428024Z","streamType":"stdout","text":"The push refers to repository [docker.io/estafette/estafette-cloudflare-dns]\n"},{"line":8,"timestamp":"2020-12-01T08:26:04.10951031Z","streamType":"stdout","text":"5b47e753d355: Preparing\n"},{"line":9,"timestamp":"2020-12-01T08:26:04.109528356Z","streamType":"stdout","text":"61dce20da012: Preparing\n"},{"line":10,"timestamp":"2020-12-01T08:26:04.920904401Z","streamType":"stdout","text":"61dce20da012: Layer already exists\n"},{"line":11,"timestamp":"2020-12-01T08:26:11.808158689Z","streamType":"stdout","text":"5b47e753d355: Pushed\n"},{"line":12,"timestamp":"2020-12-01T08:26:16.186648784Z","streamType":"stdout","text":"1.2.10-main-141: digest: sha256:9400cbd49025ccee90d00b6612aedf898a75f3bfd1603f27e56845f7399b2634 size: 739\n"},{"line":13,"timestamp":"2020-12-01T08:26:16.1919547Z","streamType":"stdout","text":"Pushing cache container image estafette/estafette-cloudflare-dns:cache-main\n"},{"line":14,"timestamp":"2020-12-01T08:26:16.191969375Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e docker push estafette/estafette-cloudflare-dns:cache-main\u001b[0m\n"},{"line":15,"timestamp":"2020-12-01T08:26:16.249255422Z","streamType":"stdout","text":"The push refers to repository [docker.io/estafette/estafette-cloudflare-dns]\n"},{"line":16,"timestamp":"2020-12-01T08:26:16.594620337Z","streamType":"stdout","text":"5b47e753d355: Preparing\n"},{"line":17,"timestamp":"2020-12-01T08:26:16.594642909Z","streamType":"stdout","text":"61dce20da012: Preparing\n"},{"line":18,"timestamp":"2020-12-01T08:26:17.430440076Z","streamType":"stdout","text":"61dce20da012: Layer already exists\n"},{"line":19,"timestamp":"2020-12-01T08:26:17.433002844Z","streamType":"stdout","text":"5b47e753d355: Layer already exists\n"},{"line":20,"timestamp":"2020-12-01T08:26:18.277131719Z","streamType":"stdout","text":"cache-main: digest: sha256:9400cbd49025ccee90d00b6612aedf898a75f3bfd1603f27e56845f7399b2634 size: 739\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"test-helm-chart","image":null,"duration":68270561678,"logLines":[{"line":1,"timestamp":"2020-12-01T08:26:54.201605884Z","streamType":"stdout","text":"Starting estafette-extension-helm version 0.1.155... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-11-02T08:28:12Z \u001b[36mgoVersion=\u001b[0mgo1.15 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0md45468c7cc2e8a7cd384e05175733b38dfa48d73\n"},{"line":2,"timestamp":"2020-12-01T08:26:54.201624579Z","streamType":"stdout","text":"Unmarshalling parameters / custom properties...\n"},{"line":3,"timestamp":"2020-12-01T08:26:54.201629889Z","streamType":"stdout","text":"Setting defaults for parameters that are not set in the manifest...\n"},{"line":4,"timestamp":"2020-12-01T08:26:54.201637424Z","streamType":"stdout","text":"Testing chart estafette-cloudflare-dns with app version 1.2.10-main-141 and version 1.2.10-main-141 on kind host kubernetes...\n"},{"line":5,"timestamp":"2020-12-01T08:26:54.201640392Z","streamType":"stdout","text":"Waiting for kind host to be ready...\n"},{"line":6,"timestamp":"2020-12-01T08:26:54.223786387Z","streamType":"stdout","text":"Preparing kind host for using Helm...\n"},{"line":7,"timestamp":"2020-12-01T08:26:54.224588222Z","streamType":"stdout","text":"Writing values to override.yaml...\n"},{"line":8,"timestamp":"2020-12-01T08:26:54.22460661Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e cat override.yaml\u001b[0m\n"},{"line":9,"timestamp":"2020-12-01T08:26:54.2256203Z","streamType":"stdout","text":"secret:\n"},{"line":10,"timestamp":"2020-12-01T08:26:54.225636916Z","streamType":"stdout","text":"  cloudflareApiEmail: bot@estafette.io\n"},{"line":11,"timestamp":"2020-12-01T08:26:54.225639891Z","streamType":"stdout","text":"  cloudflareApiKey: abc\n"},{"line":12,"timestamp":"2020-12-01T08:26:54.225641312Z","streamType":"stdout","text":"imagePullSecret:\n"},{"line":13,"timestamp":"2020-12-01T08:26:54.225644718Z","streamType":"stdout","text":"  registryURL: https://index.docker.io/v1/\n"},{"line":14,"timestamp":"2020-12-01T08:26:54.225647827Z","streamType":"stdout","text":"  username: ***\n"},{"line":15,"timestamp":"2020-12-01T08:26:54.225767515Z","streamType":"stdout","text":"  password: ***Showing template to be installed...\n"},{"line":16,"timestamp":"2020-12-01T08:26:54.225779462Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e helm diff upgrade estafette-cloudflare-dns estafette-cloudflare-dns-1.2.10-main-141.tgz -f override.yaml --allow-unreleased\u001b[0m\n"},{"line":17,"timestamp":"2020-12-01T08:26:54.280664092Z","streamType":"stderr","text":"WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /root/.kube/config\n"},{"line":18,"timestamp":"2020-12-01T08:26:54.280679328Z","streamType":"stderr","text":"WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /root/.kube/config\n"},{"line":19,"timestamp":"2020-12-01T08:27:24.412849786Z","streamType":"stderr","text":"Error: Failed to get release estafette-cloudflare-dns in namespace default: exit status 1: WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /root/.kube/config\n"},{"line":20,"timestamp":"2020-12-01T08:27:24.412866845Z","streamType":"stderr","text":"WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /root/.kube/config\n"},{"line":21,"timestamp":"2020-12-01T08:27:24.412873825Z","streamType":"stderr","text":"Error: Kubernetes cluster unreachable: Get \"https://172.30.99.1:8443/version?timeout=32s\": dial tcp 172.30.99.1:8443: i/o timeout\n"},{"line":22,"timestamp":"2020-12-01T08:27:24.412874932Z","streamType":"stderr","text":"\n"},{"line":23,"timestamp":"2020-12-01T08:27:24.413622212Z","streamType":"stderr","text":"Error: plugin \"diff\" exited with error\n"},{"line":24,"timestamp":"2020-12-01T08:27:24.415355451Z","streamType":"stdout","text":"Fatal error \u001b[31merror=\u001b[0m\u001b[31m\"exit status 1\"\u001b[0m\n"},{"line":10000,"timestamp":"2020-12-01T08:27:26.883230168Z","streamType":"stderr","text":"Failed with exit code: 1"}],"exitCode":0,"status":"FAILED","services":[{"step":"kubernetes","depth":1,"image":{"name":"bsycorp/kind","tag":"latest-1.17","isPulled":false,"imageSize":1003840212,"pullDuration":11763002860,"isTrusted":true},"duration":56503409005,"logLines":[{"line":1,"timestamp":"2020-12-01T08:26:33.644630991Z","streamType":"stdout","text":"2020-12-01 08:26:33,643 CRIT Supervisor is running as root.  Privileges were not dropped because no user is specified in the config file.  If you intend to run as root, you can set user=root in the config file to avoid this message.\n"},{"line":2,"timestamp":"2020-12-01T08:26:33.649526751Z","streamType":"stdout","text":"2020-12-01 08:26:33,648 INFO RPC interface 'supervisor' initialized\n"},{"line":3,"timestamp":"2020-12-01T08:26:33.64954568Z","streamType":"stdout","text":"2020-12-01 08:26:33,649 CRIT Server 'unix_http_server' running without any HTTP authentication checking\n"},{"line":4,"timestamp":"2020-12-01T08:26:33.649717028Z","streamType":"stdout","text":"2020-12-01 08:26:33,649 INFO supervisord started with pid 1\n"},{"line":5,"timestamp":"2020-12-01T08:26:34.653077334Z","streamType":"stdout","text":"2020-12-01 08:26:34,652 INFO spawned: 'start' with pid 7\n"},{"line":6,"timestamp":"2020-12-01T08:26:34.661361117Z","streamType":"stdout","text":"Clean up..\n"},{"line":7,"timestamp":"2020-12-01T08:26:34.67717209Z","streamType":"stdout","text":"Setting up networking..\n"},{"line":8,"timestamp":"2020-12-01T08:26:34.678351951Z","streamType":"stdout","text":"Extracting cache..\n"},{"line":9,"timestamp":"2020-12-01T08:26:35.682087676Z","streamType":"stdout","text":"2020-12-01 08:26:35,681 INFO success: start entered RUNNING state, process has stayed up for \u003e than 1 seconds (startsecs)\n"},{"line":10,"timestamp":"2020-12-01T08:26:38.04370001Z","streamType":"stdout","text":"2020-12-01 08:26:38,042 INFO spawned: 'dockerd' with pid 18\n"},{"line":11,"timestamp":"2020-12-01T08:26:39.308616945Z","streamType":"stdout","text":"2020-12-01 08:26:39,307 INFO success: dockerd entered RUNNING state, process has stayed up for \u003e than 1 seconds (startsecs)\n"},{"line":12,"timestamp":"2020-12-01T08:26:39.309588828Z","streamType":"stdout","text":"dockerd: started\n"},{"line":13,"timestamp":"2020-12-01T08:26:41.374807685Z","streamType":"stdout","text":"Client:\n"},{"line":14,"timestamp":"2020-12-01T08:26:41.374824312Z","streamType":"stdout","text":" Debug Mode: false\n"},{"line":15,"timestamp":"2020-12-01T08:26:41.374825861Z","streamType":"stdout","text":"\n"},{"line":16,"timestamp":"2020-12-01T08:26:41.374827139Z","streamType":"stdout","text":"Server:\n"},{"line":17,"timestamp":"2020-12-01T08:26:41.374828919Z","streamType":"stdout","text":" Containers: 0\n"},{"line":18,"timestamp":"2020-12-01T08:26:41.374829987Z","streamType":"stdout","text":"  Running: 0\n"},{"line":19,"timestamp":"2020-12-01T08:26:41.374831065Z","streamType":"stdout","text":"  Paused: 0\n"},{"line":20,"timestamp":"2020-12-01T08:26:41.374831919Z","streamType":"stdout","text":"  Stopped: 0\n"},{"line":21,"timestamp":"2020-12-01T08:26:41.37483281Z","streamType":"stdout","text":" Images: 8\n"},{"line":22,"timestamp":"2020-12-01T08:26:41.374834583Z","streamType":"stdout","text":" Server Version: 19.03.5\n"},{"line":23,"timestamp":"2020-12-01T08:26:41.374835837Z","streamType":"stdout","text":" Storage Driver: overlay2\n"},{"line":24,"timestamp":"2020-12-01T08:26:41.374837643Z","streamType":"stdout","text":"  Backing Filesystem: extfs\n"},{"line":25,"timestamp":"2020-12-01T08:26:41.374838658Z","streamType":"stdout","text":"  Supports d_type: true\n"},{"line":26,"timestamp":"2020-12-01T08:26:41.374840149Z","streamType":"stdout","text":"  Native Overlay Diff: true\n"},{"line":27,"timestamp":"2020-12-01T08:26:41.374841902Z","streamType":"stdout","text":" Logging Driver: json-file\n"},{"line":28,"timestamp":"2020-12-01T08:26:41.374842912Z","streamType":"stdout","text":" Cgroup Driver: cgroupfs\n"},{"line":29,"timestamp":"2020-12-01T08:26:41.374843762Z","streamType":"stdout","text":" Plugins:\n"},{"line":30,"timestamp":"2020-12-01T08:26:41.374844689Z","streamType":"stdout","text":"  Volume: local\n"},{"line":31,"timestamp":"2020-12-01T08:26:41.374847451Z","streamType":"stdout","text":"  Network: bridge host ipvlan macvlan null overlay\n"},{"line":32,"timestamp":"2020-12-01T08:26:41.374852427Z","streamType":"stdout","text":"  Log: awslogs fluentd gcplogs gelf journald json-file local logentries splunk syslog\n"},{"line":33,"timestamp":"2020-12-01T08:26:41.374854285Z","streamType":"stdout","text":" Swarm: inactive\n"},{"line":34,"timestamp":"2020-12-01T08:26:41.374855178Z","streamType":"stdout","text":" Runtimes: runc\n"},{"line":35,"timestamp":"2020-12-01T08:26:41.374856291Z","streamType":"stdout","text":" Default Runtime: runc\n"},{"line":36,"timestamp":"2020-12-01T08:26:41.374857554Z","streamType":"stdout","text":" Init Binary: docker-init\n"},{"line":37,"timestamp":"2020-12-01T08:26:41.374859958Z","streamType":"stdout","text":" containerd version: b34a5c8af56e510852c35414db4c1f4fa6172339\n"},{"line":38,"timestamp":"2020-12-01T08:26:41.374861826Z","streamType":"stdout","text":" runc version: 3e425f80a8c931f88e6d94a8c831b9d5aa481657\n"},{"line":39,"timestamp":"2020-12-01T08:26:41.374885351Z","streamType":"stdout","text":" init version: fec3683\n"},{"line":40,"timestamp":"2020-12-01T08:26:41.374914365Z","streamType":"stdout","text":" Security Options:\n"},{"line":41,"timestamp":"2020-12-01T08:26:41.374919684Z","streamType":"stdout","text":"  apparmor\n"},{"line":42,"timestamp":"2020-12-01T08:26:41.374920543Z","streamType":"stdout","text":"  seccomp\n"},{"line":43,"timestamp":"2020-12-01T08:26:41.374921511Z","streamType":"stdout","text":"   Profile: default\n"},{"line":44,"timestamp":"2020-12-01T08:26:41.374922604Z","streamType":"stdout","text":" Kernel Version: 4.19.112+\n"},{"line":45,"timestamp":"2020-12-01T08:26:41.374926526Z","streamType":"stdout","text":" Operating System: Alpine Linux v3.11 (containerized)\n"},{"line":46,"timestamp":"2020-12-01T08:26:41.374927787Z","streamType":"stdout","text":" OSType: linux\n"},{"line":47,"timestamp":"2020-12-01T08:26:41.374928817Z","streamType":"stdout","text":" Architecture: x86_64\n"},{"line":48,"timestamp":"2020-12-01T08:26:41.374929678Z","streamType":"stdout","text":" CPUs: 64\n"},{"line":49,"timestamp":"2020-12-01T08:26:41.374931045Z","streamType":"stdout","text":" Total Memory: 236.2GiB\n"},{"line":50,"timestamp":"2020-12-01T08:26:41.374932158Z","streamType":"stdout","text":" Name: 904a826cd176\n"},{"line":51,"timestamp":"2020-12-01T08:26:41.374936039Z","streamType":"stdout","text":" ID: XFNM:7D4R:VFGP:ZAX6:PKG5:2D6J:F2ML:6GHQ:OTBE:FLTD:F75O:VWAD\n"},{"line":52,"timestamp":"2020-12-01T08:26:41.374938123Z","streamType":"stdout","text":" Docker Root Dir: /var/lib/docker\n"},{"line":53,"timestamp":"2020-12-01T08:26:41.374939101Z","streamType":"stdout","text":" Debug Mode: false\n"},{"line":54,"timestamp":"2020-12-01T08:26:41.374941074Z","streamType":"stdout","text":" Registry: https://index.docker.io/v1/\n"},{"line":55,"timestamp":"2020-12-01T08:26:41.374941851Z","streamType":"stdout","text":" Labels:\n"},{"line":56,"timestamp":"2020-12-01T08:26:41.374942905Z","streamType":"stdout","text":" Experimental: false\n"},{"line":57,"timestamp":"2020-12-01T08:26:41.374945752Z","streamType":"stdout","text":" Insecure Registries:\n"},{"line":58,"timestamp":"2020-12-01T08:26:41.374946651Z","streamType":"stdout","text":"  127.0.0.0/8\n"},{"line":59,"timestamp":"2020-12-01T08:26:41.3749477Z","streamType":"stdout","text":" Live Restore Enabled: false\n"},{"line":60,"timestamp":"2020-12-01T08:26:41.374949172Z","streamType":"stdout","text":" Product License: Community Engine\n"},{"line":61,"timestamp":"2020-12-01T08:26:41.374949794Z","streamType":"stdout","text":"\n"},{"line":62,"timestamp":"2020-12-01T08:26:41.376347049Z","streamType":"stdout","text":"Docker ready\n"},{"line":63,"timestamp":"2020-12-01T08:26:41.377174901Z","streamType":"stdout","text":"Logging into docker-registry  with user \n"},{"line":64,"timestamp":"2020-12-01T08:26:41.377304651Z","streamType":"stdout","text":"no docker-registry/-credentials supplied\n"},{"line":65,"timestamp":"2020-12-01T08:26:41.37731321Z","streamType":"stdout","text":"Starting config server..\n"},{"line":66,"timestamp":"2020-12-01T08:26:41.58327324Z","streamType":"stdout","text":"2020-12-01 08:26:41,582 INFO spawned: 'config-serve' with pid 223\n"},{"line":67,"timestamp":"2020-12-01T08:26:42.186373577Z","streamType":"stdout","text":"192.168.2.3 - - [01/Dec/2020:08:26:42 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":68,"timestamp":"2020-12-01T08:26:43.187998254Z","streamType":"stdout","text":"2020-12-01 08:26:43,187 INFO success: config-serve entered RUNNING state, process has stayed up for \u003e than 1 seconds (startsecs)\n"},{"line":69,"timestamp":"2020-12-01T08:26:43.189475967Z","streamType":"stdout","text":"config-serve: started\n"},{"line":70,"timestamp":"2020-12-01T08:26:43.200674963Z","streamType":"stdout","text":"192.168.2.3 - - [01/Dec/2020:08:26:43 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":71,"timestamp":"2020-12-01T08:26:43.207704163Z","streamType":"stdout","text":"Starting Kubernetes..\n"},{"line":72,"timestamp":"2020-12-01T08:26:43.41402648Z","streamType":"stdout","text":"2020-12-01 08:26:43,413 INFO spawned: 'kubelet' with pid 336\n"},{"line":73,"timestamp":"2020-12-01T08:26:44.211352326Z","streamType":"stdout","text":"192.168.2.3 - - [01/Dec/2020:08:26:44 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":74,"timestamp":"2020-12-01T08:26:45.213127593Z","streamType":"stdout","text":"2020-12-01 08:26:45,212 INFO success: kubelet entered RUNNING state, process has stayed up for \u003e than 1 seconds (startsecs)\n"},{"line":75,"timestamp":"2020-12-01T08:26:45.214425633Z","streamType":"stdout","text":"kubelet: started\n"},{"line":76,"timestamp":"2020-12-01T08:26:45.221995524Z","streamType":"stdout","text":"192.168.2.3 - - [01/Dec/2020:08:26:45 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":77,"timestamp":"2020-12-01T08:26:46.229996967Z","streamType":"stdout","text":"192.168.2.3 - - [01/Dec/2020:08:26:46 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":78,"timestamp":"2020-12-01T08:26:47.243013732Z","streamType":"stdout","text":"192.168.2.3 - - [01/Dec/2020:08:26:47 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":79,"timestamp":"2020-12-01T08:26:48.256904275Z","streamType":"stdout","text":"192.168.2.3 - - [01/Dec/2020:08:26:48 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":80,"timestamp":"2020-12-01T08:26:49.271422177Z","streamType":"stdout","text":"192.168.2.3 - - [01/Dec/2020:08:26:49 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":81,"timestamp":"2020-12-01T08:26:50.236034246Z","streamType":"stdout","text":"Checking startup status..\n"},{"line":82,"timestamp":"2020-12-01T08:26:50.286225483Z","streamType":"stdout","text":"192.168.2.3 - - [01/Dec/2020:08:26:50 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":83,"timestamp":"2020-12-01T08:26:51.293815104Z","streamType":"stdout","text":"192.168.2.3 - - [01/Dec/2020:08:26:51 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":84,"timestamp":"2020-12-01T08:26:52.301553603Z","streamType":"stdout","text":"192.168.2.3 - - [01/Dec/2020:08:26:52 +0000] \"GET /kubernetes-ready HTTP/1.1\" 404 170 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":85,"timestamp":"2020-12-01T08:26:52.734550887Z","streamType":"stdout","text":"startup successful\n"},{"line":86,"timestamp":"2020-12-01T08:26:52.808495695Z","streamType":"stdout","text":"NAMESPACE     NAME                               READY   STATUS    RESTARTS   AGE\n"},{"line":87,"timestamp":"2020-12-01T08:26:52.808512793Z","streamType":"stdout","text":"kube-system   coredns-6955765f44-89krk           1/1     Running   0          7d9h\n"},{"line":88,"timestamp":"2020-12-01T08:26:52.808515944Z","streamType":"stdout","text":"kube-system   coredns-6955765f44-s48kz           1/1     Running   0          7d9h\n"},{"line":89,"timestamp":"2020-12-01T08:26:52.808518549Z","streamType":"stdout","text":"kube-system   etcd-minikube                      1/1     Running   0          7d9h\n"},{"line":90,"timestamp":"2020-12-01T08:26:52.808526552Z","streamType":"stdout","text":"kube-system   kube-apiserver-minikube            1/1     Running   0          7d9h\n"},{"line":91,"timestamp":"2020-12-01T08:26:52.80854039Z","streamType":"stdout","text":"kube-system   kube-controller-manager-minikube   1/1     Running   0          7d9h\n"},{"line":92,"timestamp":"2020-12-01T08:26:52.808543195Z","streamType":"stdout","text":"kube-system   kube-proxy-tdrl9                   1/1     Running   0          7d9h\n"},{"line":93,"timestamp":"2020-12-01T08:26:52.808546019Z","streamType":"stdout","text":"kube-system   kube-scheduler-minikube            1/1     Running   0          7d9h\n"},{"line":94,"timestamp":"2020-12-01T08:26:52.810983336Z","streamType":"stdout","text":"Kubernetes ready\n"},{"line":95,"timestamp":"2020-12-01T08:26:52.811425108Z","streamType":"stdout","text":"2020-12-01 08:26:52,811 INFO exited: start (exit status 0; expected)\n"},{"line":96,"timestamp":"2020-12-01T08:26:53.316322087Z","streamType":"stdout","text":"192.168.2.3 - - [01/Dec/2020:08:26:53 +0000] \"GET /kubernetes-ready HTTP/1.1\" 200 0 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":97,"timestamp":"2020-12-01T08:26:54.224259531Z","streamType":"stdout","text":"192.168.2.3 - - [01/Dec/2020:08:26:54 +0000] \"GET /kubernetes-ready HTTP/1.1\" 200 0 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":98,"timestamp":"2020-12-01T08:26:54.22427956Z","streamType":"stdout","text":"192.168.2.3 - - [01/Dec/2020:08:26:54 +0000] \"GET /config HTTP/1.1\" 200 5369 \"-\" \"Go-http-client/1.1\" \"-\"\n"},{"line":99,"timestamp":"2020-12-01T08:27:24.880488654Z","streamType":"stdout","text":"2020-12-01 08:27:24,879 WARN received SIGTERM indicating exit request\n"},{"line":100,"timestamp":"2020-12-01T08:27:24.880514223Z","streamType":"stdout","text":"2020-12-01 08:27:24,879 INFO waiting for config-serve, dockerd, kubelet to die\n"},{"line":101,"timestamp":"2020-12-01T08:27:25.081176932Z","streamType":"stdout","text":"2020-12-01 08:27:25,080 INFO stopped: kubelet (terminated by SIGTERM)\n"},{"line":102,"timestamp":"2020-12-01T08:27:25.161434165Z","streamType":"stdout","text":"2020-12-01 08:27:25,160 INFO reaped unknown pid 339\n"},{"line":103,"timestamp":"2020-12-01T08:27:25.409455736Z","streamType":"stdout","text":"2020-12-01 08:27:25,408 INFO exited: config-serve (exit status 0; expected)\n"},{"line":104,"timestamp":"2020-12-01T08:27:26.408041175Z","streamType":"stdout","text":"2020-12-01 08:27:26,407 INFO stopped: dockerd (exit status 0)\n"}],"exitCode":0,"status":"SUCCEEDED"}]},{"step":"clone-charts-repo","image":{"name":"extensions/git-clone","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"publish-helm-chart","image":{"name":"extensions/helm","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"slack-notify","image":{"name":"extensions/slack-build-status","tag":"dev","isPulled":false,"imageSize":12653738,"pullDuration":2148689739,"isTrusted":true},"duration":1096555992,"logLines":[{"line":1,"timestamp":"2020-12-01T08:27:29.5344236Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-slack-build-status\u001b[0m version \u001b[1m0.1.67\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-09-25T08:21:38Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0me3cdae7bc38d796404b561d6f47e0d28009738c2\n"},{"line":2,"timestamp":"2020-12-01T08:27:29.534435274Z","streamType":"stdout","text":"Unmarshalling credentials...\n"},{"line":3,"timestamp":"2020-12-01T08:27:29.534438316Z","streamType":"stdout","text":"Checking if credential estafette exists...\n"},{"line":4,"timestamp":"2020-12-01T08:27:29.534441776Z","streamType":"stdout","text":"Checking credential slack-webhook-estafette for workspace estafette...\n"},{"line":5,"timestamp":"2020-12-01T08:27:29.5344442Z","streamType":"stdout","text":"Found credential slack-webhook-estafette for workspace estafette\n"},{"line":6,"timestamp":"2020-12-01T08:27:29.740310724Z","streamType":"stdout","text":"Finished estafette-extension-slack-build-status...\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"injected-after","image":null,"duration":1317038733,"logLines":null,"exitCode":0,"status":"SUCCEEDED","autoInjected":true,"nestedSteps":[{"step":"set-build-status","depth":1,"image":null,"duration":1312863528,"logLines":[{"line":1,"timestamp":"2020-12-01T08:27:30.607092695Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-github-status\u001b[0m version \u001b[1m0.1.47\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2020-09-25T07:47:26Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m6db9d43ca763f9104293785ed2c594320dd7946a\n"},{"line":2,"timestamp":"2020-12-01T08:27:30.607106845Z","streamType":"stdout","text":"Setting logs url https://estafette.***.com/pipelines/github.com/estafette/estafette-cloudflare-dns/builds/611911884556828682/logs\n"},{"line":3,"timestamp":"2020-12-01T08:27:31.050795358Z","streamType":"stdout","text":"Received successful response for 'https://api.github.com/repos/estafette/estafette-cloudflare-dns/statuses/b723421a9b74664f5dbf52bff2b5dcdf623b67a5' Github api call with status code 201\n"},{"line":4,"timestamp":"2020-12-01T08:27:31.050810226Z","streamType":"stdout","text":"Finished estafette-extension-github-status...\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true}]}]