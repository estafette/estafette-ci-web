[{"step":"builder-info","image":null,"duration":0,"logLines":[{"line":1,"timestamp":"2020-05-01T12:52:58.524396658Z","streamType":"stdout","text":"Starting \u001b[1mestafette-ci-builder\u001b[0m version \u001b[1m0.0.653\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-04-29T17:57:05Z \u001b[36mgoVersion=\u001b[0mgo1.14.2 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m6042ffa9c5238baf733392c5e72ad6f916620c1c"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true},{"step":"initialize","image":null,"duration":6052817128,"logLines":null,"exitCode":0,"status":"SUCCEEDED","autoInjected":true,"nestedSteps":[{"step":"envvars","depth":1,"image":{"name":"extensions/envvars","tag":"stable","isPulled":false,"imageSize":11158339,"pullDuration":1874337988},"duration":1328882818,"logLines":[{"line":1,"timestamp":"2020-05-01T12:53:01.349592343Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-envvars\u001b[0m version \u001b[1m0.1.15\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-03-04T09:29:44Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0ma1eec2828262801647117796b44ee95ed842ef2f\n"},{"line":2,"timestamp":"2020-05-01T12:53:01.349606335Z","streamType":"stdout","text":"All available estafette environment variables; the _DNS_SAFE suffixed ones can be used to set dns labels. Since leading digits are not allowed some of them are empty.\n"},{"line":3,"timestamp":"2020-05-01T12:53:01.349608638Z","streamType":"stdout","text":"ESTAFETTE_BUILD_DATETIME: 2020-05-01T12:52:58Z\n"},{"line":4,"timestamp":"2020-05-01T12:53:01.349610224Z","streamType":"stdout","text":"ESTAFETTE_BUILD_DATETIME_DNS_SAFE: t12-52-58z\n"},{"line":5,"timestamp":"2020-05-01T12:53:01.349611601Z","streamType":"stdout","text":"ESTAFETTE_BUILD_ID: 551377883488452618\n"},{"line":6,"timestamp":"2020-05-01T12:53:01.349613347Z","streamType":"stdout","text":"ESTAFETTE_BUILD_ID_DNS_SAFE: \n"},{"line":7,"timestamp":"2020-05-01T12:53:01.349614829Z","streamType":"stdout","text":"ESTAFETTE_BUILD_STATUS: succeeded\n"},{"line":8,"timestamp":"2020-05-01T12:53:01.349616169Z","streamType":"stdout","text":"ESTAFETTE_BUILD_STATUS_DNS_SAFE: succeeded\n"},{"line":9,"timestamp":"2020-05-01T12:53:01.349617316Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION: 0.0.656\n"},{"line":10,"timestamp":"2020-05-01T12:53:01.349618689Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_DNS_SAFE: \n"},{"line":11,"timestamp":"2020-05-01T12:53:01.349620291Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_LABEL: master\n"},{"line":12,"timestamp":"2020-05-01T12:53:01.349621557Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_LABEL_DNS_SAFE: master\n"},{"line":13,"timestamp":"2020-05-01T12:53:01.349622722Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MAJOR: 0\n"},{"line":14,"timestamp":"2020-05-01T12:53:01.349623807Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MAJOR_DNS_SAFE: \n"},{"line":15,"timestamp":"2020-05-01T12:53:01.349624993Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MINOR: 0\n"},{"line":16,"timestamp":"2020-05-01T12:53:01.349626521Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MINOR_DNS_SAFE: \n"},{"line":17,"timestamp":"2020-05-01T12:53:01.349627385Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_PATCH: 656\n"},{"line":18,"timestamp":"2020-05-01T12:53:01.349628216Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_PATCH_DNS_SAFE: \n"},{"line":19,"timestamp":"2020-05-01T12:53:01.349630417Z","streamType":"stdout","text":"ESTAFETTE_CI_SERVER_BASE_URL: https://estafette.travix.com/\n"},{"line":20,"timestamp":"2020-05-01T12:53:01.349632189Z","streamType":"stdout","text":"ESTAFETTE_CI_SERVER_BASE_URL_DNS_SAFE: https-estafette-travix-com\n"},{"line":21,"timestamp":"2020-05-01T12:53:01.349633461Z","streamType":"stdout","text":"ESTAFETTE_EXTENSION_CUSTOM_PROPERTIES: null\n"},{"line":22,"timestamp":"2020-05-01T12:53:01.349634621Z","streamType":"stdout","text":"ESTAFETTE_EXTENSION_CUSTOM_PROPERTIES_YAML: {}\n"},{"line":23,"timestamp":"2020-05-01T12:53:01.349635434Z","streamType":"stdout","text":"\n"},{"line":24,"timestamp":"2020-05-01T12:53:01.349637393Z","streamType":"stdout","text":"ESTAFETTE_GIT_BRANCH: master\n"},{"line":25,"timestamp":"2020-05-01T12:53:01.349638304Z","streamType":"stdout","text":"ESTAFETTE_GIT_BRANCH_DNS_SAFE: master\n"},{"line":26,"timestamp":"2020-05-01T12:53:01.349639343Z","streamType":"stdout","text":"ESTAFETTE_GIT_FULLNAME: estafette/estafette-ci-builder\n"},{"line":27,"timestamp":"2020-05-01T12:53:01.349640332Z","streamType":"stdout","text":"ESTAFETTE_GIT_FULLNAME_DNS_SAFE: estafette-estafette-ci-builder\n"},{"line":28,"timestamp":"2020-05-01T12:53:01.349641164Z","streamType":"stdout","text":"ESTAFETTE_GIT_NAME: estafette-ci-builder\n"},{"line":29,"timestamp":"2020-05-01T12:53:01.349641891Z","streamType":"stdout","text":"ESTAFETTE_GIT_NAME_DNS_SAFE: estafette-ci-builder\n"},{"line":30,"timestamp":"2020-05-01T12:53:01.349642631Z","streamType":"stdout","text":"ESTAFETTE_GIT_OWNER: estafette\n"},{"line":31,"timestamp":"2020-05-01T12:53:01.349643403Z","streamType":"stdout","text":"ESTAFETTE_GIT_OWNER_DNS_SAFE: estafette\n"},{"line":32,"timestamp":"2020-05-01T12:53:01.349644419Z","streamType":"stdout","text":"ESTAFETTE_GIT_REVISION: e6c2405fc0ffd1e5ed4cca381a8412e12198f570\n"},{"line":33,"timestamp":"2020-05-01T12:53:01.349659587Z","streamType":"stdout","text":"ESTAFETTE_GIT_REVISION_DNS_SAFE: e6c2405fc0ffd1e5ed4cca381a8412e12198f570\n"},{"line":34,"timestamp":"2020-05-01T12:53:01.349660333Z","streamType":"stdout","text":"ESTAFETTE_GIT_SOURCE: github.com\n"},{"line":35,"timestamp":"2020-05-01T12:53:01.349661307Z","streamType":"stdout","text":"ESTAFETTE_GIT_SOURCE_DNS_SAFE: github-com\n"},{"line":36,"timestamp":"2020-05-01T12:53:01.349670541Z","streamType":"stdout","text":"ESTAFETTE_LABEL_APP_GROUP: estafette-ci\n"},{"line":37,"timestamp":"2020-05-01T12:53:01.349671482Z","streamType":"stdout","text":"ESTAFETTE_LABEL_APP_GROUP_DNS_SAFE: estafette-ci\n"},{"line":38,"timestamp":"2020-05-01T12:53:01.349672271Z","streamType":"stdout","text":"ESTAFETTE_LABEL_LANGUAGE: golang\n"},{"line":39,"timestamp":"2020-05-01T12:53:01.349673013Z","streamType":"stdout","text":"ESTAFETTE_LABEL_LANGUAGE_DNS_SAFE: golang\n"},{"line":40,"timestamp":"2020-05-01T12:53:01.349673717Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TEAM: estafette-team\n"},{"line":41,"timestamp":"2020-05-01T12:53:01.349675647Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TEAM_DNS_SAFE: estafette-team\n"},{"line":42,"timestamp":"2020-05-01T12:53:01.349676557Z","streamType":"stdout","text":"ESTAFETTE_LOG_FORMAT: console\n"},{"line":43,"timestamp":"2020-05-01T12:53:01.349989763Z","streamType":"stdout","text":"ESTAFETTE_STAGES: [{\"Name\":\"initialize\",\"ContainerImage\":\"\",\"Shell\":\"\",\"WorkingDirectory\":\"\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":[{\"Name\":\"git-clone\",\"ContainerImage\":\"extensions/git-clone:stable\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":null},{\"Name\":\"set-pending-build-status\",\"ContainerImage\":\"extensions/github-status:stable\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"status\":\"pending\"}},{\"Name\":\"envvars\",\"ContainerImage\":\"extensions/envvars:stable\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":null}],\"Services\":null,\"CustomProperties\":null},{\"Name\":\"build\",\"ContainerImage\":\"golang:1.14.2-alpine3.11\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":[\"go test ./...\",\"go build -v -ldflags \\\"-X main.appgroup=estafette-ci -X main.app=estafette-ci-builder -X main.version=0.0.656 -X main.revision=e6c2405fc0ffd1e5ed4cca381a8412e12198f570 -X main.branch=master -X main.buildDate=2020-05-01T12:52:58Z\\\" -o ./publish/estafette-ci-builder\"],\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":{\"CGO_ENABLED\":\"0\",\"GOARCH\":\"amd64\",\"GOOS\":\"linux\"},\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{}},{\"Name\":\"bake-all\",\"ContainerImage\":\"\",\"Shell\":\"\",\"WorkingDirectory\":\"\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":[{\"Name\":\"bake\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"build\",\"copy\":[\"builder/templates\"],\"dontExpand\":[\"ESTAFETTE_WORKDIR\"],\"no-cache\":true,\"path\":\"./publish\",\"repositories\":[\"estafette\"]}},{\"Name\":\"bake-gocd-agent\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"build\",\"copy\":[\"builder/templates\"],\"dockerfile\":\"Dockerfile.gocd\",\"no-cache\":true,\"path\":\"./publish\",\"repositories\":[\"estafette\"],\"versionTagSuffix\":\"gocd\"}}],\"Services\":null,\"CustomProperties\":{}},{\"Name\":\"dive-and-trivy-all\",\"ContainerImage\":\"\",\"Shell\":\"\",\"WorkingDirectory\":\"\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":[{\"Name\":\"dive\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"dive\",\"repositories\":[\"estafette\"]}},{\"Name\":\"dive-gocd-agent\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"dive\",\"repositories\":[\"estafette\"],\"versionTagSuffix\":\"gocd\"}},{\"Name\":\"trivy\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"trivy\",\"repositories\":[\"estafette\"]}},{\"Name\":\"trivy-gocd-agent\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"trivy\",\"repositories\":[\"estafette\"],\"versionTagSuffix\":\"gocd\"}}],\"Services\":null,\"CustomProperties\":{}},{\"Name\":\"clean-working-directory\",\"ContainerImage\":\"golang:1.14.0-alpine3.11\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":[\"rm -rf ..?* .[!.]* *\"],\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{}},{\"Name\":\"test\",\"ContainerImage\":\"estafette/estafette-ci-builder:0.0.656\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":{\"BUILDER_CONFIG\":\"{ \\\"action\\\":\\\"build\\\", \\\"track\\\":\\\"dev\\\", \\\"dindMtu\\\":\\\"1460\\\", \\\"dindBip\\\":\\\"192.168.3.1/24\\\", \\\"dindNetwork\\\":{ \\\"name\\\":\\\"estafette-integration\\\", \\\"subnet\\\":\\\"192.168.4.1/24\\\", \\\"gateway\\\":\\\"192.168.4.1\\\" }, \\\"manifest\\\":{ \\\"Builder\\\":{ \\\"Track\\\":\\\"stable\\\", \\\"OperatingSystem\\\":\\\"linux\\\" }, \\\"Labels\\\":{ \\\"app\\\":\\\"estafette-ci-builder\\\", \\\"app-group\\\":\\\"estafette-ci\\\", \\\"language\\\":\\\"golang\\\", \\\"team\\\":\\\"estafette-team\\\" }, \\\"Version\\\":{ \\\"SemVer\\\":{ \\\"Major\\\":0, \\\"Minor\\\":0, \\\"Patch\\\":\\\"{{auto}}\\\", \\\"LabelTemplate\\\":\\\"{{branch}}\\\", \\\"ReleaseBranch\\\":\\\"master\\\" }, \\\"Custom\\\":null }, \\\"GlobalEnvVars\\\":null, \\\"Stages\\\":[ { \\\"Name\\\":\\\"services-test\\\", \\\"ContainerImage\\\":\\\"alpine:latest\\\", \\\"Shell\\\":\\\"/bin/sh\\\", \\\"WorkingDirectory\\\":\\\"/estafette-work\\\", \\\"Commands\\\": [ \\\"route\\\", \\\"ip addr show eth0\\\", \\\"cat /etc/hosts\\\", \\\"cat /etc/resolv.conf\\\", \\\"apk add curl\\\", \\\"curl -v --connect-timeout 2 --retry 10 --retry-delay 2 --retry-connrefused http://nginx:80/\\\" ], \\\"When\\\":\\\"status == 'succeeded'\\\", \\\"EnvVars\\\":null, \\\"AutoInjected\\\":false, \\\"Retries\\\":0, \\\"Services\\\": [ { \\\"Name\\\": \\\"nginx\\\", \\\"ContainerImage\\\": \\\"nginx:alpine\\\", \\\"Shell\\\":\\\"/bin/sh\\\", \\\"When\\\":\\\"status == 'succeeded'\\\", \\\"Readiness\\\": { \\\"Path\\\": \\\"/\\\", \\\"TimeoutSeconds\\\": 30, \\\"Hostname\\\": \\\"nginx\\\", \\\"Port\\\": 80, \\\"Protocol\\\": \\\"http\\\" } }, { \\\"Name\\\": \\\"cockroachdb\\\", \\\"ContainerImage\\\": \\\"cockroachdb/cockroach:v19.2.0\\\", \\\"Commands\\\":[ \\\"/cockroach/cockroach start-single-node --insecure --advertise-addr cockroachdb\\\" ], \\\"EnvVars\\\":{ \\\"COCKROACH_SKIP_ENABLING_DIAGNOSTIC_REPORTING\\\":\\\"true\\\" }, \\\"Shell\\\":\\\"/bin/sh\\\", \\\"When\\\":\\\"status == 'succeeded'\\\", \\\"Readiness\\\": { \\\"Path\\\": \\\"/health?ready=1\\\", \\\"TimeoutSeconds\\\": 30, \\\"Hostname\\\": \\\"cockroachdb\\\", \\\"Port\\\": 8080, \\\"Protocol\\\": \\\"http\\\" } } ] }, { \\\"Name\\\":\\\"git-clone\\\", \\\"ContainerImage\\\":\\\"extensions/git-clone:dev\\\", \\\"Shell\\\":\\\"/bin/sh\\\", \\\"WorkingDirectory\\\":\\\"/estafette-work\\\", \\\"Commands\\\":null, \\\"shallow\\\": false, \\\"When\\\":\\\"status == 'succeeded'\\\", \\\"EnvVars\\\":null, \\\"AutoInjected\\\":true, \\\"Retries\\\":0, \\\"CustomProperties\\\":null }, { \\\"Name\\\":\\\"parallel-builds\\\", \\\"ContainerImage\\\":\\\"\\\", \\\"Shell\\\":\\\"/bin/sh\\\", \\\"WorkingDirectory\\\":\\\"/estafette-work\\\", \\\"Commands\\\":[], \\\"When\\\":\\\"status == 'succeeded'\\\", \\\"EnvVars\\\":{}, \\\"AutoInjected\\\":false, \\\"Retries\\\":0, \\\"CustomProperties\\\":null, \\\"ParallelStages\\\":[ { \\\"Name\\\":\\\"buildA\\\", \\\"ContainerImage\\\": \\\"golang:1.14.0-alpine3.11\\\", \\\"Shell\\\":\\\"/bin/sh\\\", \\\"WorkingDirectory\\\":\\\"/estafette-work\\\", \\\"Commands\\\":[ \\\"go test ./...\\\", \\\"go build -v -ldflags \\\\\\\"-X main.version=0.0.656 -X main.revision=e6c2405fc0ffd1e5ed4cca381a8412e12198f570 -X main.branch=master -X main.buildDate=2020-05-01T12:52:58Z\\\\\\\" -o ./publish/estafette-ci-builder\\\", \\\"echo ${PWD}\\\", \\\"ls -latr\\\", \\\"ls -latr ./publish\\\" ], \\\"When\\\":\\\"status == 'succeeded'\\\", \\\"EnvVars\\\":{ \\\"CGO_ENABLED\\\":\\\"0\\\", \\\"GOOS\\\":\\\"linux\\\", \\\"GOARCH\\\":\\\"amd64\\\" }, \\\"AutoInjected\\\":false, \\\"Retries\\\":0, \\\"CustomProperties\\\":null }, { \\\"Name\\\":\\\"buildB\\\", \\\"ContainerImage\\\":\\\"alpine:3.10\\\", \\\"Shell\\\":\\\"/bin/sh\\\", \\\"WorkingDirectory\\\":\\\"/estafette-work\\\", \\\"Commands\\\":[ \\\"echo hi\\\" ], \\\"When\\\":\\\"status == 'succeeded'\\\" } ] }, { \\\"Name\\\":\\\"bake-estafette\\\", \\\"ContainerImage\\\":\\\"extensions/docker:dev\\\", \\\"Shell\\\":\\\"/bin/sh\\\", \\\"WorkingDirectory\\\":\\\"/estafette-work\\\", \\\"Commands\\\":null, \\\"When\\\":\\\"status == 'succeeded'\\\", \\\"EnvVars\\\":null, \\\"AutoInjected\\\":false, \\\"Retries\\\":0, \\\"CustomProperties\\\":{ \\\"action\\\":\\\"build\\\", \\\"no-cache\\\":true, \\\"tag\\\":\\\"testtag\\\", \\\"expand-variables\\\":false, \\\"path\\\":\\\"./publish\\\", \\\"repositories\\\":[\\\"estafette\\\"] } } ], \\\"Releases\\\":null }, \\\"jobName\\\":\\\"build-estafette-estafette-ci-builder-391855387650326531\\\", \\\"ciServer\\\":{ \\\"baseUrl\\\":\\\"https://httpstat.us/200\\\", \\\"builderEventsUrl\\\":\\\"https://httpstat.us/200\\\", \\\"postLogsUrl\\\":\\\"https://httpstat.us/200\\\", \\\"apiKey\\\":\\\"\\\" }, \\\"buildParams\\\":{ \\\"buildID\\\":391855387650326531 }, \\\"git\\\":{ \\\"repoSource\\\":\\\"github.com\\\", \\\"repoOwner\\\":\\\"estafette\\\", \\\"repoName\\\":\\\"estafette-ci-builder\\\", \\\"repoBranch\\\":\\\"integration-test\\\", \\\"repoRevision\\\":\\\"4ba7791566e3f6f69e8542183168ec9b1ad03ca7\\\" }, \\\"buildVersion\\\":{ \\\"version\\\":\\\"0.0.0-integration-test\\\", \\\"major\\\":0, \\\"minor\\\":0, \\\"patch\\\":\\\"0\\\", \\\"autoincrement\\\":0 }, \\\"credentials\\\":null, \\\"trustedImages\\\":[ { \\\"path\\\":\\\"extensions/docker\\\", \\\"runDocker\\\":true }, { \\\"path\\\":\\\"estafette/estafette-ci-builder\\\", \\\"runPrivileged\\\":true }, { \\\"path\\\":\\\"golang\\\", \\\"runDocker\\\":true, \\\"allowCommands\\\":true }, { \\\"path\\\":\\\"extensions/git-clone\\\" }, { \\\"path\\\":\\\"bsycorp/kind\\\", \\\"runPrivileged\\\":true } ] }\",\"ESTAFETTE_LOG_FORMAT\":\"console\",\"SECRET_DECRYPTION_KEY\":\"8c6E5e7R8ameE2L6qxEcN5Yc3Q7P4Yd4\"},\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{}},{\"Name\":\"push-all\",\"ContainerImage\":\"\",\"Shell\":\"\",\"WorkingDirectory\":\"\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":[{\"Name\":\"push-to-docker-hub\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"push\",\"repositories\":[\"estafette\"]}},{\"Name\":\"push-gocd-agent-to-docker-hub\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"push\",\"repositories\":[\"estafette\"],\"versionTagSuffix\":\"gocd\"}}],\"Services\":null,\"CustomProperties\":{}},{\"Name\":\"slack-notify\",\"ContainerImage\":\"extensions/slack-build-status:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded' || status == 'failed'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"channels\":[\"#build-status\"],\"workspace\":\"estafette\"}},{\"Name\":\"set-build-status\",\"ContainerImage\":\"extensions/github-status:stable\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded' || status == 'failed'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":null}]\n"},{"line":44,"timestamp":"2020-05-01T12:53:01.349993098Z","streamType":"stdout","text":"ESTAFETTE_STAGES_DNS_SAFE: name-initialize-containerimage-shell-workingdirectory-commands\n"},{"line":45,"timestamp":"2020-05-01T12:53:01.352259653Z","streamType":"stdout","text":"ESTAFETTE_STAGE_NAME: envvars\n"},{"line":46,"timestamp":"2020-05-01T12:53:01.352287686Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_BRANCH: master\n"},{"line":47,"timestamp":"2020-05-01T12:53:01.352289264Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_BRANCH_DNS_SAFE: master\n"},{"line":48,"timestamp":"2020-05-01T12:53:01.352296156Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_EVENT: push\n"},{"line":49,"timestamp":"2020-05-01T12:53:01.352297434Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_EVENT_DNS_SAFE: push\n"},{"line":50,"timestamp":"2020-05-01T12:53:01.352298963Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_REPOSITORY: github.com/estafette/estafette-ci-builder\n"},{"line":51,"timestamp":"2020-05-01T12:53:01.352300466Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_REPOSITORY_DNS_SAFE: github-com-estafette-estafette-ci-builder\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true},{"step":"git-clone","depth":1,"image":{"name":"extensions/git-clone","tag":"stable","isPulled":false,"imageSize":33645729,"pullDuration":2418332821,"isTrusted":true},"duration":3629801137,"logLines":[{"line":1,"timestamp":"2020-05-01T12:53:02.012246246Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-git-clone\u001b[0m version \u001b[1m0.1.81\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-04-01T15:00:17Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m50245b030d6c4f5911a8332aeef550ca39da8115\n"},{"line":2,"timestamp":"2020-05-01T12:53:02.012252764Z","streamType":"stdout","text":"Unmarshalling injected github api token credentials\n"},{"line":3,"timestamp":"2020-05-01T12:53:02.012257056Z","streamType":"stdout","text":"Cloning git repository estafette-ci-builder to branch master and revision e6c2405fc0ffd1e5ed4cca381a8412e12198f570 with shallow clone is true and depth 50...\n"},{"line":4,"timestamp":"2020-05-01T12:53:02.012260772Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e git clone --depth=50 --branch=master https://x-access-token:***@github.com/estafette/estafette-ci-builder /estafette-work\u001b[0m\n"},{"line":5,"timestamp":"2020-05-01T12:53:02.01226229Z","streamType":"stderr","text":"Cloning into '/estafette-work'...\n"},{"line":6,"timestamp":"2020-05-01T12:53:04.317381428Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e git checkout --quiet --force e6c2405fc0ffd1e5ed4cca381a8412e12198f570\u001b[0m\n"},{"line":7,"timestamp":"2020-05-01T12:53:04.323467969Z","streamType":"stdout","text":"Finished cloning git repository estafette-ci-builder to branch master and revision e6c2405fc0ffd1e5ed4cca381a8412e12198f570 with shallow clone is true and depth 50\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true},{"step":"set-pending-build-status","depth":1,"image":{"name":"extensions/github-status","tag":"stable","isPulled":false,"imageSize":12649209,"pullDuration":2420447253,"isTrusted":true},"duration":2228273428,"logLines":[{"line":1,"timestamp":"2020-05-01T12:53:02.11846139Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-github-status\u001b[0m version \u001b[1m0.1.46\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-03-04T09:32:11Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m6db9d43ca763f9104293785ed2c594320dd7946a\n"},{"line":2,"timestamp":"2020-05-01T12:53:02.118469525Z","streamType":"stdout","text":"Setting logs url https://estafette.travix.com/pipelines/github.com/estafette/estafette-ci-builder/builds/551377883488452618/logs\n"},{"line":3,"timestamp":"2020-05-01T12:53:02.9078402Z","streamType":"stdout","text":"Received successful response for 'https://api.github.com/repos/estafette/estafette-ci-builder/statuses/e6c2405fc0ffd1e5ed4cca381a8412e12198f570' Github api call with status code 201\n"},{"line":4,"timestamp":"2020-05-01T12:53:02.907848427Z","streamType":"stdout","text":"Finished estafette-extension-github-status...\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true}]},{"step":"build","image":{"name":"golang","tag":"1.14.2-alpine3.11","isPulled":false,"imageSize":369582448,"pullDuration":7452700001},"duration":19104126868,"logLines":[{"line":1,"timestamp":"2020-05-01T12:53:15.867605555Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e go test ./... \u0026\u001b[0m\n"},{"line":2,"timestamp":"2020-05-01T12:53:16.120380183Z","streamType":"stderr","text":"go: downloading github.com/alecthomas/kingpin v2.2.6+incompatible\n"},{"line":3,"timestamp":"2020-05-01T12:53:16.120392124Z","streamType":"stderr","text":"go: downloading gopkg.in/yaml.v2 v2.2.2\n"},{"line":4,"timestamp":"2020-05-01T12:53:16.121174933Z","streamType":"stderr","text":"go: downloading github.com/Knetic/govaluate v3.0.0+incompatible\n"},{"line":5,"timestamp":"2020-05-01T12:53:16.121182797Z","streamType":"stderr","text":"go: downloading github.com/olekukonko/tablewriter v0.0.1\n"},{"line":6,"timestamp":"2020-05-01T12:53:16.121185427Z","streamType":"stderr","text":"go: downloading github.com/estafette/estafette-ci-manifest v0.1.145\n"},{"line":7,"timestamp":"2020-05-01T12:53:16.121187461Z","streamType":"stderr","text":"go: downloading github.com/opentracing/opentracing-go v1.1.0\n"},{"line":8,"timestamp":"2020-05-01T12:53:16.123955907Z","streamType":"stderr","text":"go: downloading github.com/stretchr/testify v1.4.0\n"},{"line":9,"timestamp":"2020-05-01T12:53:16.127991418Z","streamType":"stderr","text":"go: downloading github.com/docker/engine v0.0.0-20190822205725-ed20165a37b4\n"},{"line":10,"timestamp":"2020-05-01T12:53:16.159869494Z","streamType":"stderr","text":"go: downloading github.com/rs/zerolog v1.17.2\n"},{"line":11,"timestamp":"2020-05-01T12:53:16.16912606Z","streamType":"stderr","text":"go: downloading github.com/opentracing-contrib/go-stdlib v0.0.0-20190519235532-cf7a6c988dc9\n"},{"line":12,"timestamp":"2020-05-01T12:53:16.169143173Z","streamType":"stderr","text":"go: downloading github.com/estafette/estafette-ci-contracts v0.0.182\n"},{"line":13,"timestamp":"2020-05-01T12:53:16.170560463Z","streamType":"stderr","text":"go: downloading github.com/mattn/go-runewidth v0.0.4\n"},{"line":14,"timestamp":"2020-05-01T12:53:16.176368325Z","streamType":"stderr","text":"go: downloading github.com/sethgrid/pester v0.0.0-20190127155807-68a33a018ad0\n"},{"line":15,"timestamp":"2020-05-01T12:53:16.176889932Z","streamType":"stderr","text":"go: downloading github.com/alecthomas/template v0.0.0-20190718012654-fb15b899a751\n"},{"line":16,"timestamp":"2020-05-01T12:53:16.178318204Z","streamType":"stderr","text":"go: downloading github.com/davecgh/go-spew v1.1.1\n"},{"line":17,"timestamp":"2020-05-01T12:53:16.196556713Z","streamType":"stderr","text":"go: downloading github.com/estafette/estafette-foundation v0.0.53\n"},{"line":18,"timestamp":"2020-05-01T12:53:16.196569346Z","streamType":"stderr","text":"go: downloading github.com/uber/jaeger-client-go v2.20.1+incompatible\n"},{"line":19,"timestamp":"2020-05-01T12:53:16.201582198Z","streamType":"stderr","text":"go: downloading github.com/robfig/cron v0.0.0-20180505203441-b41be1df6967\n"},{"line":20,"timestamp":"2020-05-01T12:53:16.21176079Z","streamType":"stderr","text":"go: downloading github.com/estafette/estafette-ci-crypt v0.0.36\n"},{"line":21,"timestamp":"2020-05-01T12:53:16.213212986Z","streamType":"stderr","text":"go: downloading github.com/fsnotify/fsnotify v1.4.7\n"},{"line":22,"timestamp":"2020-05-01T12:53:16.218238767Z","streamType":"stderr","text":"go: downloading github.com/google/uuid v1.1.1\n"},{"line":23,"timestamp":"2020-05-01T12:53:16.223781537Z","streamType":"stderr","text":"go: downloading github.com/logrusorgru/aurora v0.0.0-20191116043053-66b7ad493a23\n"},{"line":24,"timestamp":"2020-05-01T12:53:16.244628222Z","streamType":"stderr","text":"go: downloading github.com/prometheus/client_golang v0.9.2\n"},{"line":25,"timestamp":"2020-05-01T12:53:16.245409182Z","streamType":"stderr","text":"go: downloading github.com/pmezard/go-difflib v1.0.0\n"},{"line":26,"timestamp":"2020-05-01T12:53:16.259353968Z","streamType":"stderr","text":"go: downloading github.com/alecthomas/units v0.0.0-20190910110746-680d30ca3117\n"},{"line":27,"timestamp":"2020-05-01T12:53:16.259364914Z","streamType":"stderr","text":"go: downloading golang.org/x/sys v0.0.0-20190813064441-fde4db37ae7a\n"},{"line":28,"timestamp":"2020-05-01T12:53:16.300701581Z","streamType":"stderr","text":"go: downloading github.com/prometheus/common v0.2.0\n"},{"line":29,"timestamp":"2020-05-01T12:53:16.300714188Z","streamType":"stderr","text":"go: downloading github.com/prometheus/client_model v0.0.0-20190115171406-56726106282f\n"},{"line":30,"timestamp":"2020-05-01T12:53:16.308487314Z","streamType":"stderr","text":"go: downloading github.com/pkg/errors v0.8.1\n"},{"line":31,"timestamp":"2020-05-01T12:53:16.317963111Z","streamType":"stderr","text":"go: downloading go.uber.org/atomic v1.5.1\n"},{"line":32,"timestamp":"2020-05-01T12:53:16.327323266Z","streamType":"stderr","text":"go: downloading github.com/beorn7/perks v0.0.0-20180321164747-3a771d992973\n"},{"line":33,"timestamp":"2020-05-01T12:53:16.339821448Z","streamType":"stderr","text":"go: downloading github.com/uber/jaeger-lib v2.2.0+incompatible\n"},{"line":34,"timestamp":"2020-05-01T12:53:16.340338689Z","streamType":"stderr","text":"go: downloading github.com/golang/protobuf v1.2.0\n"},{"line":35,"timestamp":"2020-05-01T12:53:16.343748009Z","streamType":"stderr","text":"go: downloading github.com/prometheus/procfs v0.0.0-20190117184657-bf6a532e95b1\n"},{"line":36,"timestamp":"2020-05-01T12:53:16.356679926Z","streamType":"stderr","text":"go: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n"},{"line":37,"timestamp":"2020-05-01T12:53:16.780977438Z","streamType":"stderr","text":"go: downloading github.com/docker/go-connections v0.4.0\n"},{"line":38,"timestamp":"2020-05-01T12:53:16.781233248Z","streamType":"stderr","text":"go: downloading github.com/docker/go-units v0.4.0\n"},{"line":39,"timestamp":"2020-05-01T12:53:16.784305764Z","streamType":"stderr","text":"go: downloading google.golang.org/grpc v1.23.1\n"},{"line":40,"timestamp":"2020-05-01T12:53:16.7847104Z","streamType":"stderr","text":"go: downloading github.com/docker/distribution v2.7.1+incompatible\n"},{"line":41,"timestamp":"2020-05-01T12:53:16.784725244Z","streamType":"stderr","text":"go: downloading github.com/sirupsen/logrus v1.4.1\n"},{"line":42,"timestamp":"2020-05-01T12:53:16.785780424Z","streamType":"stderr","text":"go: downloading github.com/opencontainers/image-spec v1.0.1\n"},{"line":43,"timestamp":"2020-05-01T12:53:16.790398355Z","streamType":"stderr","text":"go: downloading github.com/gogo/protobuf v1.3.0\n"},{"line":44,"timestamp":"2020-05-01T12:53:16.822271977Z","streamType":"stderr","text":"go: downloading github.com/opencontainers/go-digest v1.0.0-rc1\n"},{"line":45,"timestamp":"2020-05-01T12:53:16.824164553Z","streamType":"stderr","text":"go: downloading golang.org/x/net v0.0.0-20190724013045-ca1201d0de80\n"},{"line":46,"timestamp":"2020-05-01T12:53:17.002218772Z","streamType":"stderr","text":"go: downloading google.golang.org/genproto v0.0.0-20180817151627-c66870c02cf8\n"},{"line":47,"timestamp":"2020-05-01T12:53:26.494870897Z","streamType":"stdout","text":"?   \tgithub.com/estafette/estafette-ci-builder\t[no test files]\n"},{"line":48,"timestamp":"2020-05-01T12:53:27.744199236Z","streamType":"stdout","text":"ok  \tgithub.com/estafette/estafette-ci-builder/builder\t0.355s\n"},{"line":49,"timestamp":"2020-05-01T12:53:27.817475578Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e go build -v -ldflags \"-X main.appgroup=estafette-ci -X main.app=estafette-ci-builder -X main.version=0.0.656 -X main.revision=e6c2405fc0ffd1e5ed4cca381a8412e12198f570 -X main.branch=master -X main.buildDate=2020-05-01T12:52:58Z\" -o ./publish/estafette-ci-builder\u001b[0m\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"bake-all","image":null,"duration":20224629832,"logLines":[{"line":10000,"timestamp":"2020-05-01T12:53:51.361388809Z","streamType":"stderr","text":"Failed with exit code: 1"}],"exitCode":0,"status":"FAILED","nestedSteps":[{"step":"bake-gocd-agent","depth":1,"image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":121217303,"pullDuration":2885119700,"isTrusted":true},"duration":17092221861,"logLines":[{"line":1,"timestamp":"2020-05-01T12:53:35.757635812Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-docker\u001b[0m version \u001b[1m0.1.168\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-05-01T12:42:01Z \u001b[36mgoVersion=\u001b[0mgo1.14.2 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m6f3b5cb168c7dbf3da31127dbdc6f00c12e79bf1\n"},{"line":2,"timestamp":"2020-05-01T12:53:35.757648227Z","streamType":"stdout","text":"Ensuring build directory ./publish exists\n"},{"line":3,"timestamp":"2020-05-01T12:53:35.757651026Z","streamType":"stdout","text":"Copying directory builder/templates to ./publish\n"},{"line":4,"timestamp":"2020-05-01T12:53:35.757653426Z","streamType":"stdout","text":"Reading dockerfile content from Dockerfile.gocd...\n"},{"line":5,"timestamp":"2020-05-01T12:53:35.757655654Z","streamType":"stdout","text":"Expanding environment variables in Dockerfile...\n"},{"line":6,"timestamp":"2020-05-01T12:53:35.757657472Z","streamType":"stdout","text":"Writing Dockerfile to publish/Dockerfile.gocd...\n"},{"line":7,"timestamp":"2020-05-01T12:53:35.757658982Z","streamType":"stdout","text":"Listing directory ./publish content\n"},{"line":8,"timestamp":"2020-05-01T12:53:35.757660371Z","streamType":"stdout","text":"- Dockerfile\n"},{"line":9,"timestamp":"2020-05-01T12:53:35.757662465Z","streamType":"stdout","text":"- Dockerfile.gocd\n"},{"line":10,"timestamp":"2020-05-01T12:53:35.75767361Z","streamType":"stdout","text":"- estafette-ci-builder\n"},{"line":11,"timestamp":"2020-05-01T12:53:35.75767501Z","streamType":"stdout","text":"- templates/\n"},{"line":12,"timestamp":"2020-05-01T12:53:35.757677576Z","streamType":"stdout","text":"Filtering credentials for images [travix/gocd-agent:20.3.0-alpine]\n"},{"line":13,"timestamp":"2020-05-01T12:53:35.757679257Z","streamType":"stdout","text":"Filtered 1 container-registry credentials down to 0\n"},{"line":14,"timestamp":"2020-05-01T12:53:35.757680988Z","streamType":"stdout","text":"Pulling container image travix/gocd-agent:20.3.0-alpine\n"},{"line":15,"timestamp":"2020-05-01T12:53:35.757682624Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e docker pull travix/gocd-agent:20.3.0-alpine\u001b[0m\n"},{"line":16,"timestamp":"2020-05-01T12:53:36.910475781Z","streamType":"stdout","text":"20.3.0-alpine: Pulling from travix/gocd-agent\n"},{"line":17,"timestamp":"2020-05-01T12:53:36.910495021Z","streamType":"stdout","text":"9d48c3bd43c5: Pulling fs layer\n"},{"line":18,"timestamp":"2020-05-01T12:53:36.910497545Z","streamType":"stdout","text":"7f94eaf8af20: Pulling fs layer\n"},{"line":19,"timestamp":"2020-05-01T12:53:36.910499363Z","streamType":"stdout","text":"9fe9984849c1: Pulling fs layer\n"},{"line":20,"timestamp":"2020-05-01T12:53:36.910500681Z","streamType":"stdout","text":"92cf76c8818a: Pulling fs layer\n"},{"line":21,"timestamp":"2020-05-01T12:53:36.910501932Z","streamType":"stdout","text":"fc3e8b8912c8: Pulling fs layer\n"},{"line":22,"timestamp":"2020-05-01T12:53:36.91050338Z","streamType":"stdout","text":"bf02db085c95: Pulling fs layer\n"},{"line":23,"timestamp":"2020-05-01T12:53:36.910505212Z","streamType":"stdout","text":"9479c7497144: Pulling fs layer\n"},{"line":24,"timestamp":"2020-05-01T12:53:36.910506997Z","streamType":"stdout","text":"689185fbf3c3: Pulling fs layer\n"},{"line":25,"timestamp":"2020-05-01T12:53:36.910508419Z","streamType":"stdout","text":"54732b86f96e: Pulling fs layer\n"},{"line":26,"timestamp":"2020-05-01T12:53:36.910509625Z","streamType":"stdout","text":"81f9c4494a30: Pulling fs layer\n"},{"line":27,"timestamp":"2020-05-01T12:53:36.910511022Z","streamType":"stdout","text":"bac67c70bbb3: Pulling fs layer\n"},{"line":28,"timestamp":"2020-05-01T12:53:36.910512276Z","streamType":"stdout","text":"833392143ab1: Pulling fs layer\n"},{"line":29,"timestamp":"2020-05-01T12:53:36.910513385Z","streamType":"stdout","text":"507be0122c2b: Pulling fs layer\n"},{"line":30,"timestamp":"2020-05-01T12:53:36.910514685Z","streamType":"stdout","text":"8b44e6aed8b6: Pulling fs layer\n"},{"line":31,"timestamp":"2020-05-01T12:53:36.910534229Z","streamType":"stdout","text":"56b7d309eac2: Pulling fs layer\n"},{"line":32,"timestamp":"2020-05-01T12:53:36.910535269Z","streamType":"stdout","text":"986c8f818182: Pulling fs layer\n"},{"line":33,"timestamp":"2020-05-01T12:53:36.910536639Z","streamType":"stdout","text":"5aae633d6efc: Pulling fs layer\n"},{"line":34,"timestamp":"2020-05-01T12:53:36.910537509Z","streamType":"stdout","text":"f807a1ee2e0d: Pulling fs layer\n"},{"line":35,"timestamp":"2020-05-01T12:53:36.910538813Z","streamType":"stdout","text":"7661c0f966af: Pulling fs layer\n"},{"line":36,"timestamp":"2020-05-01T12:53:36.910541987Z","streamType":"stdout","text":"851435483f13: Pulling fs layer\n"},{"line":37,"timestamp":"2020-05-01T12:53:36.91054322Z","streamType":"stdout","text":"bac67c70bbb3: Waiting\n"},{"line":38,"timestamp":"2020-05-01T12:53:36.910544796Z","streamType":"stdout","text":"833392143ab1: Waiting\n"},{"line":39,"timestamp":"2020-05-01T12:53:36.910545831Z","streamType":"stdout","text":"507be0122c2b: Waiting\n"},{"line":40,"timestamp":"2020-05-01T12:53:36.910546886Z","streamType":"stdout","text":"8b44e6aed8b6: Waiting\n"},{"line":41,"timestamp":"2020-05-01T12:53:36.910548148Z","streamType":"stdout","text":"56b7d309eac2: Waiting\n"},{"line":42,"timestamp":"2020-05-01T12:53:36.910562753Z","streamType":"stdout","text":"986c8f818182: Waiting\n"},{"line":43,"timestamp":"2020-05-01T12:53:36.910563868Z","streamType":"stdout","text":"5aae633d6efc: Waiting\n"},{"line":44,"timestamp":"2020-05-01T12:53:36.910565045Z","streamType":"stdout","text":"f807a1ee2e0d: Waiting\n"},{"line":45,"timestamp":"2020-05-01T12:53:36.910566121Z","streamType":"stdout","text":"7661c0f966af: Waiting\n"},{"line":46,"timestamp":"2020-05-01T12:53:36.91056739Z","streamType":"stdout","text":"851435483f13: Waiting\n"},{"line":47,"timestamp":"2020-05-01T12:53:36.910568334Z","streamType":"stdout","text":"92cf76c8818a: Waiting\n"},{"line":48,"timestamp":"2020-05-01T12:53:36.910569323Z","streamType":"stdout","text":"fc3e8b8912c8: Waiting\n"},{"line":49,"timestamp":"2020-05-01T12:53:36.910570274Z","streamType":"stdout","text":"bf02db085c95: Waiting\n"},{"line":50,"timestamp":"2020-05-01T12:53:36.910571326Z","streamType":"stdout","text":"9479c7497144: Waiting\n"},{"line":51,"timestamp":"2020-05-01T12:53:36.911055021Z","streamType":"stdout","text":"54732b86f96e: Waiting\n"},{"line":52,"timestamp":"2020-05-01T12:53:37.319347326Z","streamType":"stdout","text":"9fe9984849c1: Download complete\n"},{"line":53,"timestamp":"2020-05-01T12:53:37.3633295Z","streamType":"stdout","text":"9d48c3bd43c5: Verifying Checksum\n"},{"line":54,"timestamp":"2020-05-01T12:53:37.363345305Z","streamType":"stdout","text":"9d48c3bd43c5: Download complete\n"},{"line":55,"timestamp":"2020-05-01T12:53:37.371283712Z","streamType":"stdout","text":"7f94eaf8af20: Download complete\n"},{"line":56,"timestamp":"2020-05-01T12:53:37.504959101Z","streamType":"stdout","text":"9d48c3bd43c5: Pull complete\n"},{"line":57,"timestamp":"2020-05-01T12:53:37.617077338Z","streamType":"stdout","text":"7f94eaf8af20: Pull complete\n"},{"line":58,"timestamp":"2020-05-01T12:53:37.688941102Z","streamType":"stdout","text":"9fe9984849c1: Pull complete\n"},{"line":59,"timestamp":"2020-05-01T12:53:37.780436194Z","streamType":"stdout","text":"bf02db085c95: Download complete\n"},{"line":60,"timestamp":"2020-05-01T12:53:37.785586218Z","streamType":"stdout","text":"fc3e8b8912c8: Download complete\n"},{"line":61,"timestamp":"2020-05-01T12:53:38.218840707Z","streamType":"stdout","text":"9479c7497144: Download complete\n"},{"line":62,"timestamp":"2020-05-01T12:53:38.249948968Z","streamType":"stdout","text":"689185fbf3c3: Verifying Checksum\n"},{"line":63,"timestamp":"2020-05-01T12:53:38.250065766Z","streamType":"stdout","text":"689185fbf3c3: Download complete\n"},{"line":64,"timestamp":"2020-05-01T12:53:38.346594971Z","streamType":"stdout","text":"92cf76c8818a: Download complete\n"},{"line":65,"timestamp":"2020-05-01T12:53:38.665578362Z","streamType":"stdout","text":"81f9c4494a30: Verifying Checksum\n"},{"line":66,"timestamp":"2020-05-01T12:53:38.665591371Z","streamType":"stdout","text":"81f9c4494a30: Download complete\n"},{"line":67,"timestamp":"2020-05-01T12:53:38.670996571Z","streamType":"stdout","text":"54732b86f96e: Verifying Checksum\n"},{"line":68,"timestamp":"2020-05-01T12:53:38.671004123Z","streamType":"stdout","text":"54732b86f96e: Download complete\n"},{"line":69,"timestamp":"2020-05-01T12:53:38.755468352Z","streamType":"stdout","text":"bac67c70bbb3: Verifying Checksum\n"},{"line":70,"timestamp":"2020-05-01T12:53:38.755478195Z","streamType":"stdout","text":"bac67c70bbb3: Download complete\n"},{"line":71,"timestamp":"2020-05-01T12:53:39.070555321Z","streamType":"stdout","text":"833392143ab1: Verifying Checksum\n"},{"line":72,"timestamp":"2020-05-01T12:53:39.070608503Z","streamType":"stdout","text":"833392143ab1: Download complete\n"},{"line":73,"timestamp":"2020-05-01T12:53:39.138504863Z","streamType":"stdout","text":"507be0122c2b: Verifying Checksum\n"},{"line":74,"timestamp":"2020-05-01T12:53:39.138548704Z","streamType":"stdout","text":"507be0122c2b: Download complete\n"},{"line":75,"timestamp":"2020-05-01T12:53:39.564605234Z","streamType":"stdout","text":"986c8f818182: Verifying Checksum\n"},{"line":76,"timestamp":"2020-05-01T12:53:39.564615574Z","streamType":"stdout","text":"986c8f818182: Download complete\n"},{"line":77,"timestamp":"2020-05-01T12:53:39.606131557Z","streamType":"stdout","text":"8b44e6aed8b6: Verifying Checksum\n"},{"line":78,"timestamp":"2020-05-01T12:53:39.606141702Z","streamType":"stdout","text":"8b44e6aed8b6: Download complete\n"},{"line":79,"timestamp":"2020-05-01T12:53:39.778999266Z","streamType":"stdout","text":"56b7d309eac2: Verifying Checksum\n"},{"line":80,"timestamp":"2020-05-01T12:53:39.77914573Z","streamType":"stdout","text":"56b7d309eac2: Download complete\n"},{"line":81,"timestamp":"2020-05-01T12:53:39.977134404Z","streamType":"stdout","text":"5aae633d6efc: Verifying Checksum\n"},{"line":82,"timestamp":"2020-05-01T12:53:39.977149747Z","streamType":"stdout","text":"5aae633d6efc: Download complete\n"},{"line":83,"timestamp":"2020-05-01T12:53:40.014682673Z","streamType":"stdout","text":"f807a1ee2e0d: Verifying Checksum\n"},{"line":84,"timestamp":"2020-05-01T12:53:40.014694437Z","streamType":"stdout","text":"f807a1ee2e0d: Download complete\n"},{"line":85,"timestamp":"2020-05-01T12:53:40.057256194Z","streamType":"stdout","text":"92cf76c8818a: Pull complete\n"},{"line":86,"timestamp":"2020-05-01T12:53:40.127273219Z","streamType":"stdout","text":"fc3e8b8912c8: Pull complete\n"},{"line":87,"timestamp":"2020-05-01T12:53:40.19353927Z","streamType":"stdout","text":"bf02db085c95: Pull complete\n"},{"line":88,"timestamp":"2020-05-01T12:53:40.196646253Z","streamType":"stdout","text":"7661c0f966af: Verifying Checksum\n"},{"line":89,"timestamp":"2020-05-01T12:53:40.196654799Z","streamType":"stdout","text":"7661c0f966af: Download complete\n"},{"line":90,"timestamp":"2020-05-01T12:53:40.262166566Z","streamType":"stdout","text":"9479c7497144: Pull complete\n"},{"line":91,"timestamp":"2020-05-01T12:53:40.396454204Z","streamType":"stdout","text":"851435483f13: Verifying Checksum\n"},{"line":92,"timestamp":"2020-05-01T12:53:40.396464117Z","streamType":"stdout","text":"851435483f13: Download complete\n"},{"line":93,"timestamp":"2020-05-01T12:53:40.504354908Z","streamType":"stdout","text":"689185fbf3c3: Pull complete\n"},{"line":94,"timestamp":"2020-05-01T12:53:40.586521676Z","streamType":"stdout","text":"54732b86f96e: Pull complete\n"},{"line":95,"timestamp":"2020-05-01T12:53:40.671596361Z","streamType":"stdout","text":"81f9c4494a30: Pull complete\n"},{"line":96,"timestamp":"2020-05-01T12:53:40.74561615Z","streamType":"stdout","text":"bac67c70bbb3: Pull complete\n"},{"line":97,"timestamp":"2020-05-01T12:53:40.814687577Z","streamType":"stdout","text":"833392143ab1: Pull complete\n"},{"line":98,"timestamp":"2020-05-01T12:53:40.991728237Z","streamType":"stdout","text":"507be0122c2b: Pull complete\n"},{"line":99,"timestamp":"2020-05-01T12:53:42.276583473Z","streamType":"stdout","text":"8b44e6aed8b6: Pull complete\n"},{"line":100,"timestamp":"2020-05-01T12:53:42.941996988Z","streamType":"stdout","text":"56b7d309eac2: Pull complete\n"},{"line":101,"timestamp":"2020-05-01T12:53:43.0250912Z","streamType":"stdout","text":"986c8f818182: Pull complete\n"},{"line":102,"timestamp":"2020-05-01T12:53:43.112937323Z","streamType":"stdout","text":"5aae633d6efc: Pull complete\n"},{"line":103,"timestamp":"2020-05-01T12:53:43.201751661Z","streamType":"stdout","text":"f807a1ee2e0d: Pull complete\n"},{"line":104,"timestamp":"2020-05-01T12:53:43.271953438Z","streamType":"stdout","text":"7661c0f966af: Pull complete\n"},{"line":105,"timestamp":"2020-05-01T12:53:43.366327611Z","streamType":"stdout","text":"851435483f13: Pull complete\n"},{"line":106,"timestamp":"2020-05-01T12:53:43.373327758Z","streamType":"stdout","text":"Digest: sha256:7c1ed6572cae7fc8077fd14a3bb06a62bbd1a216f960724c35cfcd7f88fccf91\n"},{"line":107,"timestamp":"2020-05-01T12:53:43.378543799Z","streamType":"stdout","text":"Status: Downloaded newer image for travix/gocd-agent:20.3.0-alpine\n"},{"line":108,"timestamp":"2020-05-01T12:53:43.37966073Z","streamType":"stdout","text":"docker.io/travix/gocd-agent:20.3.0-alpine\n"},{"line":109,"timestamp":"2020-05-01T12:53:43.38223174Z","streamType":"stdout","text":"Filtering credentials for images [estafette/estafette-ci-builder:0.0.656-gocd]\n"},{"line":110,"timestamp":"2020-05-01T12:53:43.382244367Z","streamType":"stdout","text":"Filtered 1 container-registry credentials down to 1\n"},{"line":111,"timestamp":"2020-05-01T12:53:43.38224677Z","streamType":"stdout","text":"Logging in to repository 'estafette'\n"},{"line":112,"timestamp":"2020-05-01T12:53:44.590786487Z","streamType":"stdout","text":"Building docker image estafette/estafette-ci-builder:0.0.656-gocd...\n"},{"line":113,"timestamp":"2020-05-01T12:53:44.59079535Z","streamType":"stdout","text":"\n"},{"line":114,"timestamp":"2020-05-01T12:53:44.590797887Z","streamType":"stdout","text":"FROM travix/gocd-agent:20.3.0-alpine\n"},{"line":115,"timestamp":"2020-05-01T12:53:44.590798662Z","streamType":"stdout","text":"\n"},{"line":116,"timestamp":"2020-05-01T12:53:44.590800066Z","streamType":"stdout","text":"MAINTAINER estafette.io\n"},{"line":117,"timestamp":"2020-05-01T12:53:44.590800736Z","streamType":"stdout","text":"\n"},{"line":118,"timestamp":"2020-05-01T12:53:44.590801779Z","streamType":"stdout","text":"LABEL maintainer=\"estafette.io\" \\\n"},{"line":119,"timestamp":"2020-05-01T12:53:44.59080479Z","streamType":"stdout","text":"      description=\"The estafette-ci-builder is the component that runs builds as defined in the .estafette.yaml manifest\"\n"},{"line":120,"timestamp":"2020-05-01T12:53:44.590805381Z","streamType":"stdout","text":"\n"},{"line":121,"timestamp":"2020-05-01T12:53:44.590806379Z","streamType":"stdout","text":"RUN mkdir -p /estafette-entrypoints \\\n"},{"line":122,"timestamp":"2020-05-01T12:53:44.590807273Z","streamType":"stdout","text":"    \u0026\u0026 docker version\n"},{"line":123,"timestamp":"2020-05-01T12:53:44.590808204Z","streamType":"stdout","text":"\n"},{"line":124,"timestamp":"2020-05-01T12:53:44.590808899Z","streamType":"stdout","text":"# copy builder\n"},{"line":125,"timestamp":"2020-05-01T12:53:44.590809782Z","streamType":"stdout","text":"COPY estafette-ci-builder /usr/bin/\n"},{"line":126,"timestamp":"2020-05-01T12:53:44.590810487Z","streamType":"stdout","text":"COPY templates /entrypoint-templates\n"},{"line":127,"timestamp":"2020-05-01T12:53:44.590812882Z","streamType":"stdout","text":"\n"},{"line":128,"timestamp":"2020-05-01T12:53:44.590814129Z","streamType":"stdout","text":"ENV ESTAFETTE_CI_SERVER=\"gocd\" \\\n"},{"line":129,"timestamp":"2020-05-01T12:53:44.590814919Z","streamType":"stdout","text":"    DOCKER_API_VERSION=\"1.38\" \\\n"},{"line":130,"timestamp":"2020-05-01T12:53:44.590816027Z","streamType":"stdout","text":"    ESTAFETTE_LOG_FORMAT=\"console\"\n"},{"line":131,"timestamp":"2020-05-01T12:53:44.590816662Z","streamType":"stdout","text":"\n"},{"line":132,"timestamp":"2020-05-01T12:53:44.590825426Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e docker build --no-cache --tag estafette/estafette-ci-builder:cache-master --tag estafette/estafette-ci-builder:0.0.656-gocd --file publish/Dockerfile.gocd ./publish\u001b[0m\n"},{"line":133,"timestamp":"2020-05-01T12:53:44.764583Z","streamType":"stdout","text":"Sending build context to Docker daemon  18.42MB\r\r\n"},{"line":134,"timestamp":"2020-05-01T12:53:44.773201323Z","streamType":"stdout","text":"Step 1/7 : FROM travix/gocd-agent:20.3.0-alpine\n"},{"line":135,"timestamp":"2020-05-01T12:53:44.773907928Z","streamType":"stdout","text":" ---\u003e 2677f293c676\n"},{"line":136,"timestamp":"2020-05-01T12:53:44.773915005Z","streamType":"stdout","text":"Step 2/7 : MAINTAINER estafette.io\n"},{"line":137,"timestamp":"2020-05-01T12:53:49.604684768Z","streamType":"stdout","text":" ---\u003e Running in bb3b82b5f719\n"},{"line":138,"timestamp":"2020-05-01T12:53:49.710832081Z","streamType":"stdout","text":"Removing intermediate container bb3b82b5f719\n"},{"line":139,"timestamp":"2020-05-01T12:53:49.710842259Z","streamType":"stdout","text":" ---\u003e 5d3614cd505e\n"},{"line":140,"timestamp":"2020-05-01T12:53:49.710847511Z","streamType":"stdout","text":"Step 3/7 : LABEL maintainer=\"estafette.io\"       description=\"The estafette-ci-builder is the component that runs builds as defined in the .estafette.yaml manifest\"\n"},{"line":141,"timestamp":"2020-05-01T12:53:49.897945248Z","streamType":"stdout","text":" ---\u003e Running in daeb55943a11\n"},{"line":142,"timestamp":"2020-05-01T12:53:50.090240736Z","streamType":"stdout","text":"Removing intermediate container daeb55943a11\n"},{"line":143,"timestamp":"2020-05-01T12:53:50.090251253Z","streamType":"stdout","text":" ---\u003e cf2715ef2ed1\n"},{"line":144,"timestamp":"2020-05-01T12:53:50.090255292Z","streamType":"stdout","text":"Step 4/7 : RUN mkdir -p /estafette-entrypoints     \u0026\u0026 docker version\n"},{"line":145,"timestamp":"2020-05-01T12:53:50.252129207Z","streamType":"stdout","text":" ---\u003e Running in 55ea90bc236b\n"},{"line":146,"timestamp":"2020-05-01T12:53:50.608744074Z","streamType":"stdout","text":"Client: Docker Engine - Community\n"},{"line":147,"timestamp":"2020-05-01T12:53:50.608763974Z","streamType":"stdout","text":" Version:           19.03.2\n"},{"line":148,"timestamp":"2020-05-01T12:53:50.609181629Z","streamType":"stdout","text":" API version:       1.40\n"},{"line":149,"timestamp":"2020-05-01T12:53:50.609183661Z","streamType":"stdout","text":" Go version:        go1.12.8\n"},{"line":150,"timestamp":"2020-05-01T12:53:50.609185032Z","streamType":"stdout","text":" Git commit:        6a30dfca03\n"},{"line":151,"timestamp":"2020-05-01T12:53:50.609187645Z","streamType":"stdout","text":" Built:             Thu Aug 29 05:26:30 2019\n"},{"line":152,"timestamp":"2020-05-01T12:53:50.60950619Z","streamType":"stdout","text":" OS/Arch:           linux/amd64\n"},{"line":153,"timestamp":"2020-05-01T12:53:50.609513731Z","streamType":"stdout","text":" Experimental:      false\n"},{"line":154,"timestamp":"2020-05-01T12:53:50.609517226Z","streamType":"stdout","text":"\u001b[91mCannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?\n"},{"line":155,"timestamp":"2020-05-01T12:53:50.801506966Z","streamType":"stderr","text":"The command '/bin/sh -c mkdir -p /estafette-entrypoints     \u0026\u0026 docker version' returned a non-zero code: 1\n"},{"line":156,"timestamp":"2020-05-01T12:53:50.803243344Z","streamType":"stdout","text":"\u001b[0mFatal error \u001b[31merror=\u001b[0m\u001b[31m\"exit status 1\"\u001b[0m\n"},{"line":10000,"timestamp":"2020-05-01T12:53:51.11732691Z","streamType":"stderr","text":"Failed with exit code: 1"}],"exitCode":0,"status":"FAILED"},{"step":"bake","depth":1,"image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":121217303,"pullDuration":2884661405,"isTrusted":true},"duration":17336899068,"logLines":[{"line":1,"timestamp":"2020-05-01T12:53:35.640641217Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-docker\u001b[0m version \u001b[1m0.1.168\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-05-01T12:42:01Z \u001b[36mgoVersion=\u001b[0mgo1.14.2 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m6f3b5cb168c7dbf3da31127dbdc6f00c12e79bf1\n"},{"line":2,"timestamp":"2020-05-01T12:53:35.640652654Z","streamType":"stdout","text":"Ensuring build directory ./publish exists\n"},{"line":3,"timestamp":"2020-05-01T12:53:35.640654832Z","streamType":"stdout","text":"Copying directory builder/templates to ./publish\n"},{"line":4,"timestamp":"2020-05-01T12:53:35.640655848Z","streamType":"stdout","text":"Reading dockerfile content from Dockerfile...\n"},{"line":5,"timestamp":"2020-05-01T12:53:35.640658468Z","streamType":"stdout","text":"Expanding environment variables in Dockerfile...\n"},{"line":6,"timestamp":"2020-05-01T12:53:35.640659563Z","streamType":"stdout","text":"Writing Dockerfile to publish/Dockerfile...\n"},{"line":7,"timestamp":"2020-05-01T12:53:35.64067104Z","streamType":"stdout","text":"Listing directory ./publish content\n"},{"line":8,"timestamp":"2020-05-01T12:53:35.640671914Z","streamType":"stdout","text":"- Dockerfile\n"},{"line":9,"timestamp":"2020-05-01T12:53:35.640694362Z","streamType":"stdout","text":"- estafette-ci-builder\n"},{"line":10,"timestamp":"2020-05-01T12:53:35.64069542Z","streamType":"stdout","text":"- templates/\n"},{"line":11,"timestamp":"2020-05-01T12:53:35.64069782Z","streamType":"stdout","text":"Filtering credentials for images [estafette/estafette-ci-builder:0.0.656]\n"},{"line":12,"timestamp":"2020-05-01T12:53:35.640699051Z","streamType":"stdout","text":"Filtered 1 container-registry credentials down to 1\n"},{"line":13,"timestamp":"2020-05-01T12:53:35.640700099Z","streamType":"stdout","text":"Logging in to repository 'estafette'\n"},{"line":14,"timestamp":"2020-05-01T12:53:36.786579352Z","streamType":"stdout","text":"Building docker image estafette/estafette-ci-builder:0.0.656...\n"},{"line":15,"timestamp":"2020-05-01T12:53:36.786595477Z","streamType":"stdout","text":"\n"},{"line":16,"timestamp":"2020-05-01T12:53:36.786597944Z","streamType":"stdout","text":"FROM docker:19.03.8-dind\n"},{"line":17,"timestamp":"2020-05-01T12:53:36.786625064Z","streamType":"stdout","text":"\n"},{"line":18,"timestamp":"2020-05-01T12:53:36.786627505Z","streamType":"stdout","text":"LABEL maintainer=\"estafette.io\" \\\n"},{"line":19,"timestamp":"2020-05-01T12:53:36.786641211Z","streamType":"stdout","text":"      description=\"The estafette-ci-builder is the component that runs builds as defined in the .estafette.yaml manifest\"\n"},{"line":20,"timestamp":"2020-05-01T12:53:36.786642207Z","streamType":"stdout","text":"\n"},{"line":21,"timestamp":"2020-05-01T12:53:36.786643727Z","streamType":"stdout","text":"RUN addgroup docker \\\n"},{"line":22,"timestamp":"2020-05-01T12:53:36.786645243Z","streamType":"stdout","text":"    \u0026\u0026 mkdir -p /estafette-entrypoints \\\n"},{"line":23,"timestamp":"2020-05-01T12:53:36.786647073Z","streamType":"stdout","text":"    \u0026\u0026 apk update \\\n"},{"line":24,"timestamp":"2020-05-01T12:53:36.786648486Z","streamType":"stdout","text":"    \u0026\u0026 apk add --no-cache --upgrade \\\n"},{"line":25,"timestamp":"2020-05-01T12:53:36.786650005Z","streamType":"stdout","text":"        openssl \\\n"},{"line":26,"timestamp":"2020-05-01T12:53:36.786651438Z","streamType":"stdout","text":"    \u0026\u0026 rm -rf /var/cache/apk/* \\\n"},{"line":27,"timestamp":"2020-05-01T12:53:36.786653107Z","streamType":"stdout","text":"    \u0026\u0026 docker version\n"},{"line":28,"timestamp":"2020-05-01T12:53:36.786654145Z","streamType":"stdout","text":"\n"},{"line":29,"timestamp":"2020-05-01T12:53:36.786655703Z","streamType":"stdout","text":"# copy builder \u0026 startup script\n"},{"line":30,"timestamp":"2020-05-01T12:53:36.78667349Z","streamType":"stdout","text":"COPY estafette-ci-builder /\n"},{"line":31,"timestamp":"2020-05-01T12:53:36.786675289Z","streamType":"stdout","text":"COPY templates /entrypoint-templates\n"},{"line":32,"timestamp":"2020-05-01T12:53:36.786695737Z","streamType":"stdout","text":"\n"},{"line":33,"timestamp":"2020-05-01T12:53:36.786697094Z","streamType":"stdout","text":"ENV ESTAFETTE_CI_SERVER=\"estafette\" \\\n"},{"line":34,"timestamp":"2020-05-01T12:53:36.786699034Z","streamType":"stdout","text":"    ESTAFETTE_WORKDIR=\"/estafette-work\" \\\n"},{"line":35,"timestamp":"2020-05-01T12:53:36.786700477Z","streamType":"stdout","text":"    ESTAFETTE_LOG_FORMAT=\"v3\"\n"},{"line":36,"timestamp":"2020-05-01T12:53:36.786701162Z","streamType":"stdout","text":"\n"},{"line":37,"timestamp":"2020-05-01T12:53:36.786702419Z","streamType":"stdout","text":"WORKDIR ${ESTAFETTE_WORKDIR}\n"},{"line":38,"timestamp":"2020-05-01T12:53:36.786705111Z","streamType":"stdout","text":"\n"},{"line":39,"timestamp":"2020-05-01T12:53:36.786706862Z","streamType":"stdout","text":"ENTRYPOINT [\"/estafette-ci-builder\"]\n"},{"line":40,"timestamp":"2020-05-01T12:53:36.786707493Z","streamType":"stdout","text":"\n"},{"line":41,"timestamp":"2020-05-01T12:53:36.786710911Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e docker build --no-cache --tag estafette/estafette-ci-builder:cache-master --tag estafette/estafette-ci-builder:0.0.656 --file publish/Dockerfile ./publish\u001b[0m\n"},{"line":42,"timestamp":"2020-05-01T12:53:36.961758697Z","streamType":"stdout","text":"Sending build context to Docker daemon  18.42MB\r\r\n"},{"line":43,"timestamp":"2020-05-01T12:53:36.969368361Z","streamType":"stdout","text":"Step 1/8 : FROM docker:19.03.8-dind\n"},{"line":44,"timestamp":"2020-05-01T12:53:38.08917092Z","streamType":"stdout","text":"19.03.8-dind: Pulling from library/docker\n"},{"line":45,"timestamp":"2020-05-01T12:53:38.487395606Z","streamType":"stdout","text":"cbdbe7a5bc2a: Already exists\n"},{"line":46,"timestamp":"2020-05-01T12:53:38.494707881Z","streamType":"stdout","text":"6f4c731d6eb3: Pulling fs layer\n"},{"line":47,"timestamp":"2020-05-01T12:53:38.49471721Z","streamType":"stdout","text":"5d79d4ac3cd0: Pulling fs layer\n"},{"line":48,"timestamp":"2020-05-01T12:53:38.494719261Z","streamType":"stdout","text":"65de10866d6a: Pulling fs layer\n"},{"line":49,"timestamp":"2020-05-01T12:53:38.494720057Z","streamType":"stdout","text":"ffd69ed7f17f: Pulling fs layer\n"},{"line":50,"timestamp":"2020-05-01T12:53:38.494720942Z","streamType":"stdout","text":"07ba9e5a2fa6: Pulling fs layer\n"},{"line":51,"timestamp":"2020-05-01T12:53:38.494730393Z","streamType":"stdout","text":"75478c283dd2: Pulling fs layer\n"},{"line":52,"timestamp":"2020-05-01T12:53:38.494926805Z","streamType":"stdout","text":"3a34b06546be: Pulling fs layer\n"},{"line":53,"timestamp":"2020-05-01T12:53:38.494934828Z","streamType":"stdout","text":"bcf9fe696821: Pulling fs layer\n"},{"line":54,"timestamp":"2020-05-01T12:53:38.495473073Z","streamType":"stdout","text":"326857604f33: Pulling fs layer\n"},{"line":55,"timestamp":"2020-05-01T12:53:38.495480778Z","streamType":"stdout","text":"8949ad47c3a9: Pulling fs layer\n"},{"line":56,"timestamp":"2020-05-01T12:53:38.495974459Z","streamType":"stdout","text":"65de10866d6a: Waiting\n"},{"line":57,"timestamp":"2020-05-01T12:53:38.49597653Z","streamType":"stdout","text":"6f4c731d6eb3: Waiting\n"},{"line":58,"timestamp":"2020-05-01T12:53:38.495978101Z","streamType":"stdout","text":"ffd69ed7f17f: Waiting\n"},{"line":59,"timestamp":"2020-05-01T12:53:38.49597944Z","streamType":"stdout","text":"5d79d4ac3cd0: Waiting\n"},{"line":60,"timestamp":"2020-05-01T12:53:38.495981123Z","streamType":"stdout","text":"3a34b06546be: Waiting\n"},{"line":61,"timestamp":"2020-05-01T12:53:38.49598815Z","streamType":"stdout","text":"bcf9fe696821: Waiting\n"},{"line":62,"timestamp":"2020-05-01T12:53:38.496023633Z","streamType":"stdout","text":"07ba9e5a2fa6: Waiting\n"},{"line":63,"timestamp":"2020-05-01T12:53:38.496456904Z","streamType":"stdout","text":"326857604f33: Waiting\n"},{"line":64,"timestamp":"2020-05-01T12:53:38.496458941Z","streamType":"stdout","text":"75478c283dd2: Waiting\n"},{"line":65,"timestamp":"2020-05-01T12:53:40.607435034Z","streamType":"stdout","text":"5d79d4ac3cd0: Verifying Checksum\n"},{"line":66,"timestamp":"2020-05-01T12:53:40.607446469Z","streamType":"stdout","text":"5d79d4ac3cd0: Download complete\n"},{"line":67,"timestamp":"2020-05-01T12:53:40.656075729Z","streamType":"stdout","text":"6f4c731d6eb3: Pull complete\n"},{"line":68,"timestamp":"2020-05-01T12:53:40.729409526Z","streamType":"stdout","text":"5d79d4ac3cd0: Pull complete\n"},{"line":69,"timestamp":"2020-05-01T12:53:40.918673503Z","streamType":"stdout","text":"ffd69ed7f17f: Verifying Checksum\n"},{"line":70,"timestamp":"2020-05-01T12:53:40.918692013Z","streamType":"stdout","text":"ffd69ed7f17f: Download complete\n"},{"line":71,"timestamp":"2020-05-01T12:53:41.032804817Z","streamType":"stdout","text":"07ba9e5a2fa6: Verifying Checksum\n"},{"line":72,"timestamp":"2020-05-01T12:53:41.032816872Z","streamType":"stdout","text":"07ba9e5a2fa6: Download complete\n"},{"line":73,"timestamp":"2020-05-01T12:53:41.329492536Z","streamType":"stdout","text":"65de10866d6a: Verifying Checksum\n"},{"line":74,"timestamp":"2020-05-01T12:53:41.329507659Z","streamType":"stdout","text":"65de10866d6a: Download complete\n"},{"line":75,"timestamp":"2020-05-01T12:53:41.330847933Z","streamType":"stdout","text":"75478c283dd2: Verifying Checksum\n"},{"line":76,"timestamp":"2020-05-01T12:53:41.330857171Z","streamType":"stdout","text":"75478c283dd2: Download complete\n"},{"line":77,"timestamp":"2020-05-01T12:53:41.552876574Z","streamType":"stdout","text":"3a34b06546be: Verifying Checksum\n"},{"line":78,"timestamp":"2020-05-01T12:53:41.552887675Z","streamType":"stdout","text":"3a34b06546be: Download complete\n"},{"line":79,"timestamp":"2020-05-01T12:53:41.739791655Z","streamType":"stdout","text":"326857604f33: Verifying Checksum\n"},{"line":80,"timestamp":"2020-05-01T12:53:41.74028135Z","streamType":"stdout","text":"326857604f33: Download complete\n"},{"line":81,"timestamp":"2020-05-01T12:53:41.764389085Z","streamType":"stdout","text":"bcf9fe696821: Download complete\n"},{"line":82,"timestamp":"2020-05-01T12:53:41.999928266Z","streamType":"stdout","text":"8949ad47c3a9: Verifying Checksum\n"},{"line":83,"timestamp":"2020-05-01T12:53:41.999938399Z","streamType":"stdout","text":"8949ad47c3a9: Download complete\n"},{"line":84,"timestamp":"2020-05-01T12:53:43.351828723Z","streamType":"stdout","text":"65de10866d6a: Pull complete\n"},{"line":85,"timestamp":"2020-05-01T12:53:43.424392355Z","streamType":"stdout","text":"ffd69ed7f17f: Pull complete\n"},{"line":86,"timestamp":"2020-05-01T12:53:43.497505522Z","streamType":"stdout","text":"07ba9e5a2fa6: Pull complete\n"},{"line":87,"timestamp":"2020-05-01T12:53:43.566952773Z","streamType":"stdout","text":"75478c283dd2: Pull complete\n"},{"line":88,"timestamp":"2020-05-01T12:53:43.796948829Z","streamType":"stdout","text":"3a34b06546be: Pull complete\n"},{"line":89,"timestamp":"2020-05-01T12:53:43.870502784Z","streamType":"stdout","text":"bcf9fe696821: Pull complete\n"},{"line":90,"timestamp":"2020-05-01T12:53:43.944110104Z","streamType":"stdout","text":"326857604f33: Pull complete\n"},{"line":91,"timestamp":"2020-05-01T12:53:44.008867163Z","streamType":"stdout","text":"8949ad47c3a9: Pull complete\n"},{"line":92,"timestamp":"2020-05-01T12:53:44.017155909Z","streamType":"stdout","text":"Digest: sha256:09515aa8806183adcd89911c23ecbac74b713d89b4832a0f0551b460ea1c20a1\n"},{"line":93,"timestamp":"2020-05-01T12:53:44.022386856Z","streamType":"stdout","text":"Status: Downloaded newer image for docker:19.03.8-dind\n"},{"line":94,"timestamp":"2020-05-01T12:53:44.023042782Z","streamType":"stdout","text":" ---\u003e 7799c84f00cd\n"},{"line":95,"timestamp":"2020-05-01T12:53:44.023059239Z","streamType":"stdout","text":"Step 2/8 : LABEL maintainer=\"estafette.io\"       description=\"The estafette-ci-builder is the component that runs builds as defined in the .estafette.yaml manifest\"\n"},{"line":96,"timestamp":"2020-05-01T12:53:49.605100254Z","streamType":"stdout","text":" ---\u003e Running in c085c8ff48fc\n"},{"line":97,"timestamp":"2020-05-01T12:53:49.712506166Z","streamType":"stdout","text":"Removing intermediate container c085c8ff48fc\n"},{"line":98,"timestamp":"2020-05-01T12:53:49.7125194Z","streamType":"stdout","text":" ---\u003e c9116d3252da\n"},{"line":99,"timestamp":"2020-05-01T12:53:49.712523989Z","streamType":"stdout","text":"Step 3/8 : RUN addgroup docker     \u0026\u0026 mkdir -p /estafette-entrypoints     \u0026\u0026 apk update     \u0026\u0026 apk add --no-cache --upgrade         openssl     \u0026\u0026 rm -rf /var/cache/apk/*     \u0026\u0026 docker version\n"},{"line":100,"timestamp":"2020-05-01T12:53:49.897962439Z","streamType":"stdout","text":" ---\u003e Running in 9bb48fc60cae\n"},{"line":101,"timestamp":"2020-05-01T12:53:50.274912738Z","streamType":"stdout","text":"fetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\n"},{"line":102,"timestamp":"2020-05-01T12:53:50.388639733Z","streamType":"stdout","text":"fetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n"},{"line":103,"timestamp":"2020-05-01T12:53:50.540069394Z","streamType":"stdout","text":"v3.11.6-10-g3d1aef7a83 [http://dl-cdn.alpinelinux.org/alpine/v3.11/main]\n"},{"line":104,"timestamp":"2020-05-01T12:53:50.540084026Z","streamType":"stdout","text":"v3.11.6-13-g5da24b5794 [http://dl-cdn.alpinelinux.org/alpine/v3.11/community]\n"},{"line":105,"timestamp":"2020-05-01T12:53:50.540086909Z","streamType":"stdout","text":"OK: 11272 distinct packages available\n"},{"line":106,"timestamp":"2020-05-01T12:53:50.574393639Z","streamType":"stdout","text":"fetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\n"},{"line":107,"timestamp":"2020-05-01T12:53:50.660673095Z","streamType":"stdout","text":"fetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n"},{"line":108,"timestamp":"2020-05-01T12:53:50.798510151Z","streamType":"stdout","text":"OK: 25 MiB in 45 packages\n"},{"line":109,"timestamp":"2020-05-01T12:53:50.855511348Z","streamType":"stdout","text":"Client: Docker Engine - Community\n"},{"line":110,"timestamp":"2020-05-01T12:53:50.855524099Z","streamType":"stdout","text":" Version:           19.03.8\n"},{"line":111,"timestamp":"2020-05-01T12:53:50.8555263Z","streamType":"stdout","text":" API version:       1.40\n"},{"line":112,"timestamp":"2020-05-01T12:53:50.85552708Z","streamType":"stdout","text":" Go version:        go1.12.17\n"},{"line":113,"timestamp":"2020-05-01T12:53:50.855527873Z","streamType":"stdout","text":" Git commit:        afacb8b7f0\n"},{"line":114,"timestamp":"2020-05-01T12:53:50.855528988Z","streamType":"stdout","text":" Built:             Wed Mar 11 01:22:56 2020\n"},{"line":115,"timestamp":"2020-05-01T12:53:50.855536264Z","streamType":"stdout","text":" OS/Arch:           linux/amd64\n"},{"line":116,"timestamp":"2020-05-01T12:53:50.855537128Z","streamType":"stdout","text":" Experimental:      false\n"},{"line":117,"timestamp":"2020-05-01T12:53:50.855540274Z","streamType":"stdout","text":"\u001b[91mCannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?\n"},{"line":118,"timestamp":"2020-05-01T12:53:51.093367235Z","streamType":"stderr","text":"The command '/bin/sh -c addgroup docker     \u0026\u0026 mkdir -p /estafette-entrypoints     \u0026\u0026 apk update     \u0026\u0026 apk add --no-cache --upgrade         openssl     \u0026\u0026 rm -rf /var/cache/apk/*     \u0026\u0026 docker version' returned a non-zero code: 1\n"},{"line":119,"timestamp":"2020-05-01T12:53:51.093383811Z","streamType":"stdout","text":"\u001b[0mFatal error \u001b[31merror=\u001b[0m\u001b[31m\"exit status 1\"\u001b[0m\n"},{"line":10000,"timestamp":"2020-05-01T12:53:51.361374503Z","streamType":"stderr","text":"Failed with exit code: 1"}],"exitCode":0,"status":"FAILED"}]},{"step":"dive-and-trivy-all","image":null,"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED","nestedSteps":[{"step":"dive","depth":1,"image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"dive-gocd-agent","depth":1,"image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"trivy","depth":1,"image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"trivy-gocd-agent","depth":1,"image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"}]},{"step":"clean-working-directory","image":{"name":"golang","tag":"1.14.0-alpine3.11","isPulled":false,"imageSize":0,"pullDuration":0},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"test","image":{"name":"estafette/estafette-ci-builder","tag":"${ESTAFETTE_BUILD_VERSION}","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"push-all","image":null,"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED","nestedSteps":[{"step":"push-to-docker-hub","depth":1,"image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"push-gocd-agent-to-docker-hub","depth":1,"image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"}]},{"step":"slack-notify","image":{"name":"extensions/slack-build-status","tag":"dev","isPulled":false,"imageSize":12653738,"pullDuration":1823048742,"isTrusted":true},"duration":1203912197,"logLines":[{"line":1,"timestamp":"2020-05-01T12:53:53.84468272Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-slack-build-status\u001b[0m version \u001b[1m0.1.66\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-03-04T09:34:02Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0me3cdae7bc38d796404b561d6f47e0d28009738c2\n"},{"line":2,"timestamp":"2020-05-01T12:53:53.844690006Z","streamType":"stdout","text":"Unmarshalling credentials...\n"},{"line":3,"timestamp":"2020-05-01T12:53:53.844692781Z","streamType":"stdout","text":"Checking if credential estafette exists...\n"},{"line":4,"timestamp":"2020-05-01T12:53:53.844695131Z","streamType":"stdout","text":"Checking credential slack-webhook-estafette for workspace estafette...\n"},{"line":5,"timestamp":"2020-05-01T12:53:53.84470758Z","streamType":"stdout","text":"Found credential slack-webhook-estafette for workspace estafette\n"},{"line":6,"timestamp":"2020-05-01T12:53:54.125917692Z","streamType":"stdout","text":"Finished estafette-extension-slack-build-status...\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"set-build-status","image":null,"duration":1583172509,"logLines":[{"line":1,"timestamp":"2020-05-01T12:53:55.058746336Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-github-status\u001b[0m version \u001b[1m0.1.46\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-03-04T09:32:11Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m6db9d43ca763f9104293785ed2c594320dd7946a\n"},{"line":2,"timestamp":"2020-05-01T12:53:55.058759161Z","streamType":"stdout","text":"Setting logs url https://estafette.travix.com/pipelines/github.com/estafette/estafette-ci-builder/builds/551377883488452618/logs\n"},{"line":3,"timestamp":"2020-05-01T12:53:55.725231487Z","streamType":"stdout","text":"Received successful response for 'https://api.github.com/repos/estafette/estafette-ci-builder/statuses/e6c2405fc0ffd1e5ed4cca381a8412e12198f570' Github api call with status code 201\n"},{"line":4,"timestamp":"2020-05-01T12:53:55.725251894Z","streamType":"stdout","text":"Finished estafette-extension-github-status...\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true}]