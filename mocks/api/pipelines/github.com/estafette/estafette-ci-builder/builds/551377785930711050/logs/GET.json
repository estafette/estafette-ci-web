[{"step":"builder-info","image":null,"duration":0,"logLines":[{"line":1,"timestamp":"2020-05-01T12:52:28.801100941Z","streamType":"stdout","text":"Starting \u001b[1mestafette-ci-builder\u001b[0m version \u001b[1m0.0.653\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-04-29T17:57:05Z \u001b[36mgoVersion=\u001b[0mgo1.14.2 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m6042ffa9c5238baf733392c5e72ad6f916620c1c"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true},{"step":"initialize","image":null,"duration":6238457657,"logLines":null,"exitCode":0,"status":"SUCCEEDED","autoInjected":true,"nestedSteps":[{"step":"envvars","depth":1,"image":{"name":"extensions/envvars","tag":"stable","isPulled":false,"imageSize":11158339,"pullDuration":2313219393},"duration":1826565955,"logLines":[{"line":1,"timestamp":"2020-05-01T12:52:32.680744788Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-envvars\u001b[0m version \u001b[1m0.1.15\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-03-04T09:29:44Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0ma1eec2828262801647117796b44ee95ed842ef2f\n"},{"line":2,"timestamp":"2020-05-01T12:52:32.680755145Z","streamType":"stdout","text":"All available estafette environment variables; the _DNS_SAFE suffixed ones can be used to set dns labels. Since leading digits are not allowed some of them are empty.\n"},{"line":3,"timestamp":"2020-05-01T12:52:32.680759008Z","streamType":"stdout","text":"ESTAFETTE_BUILD_DATETIME: 2020-05-01T12:52:28Z\n"},{"line":4,"timestamp":"2020-05-01T12:52:32.680760853Z","streamType":"stdout","text":"ESTAFETTE_BUILD_DATETIME_DNS_SAFE: t12-52-28z\n"},{"line":5,"timestamp":"2020-05-01T12:52:32.680762165Z","streamType":"stdout","text":"ESTAFETTE_BUILD_ID: 551377785930711050\n"},{"line":6,"timestamp":"2020-05-01T12:52:32.680763523Z","streamType":"stdout","text":"ESTAFETTE_BUILD_ID_DNS_SAFE: \n"},{"line":7,"timestamp":"2020-05-01T12:52:32.680764397Z","streamType":"stdout","text":"ESTAFETTE_BUILD_STATUS: succeeded\n"},{"line":8,"timestamp":"2020-05-01T12:52:32.680765256Z","streamType":"stdout","text":"ESTAFETTE_BUILD_STATUS_DNS_SAFE: succeeded\n"},{"line":9,"timestamp":"2020-05-01T12:52:32.68076606Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION: 0.0.655\n"},{"line":10,"timestamp":"2020-05-01T12:52:32.680767066Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_DNS_SAFE: \n"},{"line":11,"timestamp":"2020-05-01T12:52:32.680768038Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_LABEL: master\n"},{"line":12,"timestamp":"2020-05-01T12:52:32.680769232Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_LABEL_DNS_SAFE: master\n"},{"line":13,"timestamp":"2020-05-01T12:52:32.680770238Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MAJOR: 0\n"},{"line":14,"timestamp":"2020-05-01T12:52:32.680771131Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MAJOR_DNS_SAFE: \n"},{"line":15,"timestamp":"2020-05-01T12:52:32.680772034Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MINOR: 0\n"},{"line":16,"timestamp":"2020-05-01T12:52:32.680772905Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MINOR_DNS_SAFE: \n"},{"line":17,"timestamp":"2020-05-01T12:52:32.680774149Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_PATCH: 655\n"},{"line":18,"timestamp":"2020-05-01T12:52:32.680775229Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_PATCH_DNS_SAFE: \n"},{"line":19,"timestamp":"2020-05-01T12:52:32.680777589Z","streamType":"stdout","text":"ESTAFETTE_CI_SERVER_BASE_URL: https://estafette.travix.com/\n"},{"line":20,"timestamp":"2020-05-01T12:52:32.680780067Z","streamType":"stdout","text":"ESTAFETTE_CI_SERVER_BASE_URL_DNS_SAFE: https-estafette-travix-com\n"},{"line":21,"timestamp":"2020-05-01T12:52:32.680781422Z","streamType":"stdout","text":"ESTAFETTE_EXTENSION_CUSTOM_PROPERTIES: null\n"},{"line":22,"timestamp":"2020-05-01T12:52:32.680782552Z","streamType":"stdout","text":"ESTAFETTE_EXTENSION_CUSTOM_PROPERTIES_YAML: {}\n"},{"line":23,"timestamp":"2020-05-01T12:52:32.680783677Z","streamType":"stdout","text":"\n"},{"line":24,"timestamp":"2020-05-01T12:52:32.680785336Z","streamType":"stdout","text":"ESTAFETTE_GIT_BRANCH: master\n"},{"line":25,"timestamp":"2020-05-01T12:52:32.680786484Z","streamType":"stdout","text":"ESTAFETTE_GIT_BRANCH_DNS_SAFE: master\n"},{"line":26,"timestamp":"2020-05-01T12:52:32.680787996Z","streamType":"stdout","text":"ESTAFETTE_GIT_FULLNAME: estafette/estafette-ci-builder\n"},{"line":27,"timestamp":"2020-05-01T12:52:32.680789523Z","streamType":"stdout","text":"ESTAFETTE_GIT_FULLNAME_DNS_SAFE: estafette-estafette-ci-builder\n"},{"line":28,"timestamp":"2020-05-01T12:52:32.680790612Z","streamType":"stdout","text":"ESTAFETTE_GIT_NAME: estafette-ci-builder\n"},{"line":29,"timestamp":"2020-05-01T12:52:32.680792049Z","streamType":"stdout","text":"ESTAFETTE_GIT_NAME_DNS_SAFE: estafette-ci-builder\n"},{"line":30,"timestamp":"2020-05-01T12:52:32.680793218Z","streamType":"stdout","text":"ESTAFETTE_GIT_OWNER: estafette\n"},{"line":31,"timestamp":"2020-05-01T12:52:32.680794784Z","streamType":"stdout","text":"ESTAFETTE_GIT_OWNER_DNS_SAFE: estafette\n"},{"line":32,"timestamp":"2020-05-01T12:52:32.680796516Z","streamType":"stdout","text":"ESTAFETTE_GIT_REVISION: f67c2706185be18c278f898e078420047b9211d6\n"},{"line":33,"timestamp":"2020-05-01T12:52:32.680806221Z","streamType":"stdout","text":"ESTAFETTE_GIT_REVISION_DNS_SAFE: f67c2706185be18c278f898e078420047b9211d6\n"},{"line":34,"timestamp":"2020-05-01T12:52:32.680808062Z","streamType":"stdout","text":"ESTAFETTE_GIT_SOURCE: github.com\n"},{"line":35,"timestamp":"2020-05-01T12:52:32.680809493Z","streamType":"stdout","text":"ESTAFETTE_GIT_SOURCE_DNS_SAFE: github-com\n"},{"line":36,"timestamp":"2020-05-01T12:52:32.680810848Z","streamType":"stdout","text":"ESTAFETTE_LABEL_APP_GROUP: estafette-ci\n"},{"line":37,"timestamp":"2020-05-01T12:52:32.680812321Z","streamType":"stdout","text":"ESTAFETTE_LABEL_APP_GROUP_DNS_SAFE: estafette-ci\n"},{"line":38,"timestamp":"2020-05-01T12:52:32.680813619Z","streamType":"stdout","text":"ESTAFETTE_LABEL_LANGUAGE: golang\n"},{"line":39,"timestamp":"2020-05-01T12:52:32.680814808Z","streamType":"stdout","text":"ESTAFETTE_LABEL_LANGUAGE_DNS_SAFE: golang\n"},{"line":40,"timestamp":"2020-05-01T12:52:32.68081604Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TEAM: estafette-team\n"},{"line":41,"timestamp":"2020-05-01T12:52:32.680817169Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TEAM_DNS_SAFE: estafette-team\n"},{"line":42,"timestamp":"2020-05-01T12:52:32.680818623Z","streamType":"stdout","text":"ESTAFETTE_LOG_FORMAT: console\n"},{"line":43,"timestamp":"2020-05-01T12:52:32.680978475Z","streamType":"stdout","text":"ESTAFETTE_STAGES: [{\"Name\":\"initialize\",\"ContainerImage\":\"\",\"Shell\":\"\",\"WorkingDirectory\":\"\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":[{\"Name\":\"git-clone\",\"ContainerImage\":\"extensions/git-clone:stable\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":null},{\"Name\":\"set-pending-build-status\",\"ContainerImage\":\"extensions/github-status:stable\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"status\":\"pending\"}},{\"Name\":\"envvars\",\"ContainerImage\":\"extensions/envvars:stable\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":null}],\"Services\":null,\"CustomProperties\":null},{\"Name\":\"build\",\"ContainerImage\":\"golang:1.14.2-alpine3.11\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":[\"go test ./...\",\"go build -v -ldflags \\\"-X main.appgroup=estafette-ci -X main.app=estafette-ci-builder -X main.version=0.0.655 -X main.revision=f67c2706185be18c278f898e078420047b9211d6 -X main.branch=master -X main.buildDate=2020-05-01T12:52:28Z\\\" -o ./publish/estafette-ci-builder\"],\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":{\"CGO_ENABLED\":\"0\",\"GOARCH\":\"amd64\",\"GOOS\":\"linux\"},\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{}},{\"Name\":\"bake-all\",\"ContainerImage\":\"\",\"Shell\":\"\",\"WorkingDirectory\":\"\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":[{\"Name\":\"bake\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"build\",\"copy\":[\"builder/templates\"],\"dontExpand\":[\"ESTAFETTE_WORKDIR\"],\"no-cache\":true,\"path\":\"./publish\",\"repositories\":[\"estafette\"]}},{\"Name\":\"bake-gocd-agent\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"build\",\"copy\":[\"builder/templates\"],\"dockerfile\":\"Dockerfile.gocd\",\"no-cache\":true,\"path\":\"./publish\",\"repositories\":[\"estafette\"],\"versionTagSuffix\":\"gocd\"}}],\"Services\":null,\"CustomProperties\":{}},{\"Name\":\"dive-and-trivy-all\",\"ContainerImage\":\"\",\"Shell\":\"\",\"WorkingDirectory\":\"\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":[{\"Name\":\"dive\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"dive\",\"repositories\":[\"estafette\"]}},{\"Name\":\"dive-gocd-agent\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"dive\",\"repositories\":[\"estafette\"],\"versionTagSuffix\":\"gocd\"}},{\"Name\":\"trivy\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"trivy\",\"repositories\":[\"estafette\"]}},{\"Name\":\"trivy-gocd-agent\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"trivy\",\"repositories\":[\"estafette\"],\"versionTagSuffix\":\"gocd\"}}],\"Services\":null,\"CustomProperties\":{}},{\"Name\":\"clean-working-directory\",\"ContainerImage\":\"golang:1.14.0-alpine3.11\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":[\"rm -rf ..?* .[!.]* *\"],\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{}},{\"Name\":\"test\",\"ContainerImage\":\"estafette/estafette-ci-builder:0.0.655\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":{\"BUILDER_CONFIG\":\"{ \\\"action\\\":\\\"build\\\", \\\"track\\\":\\\"dev\\\", \\\"dindMtu\\\":\\\"1460\\\", \\\"dindBip\\\":\\\"192.168.3.1/24\\\", \\\"dindNetwork\\\":{ \\\"name\\\":\\\"estafette-integration\\\", \\\"subnet\\\":\\\"192.168.4.1/24\\\", \\\"gateway\\\":\\\"192.168.4.1\\\" }, \\\"manifest\\\":{ \\\"Builder\\\":{ \\\"Track\\\":\\\"stable\\\", \\\"OperatingSystem\\\":\\\"linux\\\" }, \\\"Labels\\\":{ \\\"app\\\":\\\"estafette-ci-builder\\\", \\\"app-group\\\":\\\"estafette-ci\\\", \\\"language\\\":\\\"golang\\\", \\\"team\\\":\\\"estafette-team\\\" }, \\\"Version\\\":{ \\\"SemVer\\\":{ \\\"Major\\\":0, \\\"Minor\\\":0, \\\"Patch\\\":\\\"{{auto}}\\\", \\\"LabelTemplate\\\":\\\"{{branch}}\\\", \\\"ReleaseBranch\\\":\\\"master\\\" }, \\\"Custom\\\":null }, \\\"GlobalEnvVars\\\":null, \\\"Stages\\\":[ { \\\"Name\\\":\\\"services-test\\\", \\\"ContainerImage\\\":\\\"alpine:latest\\\", \\\"Shell\\\":\\\"/bin/sh\\\", \\\"WorkingDirectory\\\":\\\"/estafette-work\\\", \\\"Commands\\\": [ \\\"route\\\", \\\"ip addr show eth0\\\", \\\"cat /etc/hosts\\\", \\\"cat /etc/resolv.conf\\\", \\\"apk add curl\\\", \\\"curl -v --connect-timeout 2 --retry 10 --retry-delay 2 --retry-connrefused http://nginx:80/\\\" ], \\\"When\\\":\\\"status == 'succeeded'\\\", \\\"EnvVars\\\":null, \\\"AutoInjected\\\":false, \\\"Retries\\\":0, \\\"Services\\\": [ { \\\"Name\\\": \\\"nginx\\\", \\\"ContainerImage\\\": \\\"nginx:alpine\\\", \\\"Shell\\\":\\\"/bin/sh\\\", \\\"When\\\":\\\"status == 'succeeded'\\\", \\\"Readiness\\\": { \\\"Path\\\": \\\"/\\\", \\\"TimeoutSeconds\\\": 30, \\\"Hostname\\\": \\\"nginx\\\", \\\"Port\\\": 80, \\\"Protocol\\\": \\\"http\\\" } }, { \\\"Name\\\": \\\"cockroachdb\\\", \\\"ContainerImage\\\": \\\"cockroachdb/cockroach:v19.2.0\\\", \\\"Commands\\\":[ \\\"/cockroach/cockroach start-single-node --insecure --advertise-addr cockroachdb\\\" ], \\\"EnvVars\\\":{ \\\"COCKROACH_SKIP_ENABLING_DIAGNOSTIC_REPORTING\\\":\\\"true\\\" }, \\\"Shell\\\":\\\"/bin/sh\\\", \\\"When\\\":\\\"status == 'succeeded'\\\", \\\"Readiness\\\": { \\\"Path\\\": \\\"/health?ready=1\\\", \\\"TimeoutSeconds\\\": 30, \\\"Hostname\\\": \\\"cockroachdb\\\", \\\"Port\\\": 8080, \\\"Protocol\\\": \\\"http\\\" } } ] }, { \\\"Name\\\":\\\"git-clone\\\", \\\"ContainerImage\\\":\\\"extensions/git-clone:dev\\\", \\\"Shell\\\":\\\"/bin/sh\\\", \\\"WorkingDirectory\\\":\\\"/estafette-work\\\", \\\"Commands\\\":null, \\\"shallow\\\": false, \\\"When\\\":\\\"status == 'succeeded'\\\", \\\"EnvVars\\\":null, \\\"AutoInjected\\\":true, \\\"Retries\\\":0, \\\"CustomProperties\\\":null }, { \\\"Name\\\":\\\"parallel-builds\\\", \\\"ContainerImage\\\":\\\"\\\", \\\"Shell\\\":\\\"/bin/sh\\\", \\\"WorkingDirectory\\\":\\\"/estafette-work\\\", \\\"Commands\\\":[], \\\"When\\\":\\\"status == 'succeeded'\\\", \\\"EnvVars\\\":{}, \\\"AutoInjected\\\":false, \\\"Retries\\\":0, \\\"CustomProperties\\\":null, \\\"ParallelStages\\\":[ { \\\"Name\\\":\\\"buildA\\\", \\\"ContainerImage\\\": \\\"golang:1.14.0-alpine3.11\\\", \\\"Shell\\\":\\\"/bin/sh\\\", \\\"WorkingDirectory\\\":\\\"/estafette-work\\\", \\\"Commands\\\":[ \\\"go test ./...\\\", \\\"go build -v -ldflags \\\\\\\"-X main.version=0.0.655 -X main.revision=f67c2706185be18c278f898e078420047b9211d6 -X main.branch=master -X main.buildDate=2020-05-01T12:52:28Z\\\\\\\" -o ./publish/estafette-ci-builder\\\", \\\"echo ${PWD}\\\", \\\"ls -latr\\\", \\\"ls -latr ./publish\\\" ], \\\"When\\\":\\\"status == 'succeeded'\\\", \\\"EnvVars\\\":{ \\\"CGO_ENABLED\\\":\\\"0\\\", \\\"GOOS\\\":\\\"linux\\\", \\\"GOARCH\\\":\\\"amd64\\\" }, \\\"AutoInjected\\\":false, \\\"Retries\\\":0, \\\"CustomProperties\\\":null }, { \\\"Name\\\":\\\"buildB\\\", \\\"ContainerImage\\\":\\\"alpine:3.10\\\", \\\"Shell\\\":\\\"/bin/sh\\\", \\\"WorkingDirectory\\\":\\\"/estafette-work\\\", \\\"Commands\\\":[ \\\"echo hi\\\" ], \\\"When\\\":\\\"status == 'succeeded'\\\" } ] }, { \\\"Name\\\":\\\"bake-estafette\\\", \\\"ContainerImage\\\":\\\"extensions/docker:dev\\\", \\\"Shell\\\":\\\"/bin/sh\\\", \\\"WorkingDirectory\\\":\\\"/estafette-work\\\", \\\"Commands\\\":null, \\\"When\\\":\\\"status == 'succeeded'\\\", \\\"EnvVars\\\":null, \\\"AutoInjected\\\":false, \\\"Retries\\\":0, \\\"CustomProperties\\\":{ \\\"action\\\":\\\"build\\\", \\\"no-cache\\\":true, \\\"tag\\\":\\\"testtag\\\", \\\"expand-variables\\\":false, \\\"path\\\":\\\"./publish\\\", \\\"repositories\\\":[\\\"estafette\\\"] } } ], \\\"Releases\\\":null }, \\\"jobName\\\":\\\"build-estafette-estafette-ci-builder-391855387650326531\\\", \\\"ciServer\\\":{ \\\"baseUrl\\\":\\\"https://httpstat.us/200\\\", \\\"builderEventsUrl\\\":\\\"https://httpstat.us/200\\\", \\\"postLogsUrl\\\":\\\"https://httpstat.us/200\\\", \\\"apiKey\\\":\\\"\\\" }, \\\"buildParams\\\":{ \\\"buildID\\\":391855387650326531 }, \\\"git\\\":{ \\\"repoSource\\\":\\\"github.com\\\", \\\"repoOwner\\\":\\\"estafette\\\", \\\"repoName\\\":\\\"estafette-ci-builder\\\", \\\"repoBranch\\\":\\\"integration-test\\\", \\\"repoRevision\\\":\\\"4ba7791566e3f6f69e8542183168ec9b1ad03ca7\\\" }, \\\"buildVersion\\\":{ \\\"version\\\":\\\"0.0.0-integration-test\\\", \\\"major\\\":0, \\\"minor\\\":0, \\\"patch\\\":\\\"0\\\", \\\"autoincrement\\\":0 }, \\\"credentials\\\":null, \\\"trustedImages\\\":[ { \\\"path\\\":\\\"extensions/docker\\\", \\\"runDocker\\\":true }, { \\\"path\\\":\\\"estafette/estafette-ci-builder\\\", \\\"runPrivileged\\\":true }, { \\\"path\\\":\\\"golang\\\", \\\"runDocker\\\":true, \\\"allowCommands\\\":true }, { \\\"path\\\":\\\"extensions/git-clone\\\" }, { \\\"path\\\":\\\"bsycorp/kind\\\", \\\"runPrivileged\\\":true } ] }\",\"ESTAFETTE_LOG_FORMAT\":\"console\",\"SECRET_DECRYPTION_KEY\":\"8c6E5e7R8ameE2L6qxEcN5Yc3Q7P4Yd4\"},\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{}},{\"Name\":\"push-all\",\"ContainerImage\":\"\",\"Shell\":\"\",\"WorkingDirectory\":\"\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":[{\"Name\":\"push-to-docker-hub\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"push\",\"repositories\":[\"estafette\"]}},{\"Name\":\"push-gocd-agent-to-docker-hub\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"push\",\"repositories\":[\"estafette\"],\"versionTagSuffix\":\"gocd\"}}],\"Services\":null,\"CustomProperties\":{}},{\"Name\":\"slack-notify\",\"ContainerImage\":\"extensions/slack-build-status:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded' || status == 'failed'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"channels\":[\"#build-status\"],\"workspace\":\"estafette\"}},{\"Name\":\"set-build-status\",\"ContainerImage\":\"extensions/github-status:stable\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded' || status == 'failed'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":null}]\n"},{"line":44,"timestamp":"2020-05-01T12:52:32.680981432Z","streamType":"stdout","text":"ESTAFETTE_STAGES_DNS_SAFE: name-initialize-containerimage-shell-workingdirectory-commands\n"},{"line":45,"timestamp":"2020-05-01T12:52:32.680983158Z","streamType":"stdout","text":"ESTAFETTE_STAGE_NAME: envvars\n"},{"line":46,"timestamp":"2020-05-01T12:52:32.680984461Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_BRANCH: master\n"},{"line":47,"timestamp":"2020-05-01T12:52:32.680985672Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_BRANCH_DNS_SAFE: master\n"},{"line":48,"timestamp":"2020-05-01T12:52:32.680986977Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_EVENT: push\n"},{"line":49,"timestamp":"2020-05-01T12:52:32.680988241Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_EVENT_DNS_SAFE: push\n"},{"line":50,"timestamp":"2020-05-01T12:52:32.680990905Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_REPOSITORY: github.com/estafette/estafette-ci-builder\n"},{"line":51,"timestamp":"2020-05-01T12:52:32.680992633Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_REPOSITORY_DNS_SAFE: github-com-estafette-estafette-ci-builder\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true},{"step":"git-clone","depth":1,"image":{"name":"extensions/git-clone","tag":"stable","isPulled":false,"imageSize":33645729,"pullDuration":2274896544,"isTrusted":true},"duration":3961557841,"logLines":[{"line":1,"timestamp":"2020-05-01T12:52:32.461336908Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-git-clone\u001b[0m version \u001b[1m0.1.81\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-04-01T15:00:17Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m50245b030d6c4f5911a8332aeef550ca39da8115\n"},{"line":2,"timestamp":"2020-05-01T12:52:32.461350192Z","streamType":"stdout","text":"Unmarshalling injected github api token credentials\n"},{"line":3,"timestamp":"2020-05-01T12:52:32.461358235Z","streamType":"stdout","text":"Cloning git repository estafette-ci-builder to branch master and revision f67c2706185be18c278f898e078420047b9211d6 with shallow clone is true and depth 50...\n"},{"line":4,"timestamp":"2020-05-01T12:52:32.461427482Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e git clone --depth=50 --branch=master https://x-access-token:***@github.com/estafette/estafette-ci-builder /estafette-work\u001b[0m\n"},{"line":5,"timestamp":"2020-05-01T12:52:32.461430129Z","streamType":"stderr","text":"Cloning into '/estafette-work'...\n"},{"line":6,"timestamp":"2020-05-01T12:52:34.76132645Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e git checkout --quiet --force f67c2706185be18c278f898e078420047b9211d6\u001b[0m\n"},{"line":7,"timestamp":"2020-05-01T12:52:34.769100541Z","streamType":"stdout","text":"Finished cloning git repository estafette-ci-builder to branch master and revision f67c2706185be18c278f898e078420047b9211d6 with shallow clone is true and depth 50\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true},{"step":"set-pending-build-status","depth":1,"image":{"name":"extensions/github-status","tag":"stable","isPulled":false,"imageSize":12649209,"pullDuration":2713315222,"isTrusted":true},"duration":1890246751,"logLines":[{"line":1,"timestamp":"2020-05-01T12:52:32.701106879Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-github-status\u001b[0m version \u001b[1m0.1.46\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-03-04T09:32:11Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m6db9d43ca763f9104293785ed2c594320dd7946a\n"},{"line":2,"timestamp":"2020-05-01T12:52:32.701117465Z","streamType":"stdout","text":"Setting logs url https://estafette.travix.com/pipelines/github.com/estafette/estafette-ci-builder/builds/551377785930711050/logs\n"},{"line":3,"timestamp":"2020-05-01T12:52:33.129254243Z","streamType":"stdout","text":"Received successful response for 'https://api.github.com/repos/estafette/estafette-ci-builder/statuses/f67c2706185be18c278f898e078420047b9211d6' Github api call with status code 201\n"},{"line":4,"timestamp":"2020-05-01T12:52:33.129263951Z","streamType":"stdout","text":"Finished estafette-extension-github-status...\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true}]},{"step":"build","image":{"name":"golang","tag":"1.14.2-alpine3.11","isPulled":false,"imageSize":369582448,"pullDuration":7383067857},"duration":24700695606,"logLines":[{"line":1,"timestamp":"2020-05-01T12:52:46.294906103Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e go test ./... \u0026\u001b[0m\n"},{"line":2,"timestamp":"2020-05-01T12:52:51.544644884Z","streamType":"stderr","text":"go: downloading github.com/alecthomas/kingpin v2.2.6+incompatible\n"},{"line":3,"timestamp":"2020-05-01T12:52:51.544657614Z","streamType":"stderr","text":"go: downloading github.com/estafette/estafette-ci-crypt v0.0.36\n"},{"line":4,"timestamp":"2020-05-01T12:52:51.544661785Z","streamType":"stderr","text":"go: downloading github.com/rs/zerolog v1.17.2\n"},{"line":5,"timestamp":"2020-05-01T12:52:51.54502213Z","streamType":"stderr","text":"go: downloading github.com/estafette/estafette-ci-contracts v0.0.182\n"},{"line":6,"timestamp":"2020-05-01T12:52:51.545254528Z","streamType":"stderr","text":"go: downloading github.com/estafette/estafette-foundation v0.0.53\n"},{"line":7,"timestamp":"2020-05-01T12:52:51.547728308Z","streamType":"stderr","text":"go: downloading github.com/estafette/estafette-ci-manifest v0.1.145\n"},{"line":8,"timestamp":"2020-05-01T12:52:51.54840344Z","streamType":"stderr","text":"go: downloading github.com/Knetic/govaluate v3.0.0+incompatible\n"},{"line":9,"timestamp":"2020-05-01T12:52:51.548886596Z","streamType":"stderr","text":"go: downloading github.com/opentracing-contrib/go-stdlib v0.0.0-20190519235532-cf7a6c988dc9\n"},{"line":10,"timestamp":"2020-05-01T12:52:51.562200297Z","streamType":"stderr","text":"go: downloading github.com/olekukonko/tablewriter v0.0.1\n"},{"line":11,"timestamp":"2020-05-01T12:52:51.574733499Z","streamType":"stderr","text":"go: downloading github.com/uber/jaeger-client-go v2.20.1+incompatible\n"},{"line":12,"timestamp":"2020-05-01T12:52:51.57627778Z","streamType":"stderr","text":"go: downloading github.com/prometheus/client_golang v0.9.2\n"},{"line":13,"timestamp":"2020-05-01T12:52:51.58355045Z","streamType":"stderr","text":"go: downloading github.com/docker/engine v0.0.0-20190822205725-ed20165a37b4\n"},{"line":14,"timestamp":"2020-05-01T12:52:51.584890466Z","streamType":"stderr","text":"go: downloading github.com/opentracing/opentracing-go v1.1.0\n"},{"line":15,"timestamp":"2020-05-01T12:52:51.585396867Z","streamType":"stderr","text":"go: downloading github.com/google/uuid v1.1.1\n"},{"line":16,"timestamp":"2020-05-01T12:52:51.596931174Z","streamType":"stderr","text":"go: downloading github.com/sethgrid/pester v0.0.0-20190127155807-68a33a018ad0\n"},{"line":17,"timestamp":"2020-05-01T12:52:51.618233459Z","streamType":"stderr","text":"go: downloading github.com/robfig/cron v0.0.0-20180505203441-b41be1df6967\n"},{"line":18,"timestamp":"2020-05-01T12:52:51.625295622Z","streamType":"stderr","text":"go: downloading github.com/logrusorgru/aurora v0.0.0-20191116043053-66b7ad493a23\n"},{"line":19,"timestamp":"2020-05-01T12:52:51.628895866Z","streamType":"stderr","text":"go: downloading github.com/stretchr/testify v1.4.0\n"},{"line":20,"timestamp":"2020-05-01T12:52:51.62965286Z","streamType":"stderr","text":"go: downloading gopkg.in/yaml.v2 v2.2.2\n"},{"line":21,"timestamp":"2020-05-01T12:52:51.640506256Z","streamType":"stderr","text":"go: downloading github.com/alecthomas/units v0.0.0-20190910110746-680d30ca3117\n"},{"line":22,"timestamp":"2020-05-01T12:52:51.654448759Z","streamType":"stderr","text":"go: downloading github.com/alecthomas/template v0.0.0-20190718012654-fb15b899a751\n"},{"line":23,"timestamp":"2020-05-01T12:52:51.657589333Z","streamType":"stderr","text":"go: downloading github.com/mattn/go-runewidth v0.0.4\n"},{"line":24,"timestamp":"2020-05-01T12:52:51.673087624Z","streamType":"stderr","text":"go: downloading github.com/fsnotify/fsnotify v1.4.7\n"},{"line":25,"timestamp":"2020-05-01T12:52:51.675479811Z","streamType":"stderr","text":"go: downloading github.com/prometheus/common v0.2.0\n"},{"line":26,"timestamp":"2020-05-01T12:52:51.679311546Z","streamType":"stderr","text":"go: downloading github.com/prometheus/client_model v0.0.0-20190115171406-56726106282f\n"},{"line":27,"timestamp":"2020-05-01T12:52:51.683273345Z","streamType":"stderr","text":"go: downloading github.com/davecgh/go-spew v1.1.1\n"},{"line":28,"timestamp":"2020-05-01T12:52:51.693139811Z","streamType":"stderr","text":"go: downloading github.com/pmezard/go-difflib v1.0.0\n"},{"line":29,"timestamp":"2020-05-01T12:52:51.71049344Z","streamType":"stderr","text":"go: downloading github.com/uber/jaeger-lib v2.2.0+incompatible\n"},{"line":30,"timestamp":"2020-05-01T12:52:51.712627072Z","streamType":"stderr","text":"go: downloading golang.org/x/sys v0.0.0-20190813064441-fde4db37ae7a\n"},{"line":31,"timestamp":"2020-05-01T12:52:51.71351913Z","streamType":"stderr","text":"go: downloading go.uber.org/atomic v1.5.1\n"},{"line":32,"timestamp":"2020-05-01T12:52:51.720025329Z","streamType":"stderr","text":"go: downloading github.com/pkg/errors v0.8.1\n"},{"line":33,"timestamp":"2020-05-01T12:52:51.723258737Z","streamType":"stderr","text":"go: downloading github.com/prometheus/procfs v0.0.0-20190117184657-bf6a532e95b1\n"},{"line":34,"timestamp":"2020-05-01T12:52:51.728684953Z","streamType":"stderr","text":"go: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n"},{"line":35,"timestamp":"2020-05-01T12:52:51.751698223Z","streamType":"stderr","text":"go: downloading github.com/golang/protobuf v1.2.0\n"},{"line":36,"timestamp":"2020-05-01T12:52:51.755684169Z","streamType":"stderr","text":"go: downloading github.com/beorn7/perks v0.0.0-20180321164747-3a771d992973\n"},{"line":37,"timestamp":"2020-05-01T12:52:52.209417134Z","streamType":"stderr","text":"go: downloading google.golang.org/grpc v1.23.1\n"},{"line":38,"timestamp":"2020-05-01T12:52:52.209430444Z","streamType":"stderr","text":"go: downloading github.com/docker/distribution v2.7.1+incompatible\n"},{"line":39,"timestamp":"2020-05-01T12:52:52.20984895Z","streamType":"stderr","text":"go: downloading github.com/docker/go-units v0.4.0\n"},{"line":40,"timestamp":"2020-05-01T12:52:52.209853577Z","streamType":"stderr","text":"go: downloading github.com/docker/go-connections v0.4.0\n"},{"line":41,"timestamp":"2020-05-01T12:52:52.210602611Z","streamType":"stderr","text":"go: downloading github.com/sirupsen/logrus v1.4.1\n"},{"line":42,"timestamp":"2020-05-01T12:52:52.210613726Z","streamType":"stderr","text":"go: downloading github.com/opencontainers/image-spec v1.0.1\n"},{"line":43,"timestamp":"2020-05-01T12:52:52.210616648Z","streamType":"stderr","text":"go: downloading github.com/gogo/protobuf v1.3.0\n"},{"line":44,"timestamp":"2020-05-01T12:52:52.255487245Z","streamType":"stderr","text":"go: downloading github.com/opencontainers/go-digest v1.0.0-rc1\n"},{"line":45,"timestamp":"2020-05-01T12:52:52.256089691Z","streamType":"stderr","text":"go: downloading golang.org/x/net v0.0.0-20190724013045-ca1201d0de80\n"},{"line":46,"timestamp":"2020-05-01T12:52:52.467449462Z","streamType":"stderr","text":"go: downloading google.golang.org/genproto v0.0.0-20180817151627-c66870c02cf8\n"},{"line":47,"timestamp":"2020-05-01T12:53:02.515183721Z","streamType":"stdout","text":"?   \tgithub.com/estafette/estafette-ci-builder\t[no test files]\n"},{"line":48,"timestamp":"2020-05-01T12:53:03.733483117Z","streamType":"stdout","text":"ok  \tgithub.com/estafette/estafette-ci-builder/builder\t0.362s\n"},{"line":49,"timestamp":"2020-05-01T12:53:03.804454444Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e go build -v -ldflags \"-X main.appgroup=estafette-ci -X main.app=estafette-ci-builder -X main.version=0.0.655 -X main.revision=f67c2706185be18c278f898e078420047b9211d6 -X main.branch=master -X main.buildDate=2020-05-01T12:52:28Z\" -o ./publish/estafette-ci-builder\u001b[0m\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"bake-all","image":null,"duration":28183526403,"logLines":[{"line":10000,"timestamp":"2020-05-01T12:53:35.309691926Z","streamType":"stderr","text":"Failed with exit code: 1"}],"exitCode":0,"status":"FAILED","nestedSteps":[{"step":"bake","depth":1,"image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":121217303,"pullDuration":7921169641,"isTrusted":true},"duration":17982091050,"logLines":[{"line":1,"timestamp":"2020-05-01T12:53:16.694453836Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-docker\u001b[0m version \u001b[1m0.1.168\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-05-01T12:42:01Z \u001b[36mgoVersion=\u001b[0mgo1.14.2 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m6f3b5cb168c7dbf3da31127dbdc6f00c12e79bf1\n"},{"line":2,"timestamp":"2020-05-01T12:53:16.694456891Z","streamType":"stdout","text":"Ensuring build directory ./publish exists\n"},{"line":3,"timestamp":"2020-05-01T12:53:16.694459056Z","streamType":"stdout","text":"Copying directory builder/templates to ./publish\n"},{"line":4,"timestamp":"2020-05-01T12:53:16.694460269Z","streamType":"stdout","text":"Reading dockerfile content from Dockerfile...\n"},{"line":5,"timestamp":"2020-05-01T12:53:16.694471033Z","streamType":"stdout","text":"Expanding environment variables in Dockerfile...\n"},{"line":6,"timestamp":"2020-05-01T12:53:16.69447207Z","streamType":"stdout","text":"Writing Dockerfile to publish/Dockerfile...\n"},{"line":7,"timestamp":"2020-05-01T12:53:16.694493656Z","streamType":"stdout","text":"Listing directory ./publish content\n"},{"line":8,"timestamp":"2020-05-01T12:53:16.694494941Z","streamType":"stdout","text":"- Dockerfile\n"},{"line":9,"timestamp":"2020-05-01T12:53:16.694496543Z","streamType":"stdout","text":"- estafette-ci-builder\n"},{"line":10,"timestamp":"2020-05-01T12:53:16.6944979Z","streamType":"stdout","text":"- templates/\n"},{"line":11,"timestamp":"2020-05-01T12:53:16.694501008Z","streamType":"stdout","text":"Filtering credentials for images [estafette/estafette-ci-builder:0.0.655]\n"},{"line":12,"timestamp":"2020-05-01T12:53:16.694502579Z","streamType":"stdout","text":"Filtered 1 container-registry credentials down to 1\n"},{"line":13,"timestamp":"2020-05-01T12:53:16.69450437Z","streamType":"stdout","text":"Logging in to repository 'estafette'\n"},{"line":14,"timestamp":"2020-05-01T12:53:17.841923267Z","streamType":"stdout","text":"Building docker image estafette/estafette-ci-builder:0.0.655...\n"},{"line":15,"timestamp":"2020-05-01T12:53:17.841934241Z","streamType":"stdout","text":"\n"},{"line":16,"timestamp":"2020-05-01T12:53:17.841937918Z","streamType":"stdout","text":"FROM docker:19.03.8-dind\n"},{"line":17,"timestamp":"2020-05-01T12:53:17.841938997Z","streamType":"stdout","text":"\n"},{"line":18,"timestamp":"2020-05-01T12:53:17.841941739Z","streamType":"stdout","text":"LABEL maintainer=\"estafette.io\" \\\n"},{"line":19,"timestamp":"2020-05-01T12:53:17.841947926Z","streamType":"stdout","text":"      description=\"The estafette-ci-builder is the component that runs builds as defined in the .estafette.yaml manifest\"\n"},{"line":20,"timestamp":"2020-05-01T12:53:17.842303317Z","streamType":"stdout","text":"\n"},{"line":21,"timestamp":"2020-05-01T12:53:17.842310732Z","streamType":"stdout","text":"RUN addgroup docker \\\n"},{"line":22,"timestamp":"2020-05-01T12:53:17.842313716Z","streamType":"stdout","text":"    \u0026\u0026 mkdir -p /estafette-entrypoints \\\n"},{"line":23,"timestamp":"2020-05-01T12:53:17.842315393Z","streamType":"stdout","text":"    \u0026\u0026 apk update \\\n"},{"line":24,"timestamp":"2020-05-01T12:53:17.842317439Z","streamType":"stdout","text":"    \u0026\u0026 apk add --no-cache --upgrade \\\n"},{"line":25,"timestamp":"2020-05-01T12:53:17.842318658Z","streamType":"stdout","text":"        openssl \\\n"},{"line":26,"timestamp":"2020-05-01T12:53:17.842320553Z","streamType":"stdout","text":"    \u0026\u0026 rm -rf /var/cache/apk/* \\\n"},{"line":27,"timestamp":"2020-05-01T12:53:17.842797206Z","streamType":"stdout","text":"    \u0026\u0026 docker version\n"},{"line":28,"timestamp":"2020-05-01T12:53:17.842906845Z","streamType":"stdout","text":"\n"},{"line":29,"timestamp":"2020-05-01T12:53:17.843012585Z","streamType":"stdout","text":"# copy builder \u0026 startup script\n"},{"line":30,"timestamp":"2020-05-01T12:53:17.843110186Z","streamType":"stdout","text":"COPY estafette-ci-builder /\n"},{"line":31,"timestamp":"2020-05-01T12:53:17.843225767Z","streamType":"stdout","text":"COPY templates /entrypoint-templates\n"},{"line":32,"timestamp":"2020-05-01T12:53:17.843327336Z","streamType":"stdout","text":"\n"},{"line":33,"timestamp":"2020-05-01T12:53:17.843422072Z","streamType":"stdout","text":"ENV ESTAFETTE_CI_SERVER=\"estafette\" \\\n"},{"line":34,"timestamp":"2020-05-01T12:53:17.843527997Z","streamType":"stdout","text":"    ESTAFETTE_WORKDIR=\"/estafette-work\" \\\n"},{"line":35,"timestamp":"2020-05-01T12:53:17.843784093Z","streamType":"stdout","text":"    ESTAFETTE_LOG_FORMAT=\"v3\"\n"},{"line":36,"timestamp":"2020-05-01T12:53:17.84403915Z","streamType":"stdout","text":"\n"},{"line":37,"timestamp":"2020-05-01T12:53:17.844203301Z","streamType":"stdout","text":"WORKDIR ${ESTAFETTE_WORKDIR}\n"},{"line":38,"timestamp":"2020-05-01T12:53:17.844323002Z","streamType":"stdout","text":"\n"},{"line":39,"timestamp":"2020-05-01T12:53:17.844409691Z","streamType":"stdout","text":"ENTRYPOINT [\"/estafette-ci-builder\"]\n"},{"line":40,"timestamp":"2020-05-01T12:53:17.844517045Z","streamType":"stdout","text":"\n"},{"line":41,"timestamp":"2020-05-01T12:53:17.844615454Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e docker build --no-cache --tag estafette/estafette-ci-builder:cache-master --tag estafette/estafette-ci-builder:0.0.655 --file publish/Dockerfile ./publish\u001b[0m\n"},{"line":42,"timestamp":"2020-05-01T12:53:18.026883174Z","streamType":"stdout","text":"Sending build context to Docker daemon  18.42MB\r\r\n"},{"line":43,"timestamp":"2020-05-01T12:53:18.038975619Z","streamType":"stdout","text":"Step 1/8 : FROM docker:19.03.8-dind\n"},{"line":44,"timestamp":"2020-05-01T12:53:19.158069294Z","streamType":"stdout","text":"19.03.8-dind: Pulling from library/docker\n"},{"line":45,"timestamp":"2020-05-01T12:53:19.550072087Z","streamType":"stdout","text":"cbdbe7a5bc2a: Already exists\n"},{"line":46,"timestamp":"2020-05-01T12:53:19.556396943Z","streamType":"stdout","text":"6f4c731d6eb3: Pulling fs layer\n"},{"line":47,"timestamp":"2020-05-01T12:53:19.556405785Z","streamType":"stdout","text":"5d79d4ac3cd0: Pulling fs layer\n"},{"line":48,"timestamp":"2020-05-01T12:53:19.556408454Z","streamType":"stdout","text":"65de10866d6a: Pulling fs layer\n"},{"line":49,"timestamp":"2020-05-01T12:53:19.556409321Z","streamType":"stdout","text":"ffd69ed7f17f: Pulling fs layer\n"},{"line":50,"timestamp":"2020-05-01T12:53:19.556410193Z","streamType":"stdout","text":"07ba9e5a2fa6: Pulling fs layer\n"},{"line":51,"timestamp":"2020-05-01T12:53:19.556410936Z","streamType":"stdout","text":"75478c283dd2: Pulling fs layer\n"},{"line":52,"timestamp":"2020-05-01T12:53:19.556411654Z","streamType":"stdout","text":"3a34b06546be: Pulling fs layer\n"},{"line":53,"timestamp":"2020-05-01T12:53:19.556412485Z","streamType":"stdout","text":"bcf9fe696821: Pulling fs layer\n"},{"line":54,"timestamp":"2020-05-01T12:53:19.556413175Z","streamType":"stdout","text":"326857604f33: Pulling fs layer\n"},{"line":55,"timestamp":"2020-05-01T12:53:19.556414034Z","streamType":"stdout","text":"8949ad47c3a9: Pulling fs layer\n"},{"line":56,"timestamp":"2020-05-01T12:53:19.556414676Z","streamType":"stdout","text":"3a34b06546be: Waiting\n"},{"line":57,"timestamp":"2020-05-01T12:53:19.556415283Z","streamType":"stdout","text":"75478c283dd2: Waiting\n"},{"line":58,"timestamp":"2020-05-01T12:53:19.556415878Z","streamType":"stdout","text":"6f4c731d6eb3: Waiting\n"},{"line":59,"timestamp":"2020-05-01T12:53:19.556416648Z","streamType":"stdout","text":"bcf9fe696821: Waiting\n"},{"line":60,"timestamp":"2020-05-01T12:53:19.556417191Z","streamType":"stdout","text":"326857604f33: Waiting\n"},{"line":61,"timestamp":"2020-05-01T12:53:19.556417988Z","streamType":"stdout","text":"5d79d4ac3cd0: Waiting\n"},{"line":62,"timestamp":"2020-05-01T12:53:19.556762489Z","streamType":"stdout","text":"8949ad47c3a9: Waiting\n"},{"line":63,"timestamp":"2020-05-01T12:53:19.556767103Z","streamType":"stdout","text":"65de10866d6a: Waiting\n"},{"line":64,"timestamp":"2020-05-01T12:53:19.556768214Z","streamType":"stdout","text":"ffd69ed7f17f: Waiting\n"},{"line":65,"timestamp":"2020-05-01T12:53:19.556769465Z","streamType":"stdout","text":"07ba9e5a2fa6: Waiting\n"},{"line":66,"timestamp":"2020-05-01T12:53:21.79859358Z","streamType":"stdout","text":"5d79d4ac3cd0: Download complete\n"},{"line":67,"timestamp":"2020-05-01T12:53:21.820548686Z","streamType":"stdout","text":"6f4c731d6eb3: Verifying Checksum\n"},{"line":68,"timestamp":"2020-05-01T12:53:21.820563255Z","streamType":"stdout","text":"6f4c731d6eb3: Download complete\n"},{"line":69,"timestamp":"2020-05-01T12:53:21.999530194Z","streamType":"stdout","text":"6f4c731d6eb3: Pull complete\n"},{"line":70,"timestamp":"2020-05-01T12:53:22.083934418Z","streamType":"stdout","text":"5d79d4ac3cd0: Pull complete\n"},{"line":71,"timestamp":"2020-05-01T12:53:22.220454388Z","streamType":"stdout","text":"ffd69ed7f17f: Verifying Checksum\n"},{"line":72,"timestamp":"2020-05-01T12:53:22.220474042Z","streamType":"stdout","text":"ffd69ed7f17f: Download complete\n"},{"line":73,"timestamp":"2020-05-01T12:53:22.24585615Z","streamType":"stdout","text":"07ba9e5a2fa6: Download complete\n"},{"line":74,"timestamp":"2020-05-01T12:53:22.630628888Z","streamType":"stdout","text":"75478c283dd2: Verifying Checksum\n"},{"line":75,"timestamp":"2020-05-01T12:53:22.63064015Z","streamType":"stdout","text":"75478c283dd2: Download complete\n"},{"line":76,"timestamp":"2020-05-01T12:53:22.731899705Z","streamType":"stdout","text":"3a34b06546be: Verifying Checksum\n"},{"line":77,"timestamp":"2020-05-01T12:53:22.73280889Z","streamType":"stdout","text":"3a34b06546be: Download complete\n"},{"line":78,"timestamp":"2020-05-01T12:53:22.760957623Z","streamType":"stdout","text":"65de10866d6a: Verifying Checksum\n"},{"line":79,"timestamp":"2020-05-01T12:53:22.761644808Z","streamType":"stdout","text":"65de10866d6a: Download complete\n"},{"line":80,"timestamp":"2020-05-01T12:53:23.039059159Z","streamType":"stdout","text":"bcf9fe696821: Verifying Checksum\n"},{"line":81,"timestamp":"2020-05-01T12:53:23.039068625Z","streamType":"stdout","text":"bcf9fe696821: Download complete\n"},{"line":82,"timestamp":"2020-05-01T12:53:23.141720572Z","streamType":"stdout","text":"326857604f33: Verifying Checksum\n"},{"line":83,"timestamp":"2020-05-01T12:53:23.141730483Z","streamType":"stdout","text":"326857604f33: Download complete\n"},{"line":84,"timestamp":"2020-05-01T12:53:23.182761162Z","streamType":"stdout","text":"8949ad47c3a9: Verifying Checksum\n"},{"line":85,"timestamp":"2020-05-01T12:53:23.182774196Z","streamType":"stdout","text":"8949ad47c3a9: Download complete\n"},{"line":86,"timestamp":"2020-05-01T12:53:24.826719827Z","streamType":"stdout","text":"65de10866d6a: Pull complete\n"},{"line":87,"timestamp":"2020-05-01T12:53:24.911606766Z","streamType":"stdout","text":"ffd69ed7f17f: Pull complete\n"},{"line":88,"timestamp":"2020-05-01T12:53:24.987973365Z","streamType":"stdout","text":"07ba9e5a2fa6: Pull complete\n"},{"line":89,"timestamp":"2020-05-01T12:53:25.063346059Z","streamType":"stdout","text":"75478c283dd2: Pull complete\n"},{"line":90,"timestamp":"2020-05-01T12:53:25.327140151Z","streamType":"stdout","text":"3a34b06546be: Pull complete\n"},{"line":91,"timestamp":"2020-05-01T12:53:25.40767234Z","streamType":"stdout","text":"bcf9fe696821: Pull complete\n"},{"line":92,"timestamp":"2020-05-01T12:53:25.479595105Z","streamType":"stdout","text":"326857604f33: Pull complete\n"},{"line":93,"timestamp":"2020-05-01T12:53:25.555880076Z","streamType":"stdout","text":"8949ad47c3a9: Pull complete\n"},{"line":94,"timestamp":"2020-05-01T12:53:25.563663086Z","streamType":"stdout","text":"Digest: sha256:09515aa8806183adcd89911c23ecbac74b713d89b4832a0f0551b460ea1c20a1\n"},{"line":95,"timestamp":"2020-05-01T12:53:25.56820582Z","streamType":"stdout","text":"Status: Downloaded newer image for docker:19.03.8-dind\n"},{"line":96,"timestamp":"2020-05-01T12:53:25.568853755Z","streamType":"stdout","text":" ---\u003e 7799c84f00cd\n"},{"line":97,"timestamp":"2020-05-01T12:53:25.568872778Z","streamType":"stdout","text":"Step 2/8 : LABEL maintainer=\"estafette.io\"       description=\"The estafette-ci-builder is the component that runs builds as defined in the .estafette.yaml manifest\"\n"},{"line":98,"timestamp":"2020-05-01T12:53:31.095236406Z","streamType":"stdout","text":" ---\u003e Running in 48bc70e3cbd1\n"},{"line":99,"timestamp":"2020-05-01T12:53:31.204817342Z","streamType":"stdout","text":"Removing intermediate container 48bc70e3cbd1\n"},{"line":100,"timestamp":"2020-05-01T12:53:31.204829967Z","streamType":"stdout","text":" ---\u003e 5f762621e551\n"},{"line":101,"timestamp":"2020-05-01T12:53:31.204835094Z","streamType":"stdout","text":"Step 3/8 : RUN addgroup docker     \u0026\u0026 mkdir -p /estafette-entrypoints     \u0026\u0026 apk update     \u0026\u0026 apk add --no-cache --upgrade         openssl     \u0026\u0026 rm -rf /var/cache/apk/*     \u0026\u0026 docker version\n"},{"line":102,"timestamp":"2020-05-01T12:53:31.321722891Z","streamType":"stdout","text":" ---\u003e Running in 56f6a03bb580\n"},{"line":103,"timestamp":"2020-05-01T12:53:31.788621232Z","streamType":"stdout","text":"fetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\n"},{"line":104,"timestamp":"2020-05-01T12:53:31.910905471Z","streamType":"stdout","text":"fetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n"},{"line":105,"timestamp":"2020-05-01T12:53:32.077269732Z","streamType":"stdout","text":"v3.11.6-10-g3d1aef7a83 [http://dl-cdn.alpinelinux.org/alpine/v3.11/main]\n"},{"line":106,"timestamp":"2020-05-01T12:53:32.077282937Z","streamType":"stdout","text":"v3.11.6-13-g5da24b5794 [http://dl-cdn.alpinelinux.org/alpine/v3.11/community]\n"},{"line":107,"timestamp":"2020-05-01T12:53:32.077286626Z","streamType":"stdout","text":"OK: 11272 distinct packages available\n"},{"line":108,"timestamp":"2020-05-01T12:53:32.109643932Z","streamType":"stdout","text":"fetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz\n"},{"line":109,"timestamp":"2020-05-01T12:53:32.200859282Z","streamType":"stdout","text":"fetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz\n"},{"line":110,"timestamp":"2020-05-01T12:53:32.353765312Z","streamType":"stdout","text":"OK: 25 MiB in 45 packages\n"},{"line":111,"timestamp":"2020-05-01T12:53:32.417212611Z","streamType":"stdout","text":"Client: Docker Engine - Community\n"},{"line":112,"timestamp":"2020-05-01T12:53:32.417222846Z","streamType":"stdout","text":" Version:           19.03.8\n"},{"line":113,"timestamp":"2020-05-01T12:53:32.417225044Z","streamType":"stdout","text":" API version:       1.40\n"},{"line":114,"timestamp":"2020-05-01T12:53:32.417226101Z","streamType":"stdout","text":" Go version:        go1.12.17\n"},{"line":115,"timestamp":"2020-05-01T12:53:32.417227465Z","streamType":"stdout","text":" Git commit:        afacb8b7f0\n"},{"line":116,"timestamp":"2020-05-01T12:53:32.417239909Z","streamType":"stdout","text":" Built:             Wed Mar 11 01:22:56 2020\n"},{"line":117,"timestamp":"2020-05-01T12:53:32.417240899Z","streamType":"stdout","text":" OS/Arch:           linux/amd64\n"},{"line":118,"timestamp":"2020-05-01T12:53:32.417242182Z","streamType":"stdout","text":" Experimental:      false\n"},{"line":119,"timestamp":"2020-05-01T12:53:32.417245338Z","streamType":"stdout","text":"\u001b[91mCannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?\n"},{"line":120,"timestamp":"2020-05-01T12:53:32.707977139Z","streamType":"stderr","text":"The command '/bin/sh -c addgroup docker     \u0026\u0026 mkdir -p /estafette-entrypoints     \u0026\u0026 apk update     \u0026\u0026 apk add --no-cache --upgrade         openssl     \u0026\u0026 rm -rf /var/cache/apk/*     \u0026\u0026 docker version' returned a non-zero code: 1\n"},{"line":121,"timestamp":"2020-05-01T12:53:32.709775365Z","streamType":"stdout","text":"\u001b[0mFatal error \u001b[31merror=\u001b[0m\u001b[31m\"exit status 1\"\u001b[0m\n"},{"line":10000,"timestamp":"2020-05-01T12:53:33.032355684Z","streamType":"stderr","text":"Failed with exit code: 1"}],"exitCode":0,"status":"FAILED"},{"step":"bake-gocd-agent","depth":1,"image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":121217303,"pullDuration":7920097788,"isTrusted":true},"duration":20259375831,"logLines":[{"line":1,"timestamp":"2020-05-01T12:53:16.823926153Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-docker\u001b[0m version \u001b[1m0.1.168\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-05-01T12:42:01Z \u001b[36mgoVersion=\u001b[0mgo1.14.2 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m6f3b5cb168c7dbf3da31127dbdc6f00c12e79bf1\n"},{"line":2,"timestamp":"2020-05-01T12:53:16.823935713Z","streamType":"stdout","text":"Ensuring build directory ./publish exists\n"},{"line":3,"timestamp":"2020-05-01T12:53:16.823938707Z","streamType":"stdout","text":"Copying directory builder/templates to ./publish\n"},{"line":4,"timestamp":"2020-05-01T12:53:16.823940573Z","streamType":"stdout","text":"Reading dockerfile content from Dockerfile.gocd...\n"},{"line":5,"timestamp":"2020-05-01T12:53:16.823942011Z","streamType":"stdout","text":"Expanding environment variables in Dockerfile...\n"},{"line":6,"timestamp":"2020-05-01T12:53:16.823943198Z","streamType":"stdout","text":"Writing Dockerfile to publish/Dockerfile.gocd...\n"},{"line":7,"timestamp":"2020-05-01T12:53:16.823945309Z","streamType":"stdout","text":"Listing directory ./publish content\n"},{"line":8,"timestamp":"2020-05-01T12:53:16.823946931Z","streamType":"stdout","text":"- Dockerfile\n"},{"line":9,"timestamp":"2020-05-01T12:53:16.823948669Z","streamType":"stdout","text":"- Dockerfile.gocd\n"},{"line":10,"timestamp":"2020-05-01T12:53:16.823950023Z","streamType":"stdout","text":"- estafette-ci-builder\n"},{"line":11,"timestamp":"2020-05-01T12:53:16.82395147Z","streamType":"stdout","text":"- templates/\n"},{"line":12,"timestamp":"2020-05-01T12:53:16.823954969Z","streamType":"stdout","text":"Filtering credentials for images [travix/gocd-agent:20.3.0-alpine]\n"},{"line":13,"timestamp":"2020-05-01T12:53:16.823969506Z","streamType":"stdout","text":"Filtered 1 container-registry credentials down to 0\n"},{"line":14,"timestamp":"2020-05-01T12:53:16.823971549Z","streamType":"stdout","text":"Pulling container image travix/gocd-agent:20.3.0-alpine\n"},{"line":15,"timestamp":"2020-05-01T12:53:16.823973512Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e docker pull travix/gocd-agent:20.3.0-alpine\u001b[0m\n"},{"line":16,"timestamp":"2020-05-01T12:53:17.981220349Z","streamType":"stdout","text":"20.3.0-alpine: Pulling from travix/gocd-agent\n"},{"line":17,"timestamp":"2020-05-01T12:53:17.981235206Z","streamType":"stdout","text":"9d48c3bd43c5: Pulling fs layer\n"},{"line":18,"timestamp":"2020-05-01T12:53:17.981238055Z","streamType":"stdout","text":"7f94eaf8af20: Pulling fs layer\n"},{"line":19,"timestamp":"2020-05-01T12:53:17.981239729Z","streamType":"stdout","text":"9fe9984849c1: Pulling fs layer\n"},{"line":20,"timestamp":"2020-05-01T12:53:17.981241009Z","streamType":"stdout","text":"92cf76c8818a: Pulling fs layer\n"},{"line":21,"timestamp":"2020-05-01T12:53:17.981251308Z","streamType":"stdout","text":"fc3e8b8912c8: Pulling fs layer\n"},{"line":22,"timestamp":"2020-05-01T12:53:17.981253002Z","streamType":"stdout","text":"bf02db085c95: Pulling fs layer\n"},{"line":23,"timestamp":"2020-05-01T12:53:17.981254451Z","streamType":"stdout","text":"9479c7497144: Pulling fs layer\n"},{"line":24,"timestamp":"2020-05-01T12:53:17.981255869Z","streamType":"stdout","text":"689185fbf3c3: Pulling fs layer\n"},{"line":25,"timestamp":"2020-05-01T12:53:17.981257205Z","streamType":"stdout","text":"54732b86f96e: Pulling fs layer\n"},{"line":26,"timestamp":"2020-05-01T12:53:17.98125825Z","streamType":"stdout","text":"81f9c4494a30: Pulling fs layer\n"},{"line":27,"timestamp":"2020-05-01T12:53:17.981259321Z","streamType":"stdout","text":"bac67c70bbb3: Pulling fs layer\n"},{"line":28,"timestamp":"2020-05-01T12:53:17.981260546Z","streamType":"stdout","text":"833392143ab1: Pulling fs layer\n"},{"line":29,"timestamp":"2020-05-01T12:53:17.981262225Z","streamType":"stdout","text":"507be0122c2b: Pulling fs layer\n"},{"line":30,"timestamp":"2020-05-01T12:53:17.981263607Z","streamType":"stdout","text":"8b44e6aed8b6: Pulling fs layer\n"},{"line":31,"timestamp":"2020-05-01T12:53:17.98126484Z","streamType":"stdout","text":"56b7d309eac2: Pulling fs layer\n"},{"line":32,"timestamp":"2020-05-01T12:53:17.981265951Z","streamType":"stdout","text":"986c8f818182: Pulling fs layer\n"},{"line":33,"timestamp":"2020-05-01T12:53:17.981267461Z","streamType":"stdout","text":"5aae633d6efc: Pulling fs layer\n"},{"line":34,"timestamp":"2020-05-01T12:53:17.981268949Z","streamType":"stdout","text":"f807a1ee2e0d: Pulling fs layer\n"},{"line":35,"timestamp":"2020-05-01T12:53:17.981270257Z","streamType":"stdout","text":"7661c0f966af: Pulling fs layer\n"},{"line":36,"timestamp":"2020-05-01T12:53:17.981271543Z","streamType":"stdout","text":"851435483f13: Pulling fs layer\n"},{"line":37,"timestamp":"2020-05-01T12:53:17.981294441Z","streamType":"stdout","text":"bf02db085c95: Waiting\n"},{"line":38,"timestamp":"2020-05-01T12:53:17.981295577Z","streamType":"stdout","text":"9479c7497144: Waiting\n"},{"line":39,"timestamp":"2020-05-01T12:53:17.981297035Z","streamType":"stdout","text":"bac67c70bbb3: Waiting\n"},{"line":40,"timestamp":"2020-05-01T12:53:17.981297844Z","streamType":"stdout","text":"689185fbf3c3: Waiting\n"},{"line":41,"timestamp":"2020-05-01T12:53:17.981298771Z","streamType":"stdout","text":"54732b86f96e: Waiting\n"},{"line":42,"timestamp":"2020-05-01T12:53:17.981299572Z","streamType":"stdout","text":"81f9c4494a30: Waiting\n"},{"line":43,"timestamp":"2020-05-01T12:53:17.981300634Z","streamType":"stdout","text":"833392143ab1: Waiting\n"},{"line":44,"timestamp":"2020-05-01T12:53:17.981301646Z","streamType":"stdout","text":"507be0122c2b: Waiting\n"},{"line":45,"timestamp":"2020-05-01T12:53:17.981302895Z","streamType":"stdout","text":"8b44e6aed8b6: Waiting\n"},{"line":46,"timestamp":"2020-05-01T12:53:17.981304459Z","streamType":"stdout","text":"56b7d309eac2: Waiting\n"},{"line":47,"timestamp":"2020-05-01T12:53:17.981305621Z","streamType":"stdout","text":"986c8f818182: Waiting\n"},{"line":48,"timestamp":"2020-05-01T12:53:17.981306552Z","streamType":"stdout","text":"92cf76c8818a: Waiting\n"},{"line":49,"timestamp":"2020-05-01T12:53:17.981309125Z","streamType":"stdout","text":"5aae633d6efc: Waiting\n"},{"line":50,"timestamp":"2020-05-01T12:53:17.981310014Z","streamType":"stdout","text":"f807a1ee2e0d: Waiting\n"},{"line":51,"timestamp":"2020-05-01T12:53:17.981311296Z","streamType":"stdout","text":"7661c0f966af: Waiting\n"},{"line":52,"timestamp":"2020-05-01T12:53:17.98131202Z","streamType":"stdout","text":"fc3e8b8912c8: Waiting\n"},{"line":53,"timestamp":"2020-05-01T12:53:17.98131284Z","streamType":"stdout","text":"851435483f13: Waiting\n"},{"line":54,"timestamp":"2020-05-01T12:53:18.399182715Z","streamType":"stdout","text":"9fe9984849c1: Download complete\n"},{"line":55,"timestamp":"2020-05-01T12:53:18.419974475Z","streamType":"stdout","text":"7f94eaf8af20: Verifying Checksum\n"},{"line":56,"timestamp":"2020-05-01T12:53:18.419998567Z","streamType":"stdout","text":"7f94eaf8af20: Download complete\n"},{"line":57,"timestamp":"2020-05-01T12:53:18.44791228Z","streamType":"stdout","text":"9d48c3bd43c5: Verifying Checksum\n"},{"line":58,"timestamp":"2020-05-01T12:53:18.448060268Z","streamType":"stdout","text":"9d48c3bd43c5: Download complete\n"},{"line":59,"timestamp":"2020-05-01T12:53:18.61304802Z","streamType":"stdout","text":"9d48c3bd43c5: Pull complete\n"},{"line":60,"timestamp":"2020-05-01T12:53:18.738044293Z","streamType":"stdout","text":"7f94eaf8af20: Pull complete\n"},{"line":61,"timestamp":"2020-05-01T12:53:18.813878039Z","streamType":"stdout","text":"9fe9984849c1: Pull complete\n"},{"line":62,"timestamp":"2020-05-01T12:53:18.838088427Z","streamType":"stdout","text":"fc3e8b8912c8: Verifying Checksum\n"},{"line":63,"timestamp":"2020-05-01T12:53:18.838372116Z","streamType":"stdout","text":"fc3e8b8912c8: Download complete\n"},{"line":64,"timestamp":"2020-05-01T12:53:18.874234059Z","streamType":"stdout","text":"bf02db085c95: Verifying Checksum\n"},{"line":65,"timestamp":"2020-05-01T12:53:18.874249512Z","streamType":"stdout","text":"bf02db085c95: Download complete\n"},{"line":66,"timestamp":"2020-05-01T12:53:19.25724752Z","streamType":"stdout","text":"9479c7497144: Verifying Checksum\n"},{"line":67,"timestamp":"2020-05-01T12:53:19.257261481Z","streamType":"stdout","text":"9479c7497144: Download complete\n"},{"line":68,"timestamp":"2020-05-01T12:53:19.339717668Z","streamType":"stdout","text":"689185fbf3c3: Verifying Checksum\n"},{"line":69,"timestamp":"2020-05-01T12:53:19.339741173Z","streamType":"stdout","text":"689185fbf3c3: Download complete\n"},{"line":70,"timestamp":"2020-05-01T12:53:19.682618579Z","streamType":"stdout","text":"54732b86f96e: Verifying Checksum\n"},{"line":71,"timestamp":"2020-05-01T12:53:19.682628811Z","streamType":"stdout","text":"54732b86f96e: Download complete\n"},{"line":72,"timestamp":"2020-05-01T12:53:19.747706677Z","streamType":"stdout","text":"81f9c4494a30: Verifying Checksum\n"},{"line":73,"timestamp":"2020-05-01T12:53:19.747715471Z","streamType":"stdout","text":"81f9c4494a30: Download complete\n"},{"line":74,"timestamp":"2020-05-01T12:53:20.095466655Z","streamType":"stdout","text":"bac67c70bbb3: Download complete\n"},{"line":75,"timestamp":"2020-05-01T12:53:20.159799249Z","streamType":"stdout","text":"833392143ab1: Verifying Checksum\n"},{"line":76,"timestamp":"2020-05-01T12:53:20.159807862Z","streamType":"stdout","text":"833392143ab1: Download complete\n"},{"line":77,"timestamp":"2020-05-01T12:53:20.21541842Z","streamType":"stdout","text":"92cf76c8818a: Verifying Checksum\n"},{"line":78,"timestamp":"2020-05-01T12:53:20.215429735Z","streamType":"stdout","text":"92cf76c8818a: Download complete\n"},{"line":79,"timestamp":"2020-05-01T12:53:20.558661841Z","streamType":"stdout","text":"507be0122c2b: Verifying Checksum\n"},{"line":80,"timestamp":"2020-05-01T12:53:20.559370288Z","streamType":"stdout","text":"507be0122c2b: Download complete\n"},{"line":81,"timestamp":"2020-05-01T12:53:20.9293775Z","streamType":"stdout","text":"56b7d309eac2: Verifying Checksum\n"},{"line":82,"timestamp":"2020-05-01T12:53:20.929394643Z","streamType":"stdout","text":"56b7d309eac2: Download complete\n"},{"line":83,"timestamp":"2020-05-01T12:53:20.962814947Z","streamType":"stdout","text":"8b44e6aed8b6: Verifying Checksum\n"},{"line":84,"timestamp":"2020-05-01T12:53:20.962827007Z","streamType":"stdout","text":"8b44e6aed8b6: Download complete\n"},{"line":85,"timestamp":"2020-05-01T12:53:20.973733832Z","streamType":"stdout","text":"986c8f818182: Verifying Checksum\n"},{"line":86,"timestamp":"2020-05-01T12:53:20.973744646Z","streamType":"stdout","text":"986c8f818182: Download complete\n"},{"line":87,"timestamp":"2020-05-01T12:53:21.342016236Z","streamType":"stdout","text":"5aae633d6efc: Verifying Checksum\n"},{"line":88,"timestamp":"2020-05-01T12:53:21.342025244Z","streamType":"stdout","text":"5aae633d6efc: Download complete\n"},{"line":89,"timestamp":"2020-05-01T12:53:21.370956395Z","streamType":"stdout","text":"f807a1ee2e0d: Verifying Checksum\n"},{"line":90,"timestamp":"2020-05-01T12:53:21.370964813Z","streamType":"stdout","text":"f807a1ee2e0d: Download complete\n"},{"line":91,"timestamp":"2020-05-01T12:53:21.385074882Z","streamType":"stdout","text":"7661c0f966af: Download complete\n"},{"line":92,"timestamp":"2020-05-01T12:53:21.777756976Z","streamType":"stdout","text":"851435483f13: Download complete\n"},{"line":93,"timestamp":"2020-05-01T12:53:22.00615107Z","streamType":"stdout","text":"92cf76c8818a: Pull complete\n"},{"line":94,"timestamp":"2020-05-01T12:53:22.08290593Z","streamType":"stdout","text":"fc3e8b8912c8: Pull complete\n"},{"line":95,"timestamp":"2020-05-01T12:53:22.155431075Z","streamType":"stdout","text":"bf02db085c95: Pull complete\n"},{"line":96,"timestamp":"2020-05-01T12:53:22.24282036Z","streamType":"stdout","text":"9479c7497144: Pull complete\n"},{"line":97,"timestamp":"2020-05-01T12:53:22.505288218Z","streamType":"stdout","text":"689185fbf3c3: Pull complete\n"},{"line":98,"timestamp":"2020-05-01T12:53:22.59851875Z","streamType":"stdout","text":"54732b86f96e: Pull complete\n"},{"line":99,"timestamp":"2020-05-01T12:53:22.676270428Z","streamType":"stdout","text":"81f9c4494a30: Pull complete\n"},{"line":100,"timestamp":"2020-05-01T12:53:22.754152373Z","streamType":"stdout","text":"bac67c70bbb3: Pull complete\n"},{"line":101,"timestamp":"2020-05-01T12:53:22.8387544Z","streamType":"stdout","text":"833392143ab1: Pull complete\n"},{"line":102,"timestamp":"2020-05-01T12:53:23.029848913Z","streamType":"stdout","text":"507be0122c2b: Pull complete\n"},{"line":103,"timestamp":"2020-05-01T12:53:24.307606864Z","streamType":"stdout","text":"8b44e6aed8b6: Pull complete\n"},{"line":104,"timestamp":"2020-05-01T12:53:24.961354208Z","streamType":"stdout","text":"56b7d309eac2: Pull complete\n"},{"line":105,"timestamp":"2020-05-01T12:53:25.036034446Z","streamType":"stdout","text":"986c8f818182: Pull complete\n"},{"line":106,"timestamp":"2020-05-01T12:53:25.124739004Z","streamType":"stdout","text":"5aae633d6efc: Pull complete\n"},{"line":107,"timestamp":"2020-05-01T12:53:25.209639208Z","streamType":"stdout","text":"f807a1ee2e0d: Pull complete\n"},{"line":108,"timestamp":"2020-05-01T12:53:25.295821915Z","streamType":"stdout","text":"7661c0f966af: Pull complete\n"},{"line":109,"timestamp":"2020-05-01T12:53:25.37304656Z","streamType":"stdout","text":"851435483f13: Pull complete\n"},{"line":110,"timestamp":"2020-05-01T12:53:25.381002106Z","streamType":"stdout","text":"Digest: sha256:7c1ed6572cae7fc8077fd14a3bb06a62bbd1a216f960724c35cfcd7f88fccf91\n"},{"line":111,"timestamp":"2020-05-01T12:53:25.385853963Z","streamType":"stdout","text":"Status: Downloaded newer image for travix/gocd-agent:20.3.0-alpine\n"},{"line":112,"timestamp":"2020-05-01T12:53:25.386430701Z","streamType":"stdout","text":"docker.io/travix/gocd-agent:20.3.0-alpine\n"},{"line":113,"timestamp":"2020-05-01T12:53:25.390990781Z","streamType":"stdout","text":"Filtering credentials for images [estafette/estafette-ci-builder:0.0.655-gocd]\n"},{"line":114,"timestamp":"2020-05-01T12:53:25.391001299Z","streamType":"stdout","text":"Filtered 1 container-registry credentials down to 1\n"},{"line":115,"timestamp":"2020-05-01T12:53:25.391004105Z","streamType":"stdout","text":"Logging in to repository 'estafette'\n"},{"line":116,"timestamp":"2020-05-01T12:53:26.527712377Z","streamType":"stdout","text":"Building docker image estafette/estafette-ci-builder:0.0.655-gocd...\n"},{"line":117,"timestamp":"2020-05-01T12:53:26.528024827Z","streamType":"stdout","text":"\n"},{"line":118,"timestamp":"2020-05-01T12:53:26.528051333Z","streamType":"stdout","text":"FROM travix/gocd-agent:20.3.0-alpine\n"},{"line":119,"timestamp":"2020-05-01T12:53:26.528052643Z","streamType":"stdout","text":"\n"},{"line":120,"timestamp":"2020-05-01T12:53:26.528055383Z","streamType":"stdout","text":"MAINTAINER estafette.io\n"},{"line":121,"timestamp":"2020-05-01T12:53:26.528056694Z","streamType":"stdout","text":"\n"},{"line":122,"timestamp":"2020-05-01T12:53:26.52805838Z","streamType":"stdout","text":"LABEL maintainer=\"estafette.io\" \\\n"},{"line":123,"timestamp":"2020-05-01T12:53:26.528069241Z","streamType":"stdout","text":"      description=\"The estafette-ci-builder is the component that runs builds as defined in the .estafette.yaml manifest\"\n"},{"line":124,"timestamp":"2020-05-01T12:53:26.528070348Z","streamType":"stdout","text":"\n"},{"line":125,"timestamp":"2020-05-01T12:53:26.528071832Z","streamType":"stdout","text":"RUN mkdir -p /estafette-entrypoints\n"},{"line":126,"timestamp":"2020-05-01T12:53:26.528072781Z","streamType":"stdout","text":"\n"},{"line":127,"timestamp":"2020-05-01T12:53:26.528074246Z","streamType":"stdout","text":"# copy builder\n"},{"line":128,"timestamp":"2020-05-01T12:53:26.528075767Z","streamType":"stdout","text":"COPY estafette-ci-builder /usr/bin/\n"},{"line":129,"timestamp":"2020-05-01T12:53:26.528077414Z","streamType":"stdout","text":"COPY templates /entrypoint-templates\n"},{"line":130,"timestamp":"2020-05-01T12:53:26.528078147Z","streamType":"stdout","text":"\n"},{"line":131,"timestamp":"2020-05-01T12:53:26.528079424Z","streamType":"stdout","text":"ENV ESTAFETTE_CI_SERVER=\"gocd\" \\\n"},{"line":132,"timestamp":"2020-05-01T12:53:26.528081072Z","streamType":"stdout","text":"    DOCKER_API_VERSION=\"1.38\" \\\n"},{"line":133,"timestamp":"2020-05-01T12:53:26.528082716Z","streamType":"stdout","text":"    ESTAFETTE_LOG_FORMAT=\"console\"\n"},{"line":134,"timestamp":"2020-05-01T12:53:26.528083683Z","streamType":"stdout","text":"\n"},{"line":135,"timestamp":"2020-05-01T12:53:26.528088827Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e docker build --no-cache --tag estafette/estafette-ci-builder:cache-master --tag estafette/estafette-ci-builder:0.0.655-gocd --file publish/Dockerfile.gocd ./publish\u001b[0m\n"},{"line":136,"timestamp":"2020-05-01T12:53:26.711046398Z","streamType":"stdout","text":"Sending build context to Docker daemon  18.42MB\r\r\n"},{"line":137,"timestamp":"2020-05-01T12:53:26.726864764Z","streamType":"stdout","text":"Step 1/7 : FROM travix/gocd-agent:20.3.0-alpine\n"},{"line":138,"timestamp":"2020-05-01T12:53:26.727085324Z","streamType":"stdout","text":" ---\u003e 2677f293c676\n"},{"line":139,"timestamp":"2020-05-01T12:53:26.727098776Z","streamType":"stdout","text":"Step 2/7 : MAINTAINER estafette.io\n"},{"line":140,"timestamp":"2020-05-01T12:53:31.094837619Z","streamType":"stdout","text":" ---\u003e Running in 93c063792be1\n"},{"line":141,"timestamp":"2020-05-01T12:53:31.200522899Z","streamType":"stdout","text":"Removing intermediate container 93c063792be1\n"},{"line":142,"timestamp":"2020-05-01T12:53:31.200532193Z","streamType":"stdout","text":" ---\u003e 7016572b5b1e\n"},{"line":143,"timestamp":"2020-05-01T12:53:31.200537734Z","streamType":"stdout","text":"Step 3/7 : LABEL maintainer=\"estafette.io\"       description=\"The estafette-ci-builder is the component that runs builds as defined in the .estafette.yaml manifest\"\n"},{"line":144,"timestamp":"2020-05-01T12:53:31.321401058Z","streamType":"stdout","text":" ---\u003e Running in b506ac05290c\n"},{"line":145,"timestamp":"2020-05-01T12:53:31.532535373Z","streamType":"stdout","text":"Removing intermediate container b506ac05290c\n"},{"line":146,"timestamp":"2020-05-01T12:53:31.532549217Z","streamType":"stdout","text":" ---\u003e 8961fe732113\n"},{"line":147,"timestamp":"2020-05-01T12:53:31.532552Z","streamType":"stdout","text":"Step 4/7 : RUN mkdir -p /estafette-entrypoints\n"},{"line":148,"timestamp":"2020-05-01T12:53:31.773499109Z","streamType":"stdout","text":" ---\u003e Running in 704ca581f09d\n"},{"line":149,"timestamp":"2020-05-01T12:53:32.420793498Z","streamType":"stdout","text":"Removing intermediate container 704ca581f09d\n"},{"line":150,"timestamp":"2020-05-01T12:53:32.420807775Z","streamType":"stdout","text":" ---\u003e 3d9a7bd271c9\n"},{"line":151,"timestamp":"2020-05-01T12:53:32.420923772Z","streamType":"stdout","text":"Step 5/7 : COPY estafette-ci-builder /usr/bin/\n"},{"line":152,"timestamp":"2020-05-01T12:53:32.800980269Z","streamType":"stdout","text":" ---\u003e e82fc3285eed\n"},{"line":153,"timestamp":"2020-05-01T12:53:32.801056826Z","streamType":"stdout","text":"Step 6/7 : COPY templates /entrypoint-templates\n"},{"line":154,"timestamp":"2020-05-01T12:53:32.978028252Z","streamType":"stdout","text":" ---\u003e 5900ebaf96f0\n"},{"line":155,"timestamp":"2020-05-01T12:53:32.978044453Z","streamType":"stdout","text":"Step 7/7 : ENV ESTAFETTE_CI_SERVER=\"gocd\"     DOCKER_API_VERSION=\"1.38\"     ESTAFETTE_LOG_FORMAT=\"console\"\n"},{"line":156,"timestamp":"2020-05-01T12:53:33.144742744Z","streamType":"stdout","text":" ---\u003e Running in 0b43902e84c9\n"},{"line":157,"timestamp":"2020-05-01T12:53:33.239683828Z","streamType":"stdout","text":"Removing intermediate container 0b43902e84c9\n"},{"line":158,"timestamp":"2020-05-01T12:53:33.239697485Z","streamType":"stdout","text":" ---\u003e ec076284edaa\n"},{"line":159,"timestamp":"2020-05-01T12:53:33.243770956Z","streamType":"stdout","text":"Successfully built ec076284edaa\n"},{"line":160,"timestamp":"2020-05-01T12:53:33.251359962Z","streamType":"stdout","text":"Successfully tagged estafette/estafette-ci-builder:cache-master\n"},{"line":161,"timestamp":"2020-05-01T12:53:33.257493335Z","streamType":"stdout","text":"Successfully tagged estafette/estafette-ci-builder:0.0.655-gocd\n"},{"line":162,"timestamp":"2020-05-01T12:53:33.25922691Z","streamType":"stdout","text":"Updating trivy vulnerabilities database...\n"},{"line":163,"timestamp":"2020-05-01T12:53:33.259241847Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e /trivy --light --download-db-only --cache-dir /trivy-cache estafette/estafette-ci-builder:0.0.655-gocd\u001b[0m\n"},{"line":164,"timestamp":"2020-05-01T12:53:33.2772563Z","streamType":"stdout","text":"Scanning container image estafette/estafette-ci-builder:0.0.655-gocd for vulnerabilities of severities CRITICAL...\n"},{"line":165,"timestamp":"2020-05-01T12:53:33.277278469Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e /trivy --severity CRITICAL --light --skip-update --no-progress --exit-code 15 --ignore-unfixed --cache-dir /trivy-cache estafette/estafette-ci-builder:0.0.655-gocd\u001b[0m\n"},{"line":166,"timestamp":"2020-05-01T12:53:35.033151504Z","streamType":"stdout","text":"2020-05-01T12:53:35.032Z\t\u001b[31mFATAL\u001b[0m\tunable to initialize the docker scanner: unable to initialize a image struct: unable to access the remote image (index.docker.io/estafette/estafette-ci-builder:0.0.655-gocd): GET https://index.docker.io/v2/estafette/estafette-ci-builder/manifests/0.0.655-gocd: MANIFEST_UNKNOWN: manifest unknown; map[Tag:0.0.655-gocd]\n"},{"line":167,"timestamp":"2020-05-01T12:53:35.03563996Z","streamType":"stdout","text":"Ignoring Unknown OS error\n"}],"exitCode":0,"status":"SUCCEEDED"}]},{"step":"dive-and-trivy-all","image":null,"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED","nestedSteps":[{"step":"dive","depth":1,"image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"dive-gocd-agent","depth":1,"image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"trivy","depth":1,"image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"trivy-gocd-agent","depth":1,"image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"}]},{"step":"clean-working-directory","image":{"name":"golang","tag":"1.14.0-alpine3.11","isPulled":false,"imageSize":0,"pullDuration":0},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"test","image":{"name":"estafette/estafette-ci-builder","tag":"${ESTAFETTE_BUILD_VERSION}","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"push-all","image":null,"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED","nestedSteps":[{"step":"push-to-docker-hub","depth":1,"image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"push-gocd-agent-to-docker-hub","depth":1,"image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"}]},{"step":"slack-notify","image":{"name":"extensions/slack-build-status","tag":"dev","isPulled":false,"imageSize":12653738,"pullDuration":1813796933,"isTrusted":true},"duration":1171375421,"logLines":[{"line":1,"timestamp":"2020-05-01T12:53:37.79646898Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-slack-build-status\u001b[0m version \u001b[1m0.1.66\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-03-04T09:34:02Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0me3cdae7bc38d796404b561d6f47e0d28009738c2\n"},{"line":2,"timestamp":"2020-05-01T12:53:37.796474542Z","streamType":"stdout","text":"Unmarshalling credentials...\n"},{"line":3,"timestamp":"2020-05-01T12:53:37.796476511Z","streamType":"stdout","text":"Checking if credential estafette exists...\n"},{"line":4,"timestamp":"2020-05-01T12:53:37.796482106Z","streamType":"stdout","text":"Checking credential slack-webhook-estafette for workspace estafette...\n"},{"line":5,"timestamp":"2020-05-01T12:53:37.796483235Z","streamType":"stdout","text":"Found credential slack-webhook-estafette for workspace estafette\n"},{"line":6,"timestamp":"2020-05-01T12:53:38.021653561Z","streamType":"stdout","text":"Finished estafette-extension-slack-build-status...\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"set-build-status","image":null,"duration":1367138147,"logLines":[{"line":1,"timestamp":"2020-05-01T12:53:38.976250143Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-github-status\u001b[0m version \u001b[1m0.1.46\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-03-04T09:32:11Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m6db9d43ca763f9104293785ed2c594320dd7946a\n"},{"line":2,"timestamp":"2020-05-01T12:53:38.976258092Z","streamType":"stdout","text":"Setting logs url https://estafette.travix.com/pipelines/github.com/estafette/estafette-ci-builder/builds/551377785930711050/logs\n"},{"line":3,"timestamp":"2020-05-01T12:53:39.404890439Z","streamType":"stdout","text":"Received successful response for 'https://api.github.com/repos/estafette/estafette-ci-builder/statuses/f67c2706185be18c278f898e078420047b9211d6' Github api call with status code 201\n"},{"line":4,"timestamp":"2020-05-01T12:53:39.404899817Z","streamType":"stdout","text":"Finished estafette-extension-github-status...\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true}]