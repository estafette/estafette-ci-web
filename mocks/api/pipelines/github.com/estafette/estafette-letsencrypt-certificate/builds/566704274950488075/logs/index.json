[{"step":"builder-info","image":null,"duration":0,"logLines":[{"line":1,"timestamp":"2020-06-24T16:07:05.184276042Z","streamType":"stdout","text":"Starting \u001b[1mestafette-ci-builder\u001b[0m version \u001b[1m0.0.668\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-06-10T07:39:03Z \u001b[36mgoVersion=\u001b[0mgo1.14.4 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0mab1a5c2aff260d906d2ba4ae93e8897b83543b78"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true},{"step":"initialize","image":null,"duration":6574939832,"logLines":null,"exitCode":0,"status":"SUCCEEDED","autoInjected":true,"nestedSteps":[{"step":"git-clone","depth":1,"image":{"name":"extensions/git-clone","tag":"dev","isPulled":false,"imageSize":33645729,"pullDuration":2629045010,"isTrusted":true,"hasInjectedCredentials":true},"duration":3943045990,"logLines":[{"line":1,"timestamp":"2020-06-24T16:07:08.768987934Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-git-clone\u001b[0m version \u001b[1m0.1.81\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-04-01T15:00:17Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m50245b030d6c4f5911a8332aeef550ca39da8115\n"},{"line":2,"timestamp":"2020-06-24T16:07:08.768996602Z","streamType":"stdout","text":"Unmarshalling injected github api token credentials\n"},{"line":3,"timestamp":"2020-06-24T16:07:08.769000462Z","streamType":"stdout","text":"Cloning git repository estafette-letsencrypt-certificate to branch watch-for-namespaces and revision 6b80633028e4887174d0910609ed86121465dbea with shallow clone is true and depth 50...\n"},{"line":4,"timestamp":"2020-06-24T16:07:08.769004509Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e git clone --depth=50 --branch=watch-for-namespaces https://x-access-token:***@github.com/estafette/estafette-letsencrypt-certificate /estafette-work\u001b[0m\n"},{"line":5,"timestamp":"2020-06-24T16:07:08.769007353Z","streamType":"stderr","text":"Cloning into '/estafette-work'...\n"},{"line":6,"timestamp":"2020-06-24T16:07:11.494345097Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e git checkout --quiet --force 6b80633028e4887174d0910609ed86121465dbea\u001b[0m\n"},{"line":7,"timestamp":"2020-06-24T16:07:11.49947399Z","streamType":"stdout","text":"Finished cloning git repository estafette-letsencrypt-certificate to branch watch-for-namespaces and revision 6b80633028e4887174d0910609ed86121465dbea with shallow clone is true and depth 50\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true},{"step":"envvars","depth":1,"image":{"name":"extensions/envvars","tag":"dev","isPulled":false,"imageSize":11158339,"pullDuration":2058981282},"duration":1459810479,"logLines":[{"line":1,"timestamp":"2020-06-24T16:07:08.393739511Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-envvars\u001b[0m version \u001b[1m0.1.15\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-03-04T09:29:44Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0ma1eec2828262801647117796b44ee95ed842ef2f\n"},{"line":2,"timestamp":"2020-06-24T16:07:08.393749793Z","streamType":"stdout","text":"All available estafette environment variables; the _DNS_SAFE suffixed ones can be used to set dns labels. Since leading digits are not allowed some of them are empty.\n"},{"line":3,"timestamp":"2020-06-24T16:07:08.393752656Z","streamType":"stdout","text":"ESTAFETTE_BUILD_DATETIME: 2020-06-24T16:07:05Z\n"},{"line":4,"timestamp":"2020-06-24T16:07:08.393764874Z","streamType":"stdout","text":"ESTAFETTE_BUILD_DATETIME_DNS_SAFE: t16-07-05z\n"},{"line":5,"timestamp":"2020-06-24T16:07:08.393766539Z","streamType":"stdout","text":"ESTAFETTE_BUILD_ID: 566704274950488075\n"},{"line":6,"timestamp":"2020-06-24T16:07:08.393768569Z","streamType":"stdout","text":"ESTAFETTE_BUILD_ID_DNS_SAFE: \n"},{"line":7,"timestamp":"2020-06-24T16:07:08.393770086Z","streamType":"stdout","text":"ESTAFETTE_BUILD_STATUS: succeeded\n"},{"line":8,"timestamp":"2020-06-24T16:07:08.393771731Z","streamType":"stdout","text":"ESTAFETTE_BUILD_STATUS_DNS_SAFE: succeeded\n"},{"line":9,"timestamp":"2020-06-24T16:07:08.393773916Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION: 1.2.6-watch-for-namespaces-194\n"},{"line":10,"timestamp":"2020-06-24T16:07:08.393775655Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_DNS_SAFE: watch-for-namespaces-194\n"},{"line":11,"timestamp":"2020-06-24T16:07:08.393784006Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_LABEL: watch-for-namespaces-194\n"},{"line":12,"timestamp":"2020-06-24T16:07:08.39378662Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_LABEL_DNS_SAFE: watch-for-namespaces-194\n"},{"line":13,"timestamp":"2020-06-24T16:07:08.393788055Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MAJOR: 1\n"},{"line":14,"timestamp":"2020-06-24T16:07:08.393789176Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MAJOR_DNS_SAFE: \n"},{"line":15,"timestamp":"2020-06-24T16:07:08.393790757Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MINOR: 2\n"},{"line":16,"timestamp":"2020-06-24T16:07:08.393797202Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MINOR_DNS_SAFE: \n"},{"line":17,"timestamp":"2020-06-24T16:07:08.39380032Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_PATCH: 194\n"},{"line":18,"timestamp":"2020-06-24T16:07:08.393801898Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_PATCH_DNS_SAFE: \n"},{"line":19,"timestamp":"2020-06-24T16:07:08.393808631Z","streamType":"stdout","text":"ESTAFETTE_CI_SERVER_BASE_URL: https://estafette.***.com/\n"},{"line":20,"timestamp":"2020-06-24T16:07:08.393810567Z","streamType":"stdout","text":"ESTAFETTE_CI_SERVER_BASE_URL_DNS_SAFE: https-estafette-***-com\n"},{"line":21,"timestamp":"2020-06-24T16:07:08.39381207Z","streamType":"stdout","text":"ESTAFETTE_EXTENSION_CUSTOM_PROPERTIES: null\n"},{"line":22,"timestamp":"2020-06-24T16:07:08.393817784Z","streamType":"stdout","text":"ESTAFETTE_EXTENSION_CUSTOM_PROPERTIES_YAML: {}\n"},{"line":23,"timestamp":"2020-06-24T16:07:08.393819055Z","streamType":"stdout","text":"\n"},{"line":24,"timestamp":"2020-06-24T16:07:08.393823693Z","streamType":"stdout","text":"ESTAFETTE_GIT_BRANCH: watch-for-namespaces\n"},{"line":25,"timestamp":"2020-06-24T16:07:08.393830031Z","streamType":"stdout","text":"ESTAFETTE_GIT_BRANCH_DNS_SAFE: watch-for-namespaces\n"},{"line":26,"timestamp":"2020-06-24T16:07:08.393836306Z","streamType":"stdout","text":"ESTAFETTE_GIT_FULLNAME: estafette/estafette-letsencrypt-certificate\n"},{"line":27,"timestamp":"2020-06-24T16:07:08.39383824Z","streamType":"stdout","text":"ESTAFETTE_GIT_FULLNAME_DNS_SAFE: estafette-estafette-letsencrypt-certificate\n"},{"line":28,"timestamp":"2020-06-24T16:07:08.393844032Z","streamType":"stdout","text":"ESTAFETTE_GIT_NAME: estafette-letsencrypt-certificate\n"},{"line":29,"timestamp":"2020-06-24T16:07:08.39384609Z","streamType":"stdout","text":"ESTAFETTE_GIT_NAME_DNS_SAFE: estafette-letsencrypt-certificate\n"},{"line":30,"timestamp":"2020-06-24T16:07:08.393935801Z","streamType":"stdout","text":"ESTAFETTE_GIT_OWNER: estafette\n"},{"line":31,"timestamp":"2020-06-24T16:07:08.393952541Z","streamType":"stdout","text":"ESTAFETTE_GIT_OWNER_DNS_SAFE: estafette\n"},{"line":32,"timestamp":"2020-06-24T16:07:08.393954321Z","streamType":"stdout","text":"ESTAFETTE_GIT_REVISION: 6b80633028e4887174d0910609ed86121465dbea\n"},{"line":33,"timestamp":"2020-06-24T16:07:08.393956242Z","streamType":"stdout","text":"ESTAFETTE_GIT_REVISION_DNS_SAFE: b80633028e4887174d0910609ed86121465dbea\n"},{"line":34,"timestamp":"2020-06-24T16:07:08.393957847Z","streamType":"stdout","text":"ESTAFETTE_GIT_SOURCE: github.com\n"},{"line":35,"timestamp":"2020-06-24T16:07:08.393959359Z","streamType":"stdout","text":"ESTAFETTE_GIT_SOURCE_DNS_SAFE: github-com\n"},{"line":36,"timestamp":"2020-06-24T16:07:08.393961227Z","streamType":"stdout","text":"ESTAFETTE_LABEL_APP_GROUP: estafette-controllers\n"},{"line":37,"timestamp":"2020-06-24T16:07:08.393979067Z","streamType":"stdout","text":"ESTAFETTE_LABEL_APP_GROUP_DNS_SAFE: estafette-controllers\n"},{"line":38,"timestamp":"2020-06-24T16:07:08.393980947Z","streamType":"stdout","text":"ESTAFETTE_LABEL_LANGUAGE: golang\n"},{"line":39,"timestamp":"2020-06-24T16:07:08.393996737Z","streamType":"stdout","text":"ESTAFETTE_LABEL_LANGUAGE_DNS_SAFE: golang\n"},{"line":40,"timestamp":"2020-06-24T16:07:08.39400754Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TEAM: estafette-team\n"},{"line":41,"timestamp":"2020-06-24T16:07:08.394009023Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TEAM_DNS_SAFE: estafette-team\n"},{"line":42,"timestamp":"2020-06-24T16:07:08.394010642Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TYPE: service\n"},{"line":43,"timestamp":"2020-06-24T16:07:08.394012098Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TYPE_DNS_SAFE: service\n"},{"line":44,"timestamp":"2020-06-24T16:07:08.394013455Z","streamType":"stdout","text":"ESTAFETTE_LOG_FORMAT: console\n"},{"line":45,"timestamp":"2020-06-24T16:07:08.394534334Z","streamType":"stdout","text":"ESTAFETTE_STAGES: [{\"Name\":\"initialize\",\"ContainerImage\":\"\",\"Shell\":\"\",\"WorkingDirectory\":\"\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":[{\"Name\":\"git-clone\",\"ContainerImage\":\"extensions/git-clone:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":null},{\"Name\":\"set-pending-build-status\",\"ContainerImage\":\"extensions/github-status:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"status\":\"pending\"}},{\"Name\":\"envvars\",\"ContainerImage\":\"extensions/envvars:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":null}],\"Services\":null,\"CustomProperties\":null},{\"Name\":\"build-lint-and-package\",\"ContainerImage\":\"\",\"Shell\":\"\",\"WorkingDirectory\":\"\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":[{\"Name\":\"build\",\"ContainerImage\":\"golang:1.14.0-alpine3.11\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":[\"go test ./...\",\"go build -a -installsuffix cgo -ldflags \\\"-X main.appgroup=estafette-controllers -X main.app=estafette-letsencrypt-certificate -X main.version=1.2.6-watch-for-namespaces-194 -X main.revision=6b80633028e4887174d0910609ed86121465dbea -X main.branch=watch-for-namespaces -X main.buildDate=2020-06-24T16:07:05Z\\\" -o ./publish/estafette-letsencrypt-certificate .\"],\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":{\"CGO_ENABLED\":\"0\",\"GOOS\":\"linux\"},\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{}},{\"Name\":\"lint-helm-chart\",\"ContainerImage\":\"extensions/helm:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"lint\"}},{\"Name\":\"package-helm-chart\",\"ContainerImage\":\"extensions/helm:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"package\"}}],\"Services\":null,\"CustomProperties\":{}},{\"Name\":\"bake\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"build\",\"copy\":[\"/etc/ssl/certs/ca-certificates.crt\"],\"path\":\"./publish\",\"repositories\":[\"estafette\"]}},{\"Name\":\"check-container\",\"ContainerImage\":\"\",\"Shell\":\"\",\"WorkingDirectory\":\"\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":[{\"Name\":\"check-efficiency\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"dive\",\"repositories\":[\"estafette\"]}},{\"Name\":\"vulnerability-scan\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"trivy\",\"repositories\":[\"estafette\"]}}],\"Services\":null,\"CustomProperties\":{}},{\"Name\":\"push-to-docker-hub\",\"ContainerImage\":\"extensions/docker:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"push\",\"repositories\":[\"estafette\"]}},{\"Name\":\"test-helm-chart\",\"ContainerImage\":\"extensions/helm:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":[{\"Name\":\"kubernetes\",\"ContainerImage\":\"bsycorp/kind:latest-1.12\",\"Shell\":\"/bin/sh\",\"Commands\":null,\"RunCommandsInForeground\":false,\"MultiStage\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"Readiness\":{\"Path\":\"/kubernetes-ready\",\"TimeoutSeconds\":60,\"Port\":10080,\"Protocol\":\"http\",\"Hostname\":\"kubernetes\"},\"CustomProperties\":{}}],\"CustomProperties\":{\"action\":\"test\",\"values\":\"secret:\\n  letsencryptAccountJson: {}\\n  letsencryptAccountKey: abc\\n  cloudflareApiEmail: bot@estafette.io\\n  cloudflareApiKey: abc\"}},{\"Name\":\"clone-charts-repo\",\"ContainerImage\":\"extensions/git-clone:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"branch\":\"master\",\"repo\":\"helm-charts\"}},{\"Name\":\"publish-helm-chart\",\"ContainerImage\":\"extensions/helm:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"publish\"}},{\"Name\":\"slack-notify\",\"ContainerImage\":\"extensions/slack-build-status:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded' || status == 'failed'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"channels\":[\"#build-status\"],\"workspace\":\"estafette\"}},{\"Name\":\"set-build-status\",\"ContainerImage\":\"extensions/github-status:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded' || status == 'failed'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":null}]\n"},{"line":46,"timestamp":"2020-06-24T16:07:08.394537361Z","streamType":"stdout","text":"ESTAFETTE_STAGES_DNS_SAFE: name-initialize-containerimage-shell-workingdirectory-commands\n"},{"line":47,"timestamp":"2020-06-24T16:07:08.394538627Z","streamType":"stdout","text":"ESTAFETTE_STAGE_NAME: envvars\n"},{"line":48,"timestamp":"2020-06-24T16:07:08.394541132Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_BRANCH: watch-for-namespaces\n"},{"line":49,"timestamp":"2020-06-24T16:07:08.394542033Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_BRANCH_DNS_SAFE: watch-for-namespaces\n"},{"line":50,"timestamp":"2020-06-24T16:07:08.394543049Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_EVENT: push\n"},{"line":51,"timestamp":"2020-06-24T16:07:08.394543777Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_EVENT_DNS_SAFE: push\n"},{"line":52,"timestamp":"2020-06-24T16:07:08.394545122Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_REPOSITORY: github.com/estafette/estafette-letsencrypt-certificate\n"},{"line":53,"timestamp":"2020-06-24T16:07:08.394546435Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_GIT_REPOSITORY_DNS_SAFE: github-com-estafette-estafette-letsencrypt-certificate\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true},{"step":"set-pending-build-status","depth":1,"image":{"name":"extensions/github-status","tag":"dev","isPulled":false,"imageSize":12649209,"pullDuration":2812313404,"isTrusted":true,"hasInjectedCredentials":true},"duration":1679963883,"logLines":[{"line":1,"timestamp":"2020-06-24T16:07:08.810599584Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-github-status\u001b[0m version \u001b[1m0.1.46\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-03-04T09:32:11Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m6db9d43ca763f9104293785ed2c594320dd7946a\n"},{"line":2,"timestamp":"2020-06-24T16:07:08.810608304Z","streamType":"stdout","text":"Setting logs url https://estafette.***.com/pipelines/github.com/estafette/estafette-letsencrypt-certificate/builds/566704274950488075/logs\n"},{"line":3,"timestamp":"2020-06-24T16:07:09.39936726Z","streamType":"stdout","text":"Received successful response for 'https://api.github.com/repos/estafette/estafette-letsencrypt-certificate/statuses/6b80633028e4887174d0910609ed86121465dbea' Github api call with status code 201\n"},{"line":4,"timestamp":"2020-06-24T16:07:09.399381483Z","streamType":"stdout","text":"Finished estafette-extension-github-status...\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true}]},{"step":"build-lint-and-package","image":null,"duration":49261615399,"logLines":[{"line":10000,"timestamp":"2020-06-24T16:08:01.021312481Z","streamType":"stderr","text":"Failed with exit code: 2"}],"exitCode":0,"status":"FAILED","nestedSteps":[{"step":"lint-helm-chart","depth":1,"image":{"name":"extensions/helm","tag":"dev","isPulled":false,"imageSize":518394787,"pullDuration":9593640515,"isTrusted":true,"hasInjectedCredentials":true},"duration":11015090694,"logLines":[{"line":1,"timestamp":"2020-06-24T16:07:31.718299745Z","streamType":"stdout","text":"Starting estafette-extension-helm version 0.1.149... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-06-16T07:58:57Z \u001b[36mgoVersion=\u001b[0mgo1.14.2 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0me73acef326f05561f1c032407581c497136ffa57\n"},{"line":2,"timestamp":"2020-06-24T16:07:31.718306211Z","streamType":"stdout","text":"Unmarshalling parameters / custom properties...\n"},{"line":3,"timestamp":"2020-06-24T16:07:31.71830883Z","streamType":"stdout","text":"Setting defaults for parameters that are not set in the manifest...\n"},{"line":4,"timestamp":"2020-06-24T16:07:31.718322811Z","streamType":"stdout","text":"Linting chart estafette-letsencrypt-certificate...\n"},{"line":5,"timestamp":"2020-06-24T16:07:31.718324776Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e helm lint helm/estafette-letsencrypt-certificate\u001b[0m\n"},{"line":6,"timestamp":"2020-06-24T16:07:31.767984661Z","streamType":"stdout","text":"==\u003e Linting helm/estafette-letsencrypt-certificate\n"},{"line":7,"timestamp":"2020-06-24T16:07:31.767996675Z","streamType":"stdout","text":"\n"},{"line":8,"timestamp":"2020-06-24T16:07:31.769478529Z","streamType":"stdout","text":"1 chart(s) linted, 0 chart(s) failed\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"build","depth":1,"image":{"name":"golang","tag":"1.14.0-alpine3.11","isPulled":false,"imageSize":369193709,"pullDuration":14617462546},"duration":34641453875,"logLines":[{"line":1,"timestamp":"2020-06-24T16:07:31.363930634Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e go test ./... \u0026\u001b[0m\n"},{"line":2,"timestamp":"2020-06-24T16:07:32.420394861Z","streamType":"stderr","text":"go: downloading github.com/prometheus/client_golang v1.1.0\n"},{"line":3,"timestamp":"2020-06-24T16:07:32.42041477Z","streamType":"stderr","text":"go: downloading github.com/alecthomas/kingpin v2.2.6+incompatible\n"},{"line":4,"timestamp":"2020-06-24T16:07:32.420950501Z","streamType":"stderr","text":"go: downloading k8s.io/apimachinery v0.17.0\n"},{"line":5,"timestamp":"2020-06-24T16:07:32.420965452Z","streamType":"stderr","text":"go: downloading k8s.io/client-go v0.17.0\n"},{"line":6,"timestamp":"2020-06-24T16:07:32.421440404Z","streamType":"stderr","text":"go: downloading github.com/stretchr/testify v1.4.0\n"},{"line":7,"timestamp":"2020-06-24T16:07:32.421890363Z","streamType":"stderr","text":"go: downloading github.com/go-acme/lego/v3 v3.4.0\n"},{"line":8,"timestamp":"2020-06-24T16:07:32.422300379Z","streamType":"stderr","text":"go: downloading github.com/estafette/estafette-foundation v0.0.57\n"},{"line":9,"timestamp":"2020-06-24T16:07:32.468636697Z","streamType":"stderr","text":"go: downloading github.com/uber/jaeger-client-go v2.20.1+incompatible\n"},{"line":10,"timestamp":"2020-06-24T16:07:32.47925348Z","streamType":"stderr","text":"go: downloading k8s.io/api v0.17.0\n"},{"line":11,"timestamp":"2020-06-24T16:07:32.524056646Z","streamType":"stderr","text":"go: downloading github.com/beorn7/perks v1.0.1\n"},{"line":12,"timestamp":"2020-06-24T16:07:32.537243669Z","streamType":"stderr","text":"go: downloading github.com/logrusorgru/aurora v0.0.0-20191116043053-66b7ad493a23\n"},{"line":13,"timestamp":"2020-06-24T16:07:32.607537807Z","streamType":"stderr","text":"go: downloading github.com/prometheus/common v0.6.0\n"},{"line":14,"timestamp":"2020-06-24T16:07:32.635044898Z","streamType":"stderr","text":"go: downloading github.com/prometheus/procfs v0.0.3\n"},{"line":15,"timestamp":"2020-06-24T16:07:32.689499078Z","streamType":"stderr","text":"go: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1\n"},{"line":16,"timestamp":"2020-06-24T16:07:32.715946454Z","streamType":"stderr","text":"go: downloading github.com/opentracing/opentracing-go v1.1.0\n"},{"line":17,"timestamp":"2020-06-24T16:07:32.720267834Z","streamType":"stderr","text":"go: downloading github.com/pmezard/go-difflib v1.0.0\n"},{"line":18,"timestamp":"2020-06-24T16:07:32.724427804Z","streamType":"stderr","text":"go: downloading github.com/alecthomas/template v0.0.0-20160405071501-a0175ee3bccc\n"},{"line":19,"timestamp":"2020-06-24T16:07:32.728634624Z","streamType":"stderr","text":"go: downloading github.com/rs/zerolog v1.17.2\n"},{"line":20,"timestamp":"2020-06-24T16:07:32.743270412Z","streamType":"stderr","text":"go: downloading golang.org/x/net v0.0.0-20191027093000-83d349e8ac1a\n"},{"line":21,"timestamp":"2020-06-24T16:07:32.747976884Z","streamType":"stderr","text":"go: downloading github.com/alecthomas/units v0.0.0-20151022065526-2efee857e7cf\n"},{"line":22,"timestamp":"2020-06-24T16:07:32.748581877Z","streamType":"stderr","text":"go: downloading github.com/cenkalti/backoff/v4 v4.0.0\n"},{"line":23,"timestamp":"2020-06-24T16:07:32.754165342Z","streamType":"stderr","text":"go: downloading github.com/prometheus/client_model v0.0.0-20190129233127-fd36f4220a90\n"},{"line":24,"timestamp":"2020-06-24T16:07:32.767844882Z","streamType":"stderr","text":"go: downloading go.uber.org/atomic v1.5.1\n"},{"line":25,"timestamp":"2020-06-24T16:07:32.7695932Z","streamType":"stderr","text":"go: downloading k8s.io/klog v1.0.0\n"},{"line":26,"timestamp":"2020-06-24T16:07:32.773707233Z","streamType":"stderr","text":"go: downloading github.com/gogo/protobuf v1.2.2-0.20190723190241-65acae22fc9d\n"},{"line":27,"timestamp":"2020-06-24T16:07:32.790710787Z","streamType":"stderr","text":"go: downloading github.com/uber/jaeger-lib v2.2.0+incompatible\n"},{"line":28,"timestamp":"2020-06-24T16:07:32.794884717Z","streamType":"stderr","text":"go: downloading github.com/google/uuid v1.1.1\n"},{"line":29,"timestamp":"2020-06-24T16:07:32.806040612Z","streamType":"stderr","text":"go: downloading gopkg.in/inf.v0 v0.9.1\n"},{"line":30,"timestamp":"2020-06-24T16:07:32.815904891Z","streamType":"stderr","text":"go: downloading github.com/pkg/errors v0.8.1\n"},{"line":31,"timestamp":"2020-06-24T16:07:32.817303349Z","streamType":"stderr","text":"go: downloading github.com/davecgh/go-spew v1.1.1\n"},{"line":32,"timestamp":"2020-06-24T16:07:32.819131339Z","streamType":"stderr","text":"go: downloading github.com/miekg/dns v1.1.15\n"},{"line":33,"timestamp":"2020-06-24T16:07:32.841906041Z","streamType":"stderr","text":"go: downloading github.com/google/gofuzz v1.0.0\n"},{"line":34,"timestamp":"2020-06-24T16:07:32.853800021Z","streamType":"stderr","text":"go: downloading github.com/cloudflare/cloudflare-go v0.10.2\n"},{"line":35,"timestamp":"2020-06-24T16:07:32.855574572Z","streamType":"stderr","text":"go: downloading gopkg.in/yaml.v2 v2.2.4\n"},{"line":36,"timestamp":"2020-06-24T16:07:32.863119951Z","streamType":"stderr","text":"go: downloading github.com/golang/protobuf v1.3.2\n"},{"line":37,"timestamp":"2020-06-24T16:07:32.901001269Z","streamType":"stderr","text":"go: downloading gopkg.in/square/go-jose.v2 v2.3.1\n"},{"line":38,"timestamp":"2020-06-24T16:07:32.903180859Z","streamType":"stderr","text":"go: downloading github.com/fsnotify/fsnotify v1.4.7\n"},{"line":39,"timestamp":"2020-06-24T16:07:32.933038233Z","streamType":"stderr","text":"go: downloading golang.org/x/crypto v0.0.0-20191011191535-87dc89f01550\n"},{"line":40,"timestamp":"2020-06-24T16:07:33.166949154Z","streamType":"stderr","text":"go: downloading golang.org/x/text v0.3.2\n"},{"line":41,"timestamp":"2020-06-24T16:07:33.208875531Z","streamType":"stderr","text":"go: downloading github.com/googleapis/gnostic v0.0.0-20170729233727-0c5108395e2d\n"},{"line":42,"timestamp":"2020-06-24T16:07:33.209144924Z","streamType":"stderr","text":"go: downloading golang.org/x/sys v0.0.0-20190826190057-c7b8b68b1456\n"},{"line":43,"timestamp":"2020-06-24T16:07:33.31233631Z","streamType":"stderr","text":"go: downloading k8s.io/utils v0.0.0-20200619165400-6e3d28b6ed19\n"},{"line":44,"timestamp":"2020-06-24T16:07:33.446200342Z","streamType":"stderr","text":"go: downloading golang.org/x/oauth2 v0.0.0-20190604053449-0f29369cfe45\n"},{"line":45,"timestamp":"2020-06-24T16:07:33.447026272Z","streamType":"stderr","text":"go: downloading golang.org/x/time v0.0.0-20190921001708-c4c64cad1fd0\n"},{"line":46,"timestamp":"2020-06-24T16:07:33.448021412Z","streamType":"stderr","text":"go: downloading github.com/modern-go/reflect2 v1.0.1\n"},{"line":47,"timestamp":"2020-06-24T16:07:33.449369903Z","streamType":"stderr","text":"go: downloading github.com/json-iterator/go v1.1.8\n"},{"line":48,"timestamp":"2020-06-24T16:07:33.458500732Z","streamType":"stderr","text":"go: downloading sigs.k8s.io/yaml v1.1.0\n"},{"line":49,"timestamp":"2020-06-24T16:07:33.480542337Z","streamType":"stderr","text":"go: downloading github.com/modern-go/concurrent v0.0.0-20180306012644-bacd9c7ef1dd\n"},{"line":50,"timestamp":"2020-06-24T16:07:55.728677481Z","streamType":"stderr","text":"# github.com/estafette/estafette-letsencrypt-certificate [github.com/estafette/estafette-letsencrypt-certificate.test]\n"},{"line":51,"timestamp":"2020-06-24T16:07:55.728690384Z","streamType":"stderr","text":"./main.go:198:57: undefined: k8s\n"},{"line":52,"timestamp":"2020-06-24T16:07:55.728692327Z","streamType":"stderr","text":"./main.go:202:17: undefined: corev1\n"},{"line":53,"timestamp":"2020-06-24T16:07:55.728693561Z","streamType":"stderr","text":"./main.go:203:32: undefined: context\n"},{"line":54,"timestamp":"2020-06-24T16:07:55.72869434Z","streamType":"stderr","text":"./main.go:203:54: undefined: k8s\n"},{"line":55,"timestamp":"2020-06-24T16:07:55.728695191Z","streamType":"stderr","text":"./main.go:211:22: undefined: corev1\n"},{"line":56,"timestamp":"2020-06-24T16:07:55.728695977Z","streamType":"stderr","text":"./main.go:222:21: undefined: k8s\n"},{"line":57,"timestamp":"2020-06-24T16:07:55.728696775Z","streamType":"stderr","text":"./main.go:225:18: undefined: corev1\n"},{"line":58,"timestamp":"2020-06-24T16:07:55.72869741Z","streamType":"stderr","text":"./main.go:226:25: undefined: context\n"},{"line":59,"timestamp":"2020-06-24T16:07:55.728698148Z","streamType":"stderr","text":"./main.go:226:47: undefined: k8s\n"},{"line":60,"timestamp":"2020-06-24T16:07:56.583945717Z","streamType":"stdout","text":"FAIL\tgithub.com/estafette/estafette-letsencrypt-certificate [build failed]\n"},{"line":61,"timestamp":"2020-06-24T16:07:56.583958172Z","streamType":"stdout","text":"FAIL\n"},{"line":10000,"timestamp":"2020-06-24T16:08:01.021295938Z","streamType":"stderr","text":"Failed with exit code: 2"}],"exitCode":0,"status":"FAILED"},{"step":"package-helm-chart","depth":1,"image":{"name":"extensions/helm","tag":"dev","isPulled":false,"imageSize":518394787,"pullDuration":9593165032,"isTrusted":true,"hasInjectedCredentials":true},"duration":10579223406,"logLines":[{"line":1,"timestamp":"2020-06-24T16:07:31.582083453Z","streamType":"stdout","text":"Starting estafette-extension-helm version 0.1.149... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-06-16T07:58:57Z \u001b[36mgoVersion=\u001b[0mgo1.14.2 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0me73acef326f05561f1c032407581c497136ffa57\n"},{"line":2,"timestamp":"2020-06-24T16:07:31.582089948Z","streamType":"stdout","text":"Unmarshalling parameters / custom properties...\n"},{"line":3,"timestamp":"2020-06-24T16:07:31.582101916Z","streamType":"stdout","text":"Setting defaults for parameters that are not set in the manifest...\n"},{"line":4,"timestamp":"2020-06-24T16:07:31.582104953Z","streamType":"stdout","text":"Packaging chart estafette-letsencrypt-certificate with app version 1.2.6-watch-for-namespaces-194 and version 1.2.6-watch-for-namespaces-194...\n"},{"line":5,"timestamp":"2020-06-24T16:07:31.582107409Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e helm package --app-version 1.2.6-watch-for-namespaces-194 --version 1.2.6-watch-for-namespaces-194 --dependency-update helm/estafette-letsencrypt-certificate\u001b[0m\n"},{"line":6,"timestamp":"2020-06-24T16:07:31.634497261Z","streamType":"stdout","text":"Successfully packaged chart and saved it to: /estafette-work/estafette-letsencrypt-certificate-1.2.6-watch-for-namespaces-194.tgz\n"}],"exitCode":0,"status":"SUCCEEDED"}]},{"step":"bake","image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true,"hasInjectedCredentials":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"check-container","image":null,"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED","nestedSteps":[{"step":"check-efficiency","depth":1,"image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true,"hasInjectedCredentials":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"vulnerability-scan","depth":1,"image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true,"hasInjectedCredentials":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"}]},{"step":"push-to-docker-hub","image":{"name":"extensions/docker","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true,"hasInjectedCredentials":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"test-helm-chart","image":{"name":"extensions/helm","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true,"hasInjectedCredentials":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED","services":[{"step":"kubernetes","depth":1,"image":{"name":"bsycorp/kind","tag":"latest-1.12","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true,"hasInjectedCredentials":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"}]},{"step":"clone-charts-repo","image":{"name":"extensions/git-clone","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true,"hasInjectedCredentials":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"publish-helm-chart","image":{"name":"extensions/helm","tag":"dev","isPulled":false,"imageSize":0,"pullDuration":0,"isTrusted":true,"hasInjectedCredentials":true},"duration":0,"logLines":null,"exitCode":0,"status":"SKIPPED"},{"step":"slack-notify","image":{"name":"extensions/slack-build-status","tag":"dev","isPulled":false,"imageSize":12653738,"pullDuration":1994578960,"isTrusted":true,"hasInjectedCredentials":true},"duration":1159892736,"logLines":[{"line":1,"timestamp":"2020-06-24T16:08:03.713097321Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-slack-build-status\u001b[0m version \u001b[1m0.1.66\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-03-04T09:34:02Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0me3cdae7bc38d796404b561d6f47e0d28009738c2\n"},{"line":2,"timestamp":"2020-06-24T16:08:03.713106644Z","streamType":"stdout","text":"Unmarshalling credentials...\n"},{"line":3,"timestamp":"2020-06-24T16:08:03.713109871Z","streamType":"stdout","text":"Checking if credential estafette exists...\n"},{"line":4,"timestamp":"2020-06-24T16:08:03.713126847Z","streamType":"stdout","text":"Checking credential slack-webhook-estafette for workspace estafette...\n"},{"line":5,"timestamp":"2020-06-24T16:08:03.713128713Z","streamType":"stdout","text":"Found credential slack-webhook-estafette for workspace estafette\n"},{"line":6,"timestamp":"2020-06-24T16:08:03.911572148Z","streamType":"stdout","text":"Finished estafette-extension-slack-build-status...\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"set-build-status","image":null,"duration":1397202172,"logLines":[{"line":1,"timestamp":"2020-06-24T16:08:04.826711892Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-github-status\u001b[0m version \u001b[1m0.1.46\u001b[0m... \u001b[36mbranch=\u001b[0mmaster \u001b[36mbuildDate=\u001b[0m2020-03-04T09:32:11Z \u001b[36mgoVersion=\u001b[0mgo1.14 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0m6db9d43ca763f9104293785ed2c594320dd7946a\n"},{"line":2,"timestamp":"2020-06-24T16:08:04.826724654Z","streamType":"stdout","text":"Setting logs url https://estafette.***.com/pipelines/github.com/estafette/estafette-letsencrypt-certificate/builds/566704274950488075/logs\n"},{"line":3,"timestamp":"2020-06-24T16:08:05.313617339Z","streamType":"stdout","text":"Received successful response for 'https://api.github.com/repos/estafette/estafette-letsencrypt-certificate/statuses/6b80633028e4887174d0910609ed86121465dbea' Github api call with status code 201\n"},{"line":4,"timestamp":"2020-06-24T16:08:05.313633536Z","streamType":"stdout","text":"Finished estafette-extension-github-status...\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true}]