[{"step":"builder-info","image":null,"duration":0,"logLines":[{"line":1,"timestamp":"2021-01-18T09:37:17.840201749Z","streamType":"stdout","text":"Starting \u001b[1mestafette-ci-builder\u001b[0m version \u001b[1m0.0.739\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2021-01-15T12:47:32Z \u001b[36mgoVersion=\u001b[0mgo1.15.6 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0meebd96f0490354e9834a8032f31700a90cf37fd2"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true},{"step":"injected-before","image":null,"duration":4070339393,"logLines":null,"exitCode":0,"status":"SUCCEEDED","autoInjected":true,"nestedSteps":[{"step":"envvars","depth":1,"image":{"name":"extensions/envvars","tag":"stable","isPulled":false,"imageSize":8534527,"pullDuration":3360953003},"duration":707922463,"logLines":[{"line":1,"timestamp":"2021-01-18T09:37:21.685833812Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-envvars\u001b[0m version \u001b[1m0.1.22\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2021-01-06T16:49:52Z \u001b[36mgoVersion=\u001b[0mgo1.15.6 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0me13d2409289500abad0529143ed414012180df7b\n"},{"line":2,"timestamp":"2021-01-18T09:37:21.685848666Z","streamType":"stdout","text":"All available estafette environment variables; the _DNS_SAFE suffixed ones can be used to set dns labels. Since leading digits are not allowed some of them are empty.\n"},{"line":3,"timestamp":"2021-01-18T09:37:21.68584989Z","streamType":"stdout","text":"\n"},{"line":4,"timestamp":"2021-01-18T09:37:21.685851984Z","streamType":"stdout","text":"ESTAFETTE_BUILD_CURRENT_COUNTER: 9\n"},{"line":5,"timestamp":"2021-01-18T09:37:21.685853392Z","streamType":"stdout","text":"ESTAFETTE_BUILD_CURRENT_COUNTER_DNS_SAFE: \n"},{"line":6,"timestamp":"2021-01-18T09:37:21.685855516Z","streamType":"stdout","text":"ESTAFETTE_BUILD_DATETIME: 2021-01-18T09:37:02Z\n"},{"line":7,"timestamp":"2021-01-18T09:37:21.685910621Z","streamType":"stdout","text":"ESTAFETTE_BUILD_DATETIME_DNS_SAFE: t09-37-02z\n"},{"line":8,"timestamp":"2021-01-18T09:37:21.685912056Z","streamType":"stdout","text":"ESTAFETTE_BUILD_MAX_COUNTER: 9\n"},{"line":9,"timestamp":"2021-01-18T09:37:21.685913594Z","streamType":"stdout","text":"ESTAFETTE_BUILD_MAX_COUNTER_CURRENT_BRANCH: 9\n"},{"line":10,"timestamp":"2021-01-18T09:37:21.685915825Z","streamType":"stdout","text":"ESTAFETTE_BUILD_MAX_COUNTER_CURRENT_BRANCH_DNS_SAFE: \n"},{"line":11,"timestamp":"2021-01-18T09:37:21.68591707Z","streamType":"stdout","text":"ESTAFETTE_BUILD_MAX_COUNTER_DNS_SAFE: \n"},{"line":12,"timestamp":"2021-01-18T09:37:21.685918289Z","streamType":"stdout","text":"ESTAFETTE_BUILD_STATUS: succeeded\n"},{"line":13,"timestamp":"2021-01-18T09:37:21.685919509Z","streamType":"stdout","text":"ESTAFETTE_BUILD_STATUS_DNS_SAFE: succeeded\n"},{"line":14,"timestamp":"2021-01-18T09:37:21.685920735Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION: 1.2.9-main-220\n"},{"line":15,"timestamp":"2021-01-18T09:37:21.685922018Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_DNS_SAFE: main-220\n"},{"line":16,"timestamp":"2021-01-18T09:37:21.685922955Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_LABEL: main-9\n"},{"line":17,"timestamp":"2021-01-18T09:37:21.685923938Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_LABEL_DNS_SAFE: main-9\n"},{"line":18,"timestamp":"2021-01-18T09:37:21.685925043Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MAJOR: 1\n"},{"line":19,"timestamp":"2021-01-18T09:37:21.685925961Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MAJOR_DNS_SAFE: \n"},{"line":20,"timestamp":"2021-01-18T09:37:21.685926939Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MINOR: 2\n"},{"line":21,"timestamp":"2021-01-18T09:37:21.685929155Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_MINOR_DNS_SAFE: \n"},{"line":22,"timestamp":"2021-01-18T09:37:21.685930443Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_PATCH: 9\n"},{"line":23,"timestamp":"2021-01-18T09:37:21.685931508Z","streamType":"stdout","text":"ESTAFETTE_BUILD_VERSION_PATCH_DNS_SAFE: \n"},{"line":24,"timestamp":"2021-01-18T09:37:21.685933279Z","streamType":"stdout","text":"ESTAFETTE_CI_SERVER_BASE_URL: https://estafette.***.com/\n"},{"line":25,"timestamp":"2021-01-18T09:37:21.685935344Z","streamType":"stdout","text":"ESTAFETTE_CI_SERVER_BASE_URL_DNS_SAFE: https-estafette-***-com\n"},{"line":26,"timestamp":"2021-01-18T09:37:21.685936717Z","streamType":"stdout","text":"ESTAFETTE_EXTENSION_CUSTOM_PROPERTIES: {}\n"},{"line":27,"timestamp":"2021-01-18T09:37:21.685938257Z","streamType":"stdout","text":"ESTAFETTE_EXTENSION_CUSTOM_PROPERTIES_YAML: {}\n"},{"line":28,"timestamp":"2021-01-18T09:37:21.685938942Z","streamType":"stdout","text":"\n"},{"line":29,"timestamp":"2021-01-18T09:37:21.685941072Z","streamType":"stdout","text":"ESTAFETTE_GIT_BRANCH: main\n"},{"line":30,"timestamp":"2021-01-18T09:37:21.685943191Z","streamType":"stdout","text":"ESTAFETTE_GIT_BRANCH_DNS_SAFE: main\n"},{"line":31,"timestamp":"2021-01-18T09:37:21.685946591Z","streamType":"stdout","text":"ESTAFETTE_GIT_FULLNAME: estafette/estafette-letsencrypt-certificate\n"},{"line":32,"timestamp":"2021-01-18T09:37:21.68594965Z","streamType":"stdout","text":"ESTAFETTE_GIT_FULLNAME_DNS_SAFE: estafette-estafette-letsencrypt-certificate\n"},{"line":33,"timestamp":"2021-01-18T09:37:21.685952033Z","streamType":"stdout","text":"ESTAFETTE_GIT_NAME: estafette-letsencrypt-certificate\n"},{"line":34,"timestamp":"2021-01-18T09:37:21.685954479Z","streamType":"stdout","text":"ESTAFETTE_GIT_NAME_DNS_SAFE: estafette-letsencrypt-certificate\n"},{"line":35,"timestamp":"2021-01-18T09:37:21.685956141Z","streamType":"stdout","text":"ESTAFETTE_GIT_OWNER: estafette\n"},{"line":36,"timestamp":"2021-01-18T09:37:21.685958294Z","streamType":"stdout","text":"ESTAFETTE_GIT_OWNER_DNS_SAFE: estafette\n"},{"line":37,"timestamp":"2021-01-18T09:37:21.685961392Z","streamType":"stdout","text":"ESTAFETTE_GIT_REVISION: 6cca01855410808eed638d6df4c6add710c3f012\n"},{"line":38,"timestamp":"2021-01-18T09:37:21.685987303Z","streamType":"stdout","text":"ESTAFETTE_GIT_REVISION_DNS_SAFE: cca01855410808eed638d6df4c6add710c3f012\n"},{"line":39,"timestamp":"2021-01-18T09:37:21.685992925Z","streamType":"stdout","text":"ESTAFETTE_GIT_SOURCE: github.com\n"},{"line":40,"timestamp":"2021-01-18T09:37:21.685995407Z","streamType":"stdout","text":"ESTAFETTE_GIT_SOURCE_DNS_SAFE: github-com\n"},{"line":41,"timestamp":"2021-01-18T09:37:21.685997941Z","streamType":"stdout","text":"ESTAFETTE_LABEL_APP_GROUP: estafette-controllers\n"},{"line":42,"timestamp":"2021-01-18T09:37:21.686012163Z","streamType":"stdout","text":"ESTAFETTE_LABEL_APP_GROUP_DNS_SAFE: estafette-controllers\n"},{"line":43,"timestamp":"2021-01-18T09:37:21.686014089Z","streamType":"stdout","text":"ESTAFETTE_LABEL_LANGUAGE: golang\n"},{"line":44,"timestamp":"2021-01-18T09:37:21.686022274Z","streamType":"stdout","text":"ESTAFETTE_LABEL_LANGUAGE_DNS_SAFE: golang\n"},{"line":45,"timestamp":"2021-01-18T09:37:21.686024679Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TEAM: estafette-team\n"},{"line":46,"timestamp":"2021-01-18T09:37:21.686026154Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TEAM_DNS_SAFE: estafette-team\n"},{"line":47,"timestamp":"2021-01-18T09:37:21.686027875Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TYPE: service\n"},{"line":48,"timestamp":"2021-01-18T09:37:21.686029818Z","streamType":"stdout","text":"ESTAFETTE_LABEL_TYPE_DNS_SAFE: service\n"},{"line":49,"timestamp":"2021-01-18T09:37:21.686031544Z","streamType":"stdout","text":"ESTAFETTE_LOG_FORMAT: console\n"},{"line":50,"timestamp":"2021-01-18T09:37:21.686033336Z","streamType":"stdout","text":"ESTAFETTE_RELEASE_ACTION: \n"},{"line":51,"timestamp":"2021-01-18T09:37:21.686035437Z","streamType":"stdout","text":"ESTAFETTE_RELEASE_ACTION_DNS_SAFE: \n"},{"line":52,"timestamp":"2021-01-18T09:37:21.686038579Z","streamType":"stdout","text":"ESTAFETTE_RELEASE_ID: 625515625139961866\n"},{"line":53,"timestamp":"2021-01-18T09:37:21.686039915Z","streamType":"stdout","text":"ESTAFETTE_RELEASE_ID_DNS_SAFE: \n"},{"line":54,"timestamp":"2021-01-18T09:37:21.686041345Z","streamType":"stdout","text":"ESTAFETTE_RELEASE_NAME: release\n"},{"line":55,"timestamp":"2021-01-18T09:37:21.686043274Z","streamType":"stdout","text":"ESTAFETTE_RELEASE_NAME_DNS_SAFE: release\n"},{"line":56,"timestamp":"2021-01-18T09:37:21.686045987Z","streamType":"stdout","text":"ESTAFETTE_RELEASE_TRIGGERED_BY: varins@***.com\n"},{"line":57,"timestamp":"2021-01-18T09:37:21.686048563Z","streamType":"stdout","text":"ESTAFETTE_RELEASE_TRIGGERED_BY_DNS_SAFE: varins-***-com\n"},{"line":58,"timestamp":"2021-01-18T09:37:21.686103324Z","streamType":"stdout","text":"ESTAFETTE_STAGES: [{\"Name\":\"injected-before\",\"ContainerImage\":\"\",\"Shell\":\"\",\"WorkingDirectory\":\"\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":[{\"Name\":\"envvars\",\"ContainerImage\":\"extensions/envvars:stable\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":true,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{}}],\"Services\":null,\"CustomProperties\":null},{\"Name\":\"clone-charts-repo\",\"ContainerImage\":\"extensions/git-clone:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"branch\":\"main\",\"repo\":\"helm-charts\"}},{\"Name\":\"purge-prerelease-helm-charts\",\"ContainerImage\":\"extensions/helm:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{\"action\":\"purge\",\"repoBranch\":\"main\"}},{\"Name\":\"create-github-release\",\"ContainerImage\":\"extensions/github-release:dev\",\"Shell\":\"/bin/sh\",\"WorkingDirectory\":\"/estafette-work\",\"Commands\":null,\"RunCommandsInForeground\":false,\"When\":\"status == 'succeeded'\",\"EnvVars\":null,\"AutoInjected\":false,\"Retries\":0,\"ParallelStages\":null,\"Services\":null,\"CustomProperties\":{}}]\n"},{"line":59,"timestamp":"2021-01-18T09:37:21.686107947Z","streamType":"stdout","text":"ESTAFETTE_STAGES_DNS_SAFE: name-injected-before-containerimage-shell-workingdirectory-comm\n"},{"line":60,"timestamp":"2021-01-18T09:37:21.686110099Z","streamType":"stdout","text":"ESTAFETTE_STAGE_NAME: envvars\n"},{"line":61,"timestamp":"2021-01-18T09:37:21.686112857Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_MANUAL_USER_ID: varins@***.com\n"},{"line":62,"timestamp":"2021-01-18T09:37:21.686115948Z","streamType":"stdout","text":"ESTAFETTE_TRIGGER_MANUAL_USER_ID_DNS_SAFE: varins-***-com\n"},{"line":63,"timestamp":"2021-01-18T09:37:21.686116873Z","streamType":"stdout","text":"\n"},{"line":64,"timestamp":"2021-01-18T09:37:21.686119578Z","streamType":"stdout","text":"All global envvars as defined in the manifest.\n"},{"line":65,"timestamp":"2021-01-18T09:37:21.68612025Z","streamType":"stdout","text":"\n"},{"line":66,"timestamp":"2021-01-18T09:37:21.6861217Z","streamType":"stdout","text":"HOME: /\n"},{"line":67,"timestamp":"2021-01-18T09:37:21.686123518Z","streamType":"stdout","text":"HOSTNAME: 9004c10c5ff9\n"},{"line":68,"timestamp":"2021-01-18T09:37:21.686126647Z","streamType":"stdout","text":"PATH: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n"}],"exitCode":0,"status":"SUCCEEDED","autoInjected":true}]},{"step":"clone-charts-repo","image":{"name":"extensions/git-clone","tag":"dev","isPulled":false,"imageSize":31813589,"pullDuration":2683904020,"isTrusted":true,"hasInjectedCredentials":true},"duration":3661149411,"logLines":[{"line":1,"timestamp":"2021-01-18T09:37:25.129106233Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-git-clone\u001b[0m version \u001b[1m0.1.93\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2021-01-11T14:50:22Z \u001b[36mgoVersion=\u001b[0mgo1.15.6 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0mc5cb0b43b0141330c5000f5101919c01d3055a50\n"},{"line":2,"timestamp":"2021-01-18T09:37:25.129119924Z","streamType":"stdout","text":"Reading credentials from file at path /credentials/github_api_token.json...\n"},{"line":3,"timestamp":"2021-01-18T09:37:25.129125647Z","streamType":"stdout","text":"Cloning git repository helm-charts to branch main into subdir helm-charts with shallow clone is true and depth 50...\n"},{"line":4,"timestamp":"2021-01-18T09:37:25.129135828Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e git clone --depth=50 --branch=main https://x-access-token:***@github.com/estafette/helm-charts /estafette-work/helm-charts\u001b[0m\n"},{"line":5,"timestamp":"2021-01-18T09:37:25.129138281Z","streamType":"stderr","text":"Cloning into '/estafette-work/helm-charts'...\n"},{"line":6,"timestamp":"2021-01-18T09:37:27.789705839Z","streamType":"stdout","text":"Finished cloning git repository helm-charts to branch main into subdir helm-charts with shallow clone is true and depth 50\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"purge-prerelease-helm-charts","image":{"name":"extensions/helm","tag":"dev","isPulled":false,"imageSize":745570406,"pullDuration":13053591337,"isTrusted":true,"hasInjectedCredentials":true},"duration":1362210212,"logLines":[{"line":1,"timestamp":"2021-01-18T09:37:42.314376568Z","streamType":"stdout","text":"Starting estafette-extension-helm version 0.1.159... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2021-01-11T14:44:26Z \u001b[36mgoVersion=\u001b[0mgo1.15 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0me1482f92b5462b3f92766dd11396f45b2190c8b7\n"},{"line":2,"timestamp":"2021-01-18T09:37:42.314389549Z","streamType":"stdout","text":"Unmarshalling parameters / custom properties...\n"},{"line":3,"timestamp":"2021-01-18T09:37:42.314409211Z","streamType":"stdout","text":"Setting defaults for parameters that are not set in the manifest...\n"},{"line":4,"timestamp":"2021-01-18T09:37:42.314414719Z","streamType":"stdout","text":"Purging pre-release version for chart estafette-letsencrypt-certificate with versions '1.2.9-main-220-.+'...\n"},{"line":5,"timestamp":"2021-01-18T09:37:42.314416739Z","streamType":"stdout","text":"\u001b[38;5;250m\u003e mkdir -p helm-charts/charts\u001b[0m\n"},{"line":6,"timestamp":"2021-01-18T09:37:42.314419037Z","streamType":"stdout","text":"glob: charts/estafette-letsencrypt-certificate-1.2.9-main-220-*.tgz\n"},{"line":7,"timestamp":"2021-01-18T09:37:42.314421207Z","streamType":"stdout","text":"Found 0 files to purge\n"}],"exitCode":0,"status":"SUCCEEDED"},{"step":"create-github-release","image":{"name":"extensions/github-release","tag":"dev","isPulled":false,"imageSize":12161383,"pullDuration":5019045245,"isTrusted":true,"hasInjectedCredentials":true},"duration":1341556855,"logLines":[{"line":1,"timestamp":"2021-01-18T09:37:48.505136958Z","streamType":"stdout","text":"Starting \u001b[1mestafette-extension-github-release\u001b[0m version \u001b[1m0.1.46\u001b[0m... \u001b[36mbranch=\u001b[0mmain \u001b[36mbuildDate=\u001b[0m2021-01-11T14:44:09Z \u001b[36mgoVersion=\u001b[0mgo1.15.6 \u001b[36mos=\u001b[0mlinux \u001b[36mrevision=\u001b[0mb2db4013770be0a1b67b171c9d91d8b94befe10a\n"},{"line":2,"timestamp":"2021-01-18T09:37:48.505146338Z","streamType":"stdout","text":"Unmarshalling parameters...\n"},{"line":3,"timestamp":"2021-01-18T09:37:48.505153302Z","streamType":"stdout","text":"Reading credentials from file at path /credentials/github_api_token.json...\n"},{"line":4,"timestamp":"2021-01-18T09:37:48.505156731Z","streamType":"stdout","text":"Retrieving milestone with title 1.2.9-main-220...\n"},{"line":5,"timestamp":"2021-01-18T09:37:48.730038808Z","streamType":"stdout","text":"Retrieving milestone failed. Please create a milestone with title 1.2.9-main-220 if it does not exist. \u001b[31merror=\u001b[0m\u001b[31m\"No milestone with title 1.2.9-main-220 could be found\"\u001b[0m\n"}],"exitCode":0,"status":"FAILED"}]